Slack Channel Dump
Channel: #toolchain-release-readiness
Channel ID: C04U16VAWL9
Generated: 2025-10-01 23:12:06
Total Messages: 1000
================================================================================

Message 1 - 2023-06-13 13:56
From: Michael Ho
----------------------------------------
Bad idea to copy from the previous release

Message 2 - 2023-06-13 13:56
From: Jim Bair
----------------------------------------
that's what I was told to do :smile:

Message 3 - 2023-06-13 13:56
From: Jim Bair
----------------------------------------
Are we supposed to build up configs from scratch every release?

Message 4 - 2023-06-13 13:57
From: Khaled El-Sayed
----------------------------------------
When I did the diff for 0.13 and 0.14, I got &gt; debugedit-5.0-4.el9 46c47 &gt; hirte-0.3.0-1.el9iv
102c104 &gt; liburing-2.3-2.el9 195c195

Message 5 - 2023-06-13 13:57
From: Khaled El-Sayed
----------------------------------------
I got more than this but these were the new packages, not updates

Message 6 - 2023-06-13 13:58
From: Jim Bair
----------------------------------------
@Ozan Unsal looks like 3 additions

Message 7 - 2023-06-13 13:59
From: Khaled El-Sayed
----------------------------------------
I also got a few cases where there were 2 instances of a package in 0.13 and reduced to 1 instance
in 0.14: &lt; kernel-5.14.0-312.el9 &lt; kernel-automotive-5.14.0-287.250.el9iv &lt;
kernel-automotive-5.14.0-295.258.el9iv --- &gt; kernel-5.14.0-325.el9 &gt;
kernel-automotive-5.14.0-322.285.el9iv 118c119 &lt; libdnf-0.69.0-2.el9 &lt; libdnf-0.69.0-3.el9_2
--- &gt; libdnf-0.69.0-5.el9 141c141 &lt; libgcrypt-1.10.0-10.el9_1 &lt; libgcrypt-1.10.0-9.el9_1
--- &gt; libgcrypt-1.10.0-10.el9_2 180,181c179,180

Message 8 - 2023-06-13 14:00
From: Khaled El-Sayed
----------------------------------------
Don't know if that means anything or not :sweat_smile:

Message 9 - 2023-06-13 14:00
From: Khaled El-Sayed
----------------------------------------
But for the additions, should I add them to `additional_and_filter_packages.conf`?

Message 10 - 2023-06-13 14:01
From: Ozan Unsal
----------------------------------------
liburing is dependency for qemu-img so we can resolve it with pungi. We don't need to add liburing
into `additional_and_filter_packages.conf` . However `hirte` is not dependent to another package, so
we should add it.

Message 11 - 2023-06-13 14:02
From: Ozan Unsal
----------------------------------------
But if we want 100% sure, it is better to add all to the `additional_and_filter_packages.conf` .
Otherwise we should remember which one is dependent etc.

Message 12 - 2023-06-13 14:03
From: Khaled El-Sayed
----------------------------------------
I can add all of them if it's safer

Message 13 - 2023-06-13 14:03
From: Jim Bair
----------------------------------------
release should match 1.0.0-candidate, IMO

Message 14 - 2023-06-13 14:04
From: Jim Bair
----------------------------------------
at least for now

Message 15 - 2023-06-13 14:04
From: Jim Bair
----------------------------------------
@Michael Ho @Hubert Stefanski thoughts?

Message 16 - 2023-06-13 14:04
From: Hubert Stefanski
----------------------------------------
For now yeah

Message 17 - 2023-06-13 14:05
From: Michael Ho
----------------------------------------
Yeah, it should be a snapshot of 1.0.0-candidate

Message 18 - 2023-06-13 14:05
From: Jim Bair
----------------------------------------
@Khaled El-Sayed yep add all 3!

Message 19 - 2023-06-13 14:06
From: Khaled El-Sayed
----------------------------------------
Just to be sure, I'm adding names, no version and release, right?

Message 20 - 2023-06-13 14:06
From: Jim Bair
----------------------------------------
correct

Message 21 - 2023-06-13 14:06
From: Khaled El-Sayed
----------------------------------------
So `debugedit`, `hirte`, `liburing`

Message 22 - 2023-06-13 14:09
From: Jim Bair
----------------------------------------
correct; you'll add them here

Message 23 - 2023-06-13 14:09
From: Jim Bair
----------------------------------------

https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/465/diffs#604dce9e1d2919f75274eb16b0a6a09a91abd572_0_214

Message 24 - 2023-06-13 14:09
From: Jim Bair
----------------------------------------
alphabetically so they're easy to find :slightly_smiling_face:

Message 25 - 2023-06-13 14:11
From: Ozan Unsal
----------------------------------------
+1 Jim

Message 26 - 2023-06-13 14:13
From: Khaled El-Sayed
----------------------------------------

https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/465#2555ea1ae1a862fe02eafa38b2d4795af59c2662

Message 27 - 2023-06-13 14:13
From: Khaled El-Sayed
----------------------------------------
Just pushed the change

Message 28 - 2023-06-13 14:19
From: Jim Bair
----------------------------------------
looks good to me; fwiw our intent is to merge and tag tomorrow morning, but reviews today are
welcomed :smile:

Message 29 - 2023-06-13 14:19
From: Jim Bair
----------------------------------------
after the all hands is fine

Message 30 - 2023-06-13 14:22
From: Ozan Unsal
----------------------------------------
approved :grinning:

Message 31 - 2023-06-13 14:24
From: Michael Ho
----------------------------------------
Good catch, Ozan, on the hirte thing

Message 32 - 2023-06-13 14:24
From: Michael Ho
----------------------------------------
How did you notice it?

Message 33 - 2023-06-13 14:26
From: Jim Bair
----------------------------------------
Ozan is all seeing

Message 34 - 2023-06-13 14:26
From: Jim Bair
----------------------------------------
Though Khaled knew about all 3 before y'all asked :slightly_smiling_face:

Message 35 - 2023-06-13 14:26
From: Jim Bair
----------------------------------------
He brought it up while talking with Juanje

Message 36 - 2023-06-13 14:26
From: Jim Bair
----------------------------------------
which is why we were late to the chatroom party

Message 37 - 2023-06-13 14:26
From: Jim Bair
----------------------------------------
He noticed by listing both tags using `brew`  and diffing the output, fwiw

Message 38 - 2023-06-13 14:28
From: Jim Bair
----------------------------------------
`brew list-tagged rhivos-0.13 | awk '{print $1}' &gt; before` `brew list-tagged rhivos-0.14 | awk
'{print $1}' &gt; after`

Message 39 - 2023-06-13 14:28
From: Jim Bair
----------------------------------------
`diff before after`

Message 40 - 2023-06-13 14:28
From: Jim Bair
----------------------------------------
is more or less how Khaled got there

Message 41 - 2023-06-13 14:34
From: Steve Loranz
----------------------------------------
yes, we want hirte

Message 42 - 2023-06-13 14:34
From: Ozan Unsal
----------------------------------------
I remembered that we added hirte recently, I want to be sure that this is also added to the release.

Message 43 - 2023-06-13 15:00
From: Khaled El-Sayed
----------------------------------------
Compose has been pinned https://issues.redhat.com/browse/RHELCMP-11820

Message 44 - 2023-06-13 16:46
From: Ryan Smith
----------------------------------------
FYSA there are two open MRs that will affect how CAT manifest generation runs tomorrow:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/205
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/208
!205 should fix the empty version string in the manifest repo paths !208 removes RHIVOS-unstable
from the CAT manifest since it's not in use

Message 45 - 2023-06-13 16:46
From: Ryan Smith
----------------------------------------
If anyone has a few minutes to review them

Message 46 - 2023-06-13 18:08
From: Khaled El-Sayed
----------------------------------------
Is anyone around to take a look at
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/207?

Message 47 - 2023-06-13 19:41
From: Steve Loranz
----------------------------------------
revisiting the kernel conversation from earlier… kernel-headers is separate from kernel. So, we
should be able to satisfy glibc-devel without kernel and just tag kernel-automotive and
kernel-headers.

Message 48 - 2023-06-14 02:12
From: Khaled El-Sayed
----------------------------------------
https://issues.redhat.com/browse/RHELBLD-12932
@Sameera Kalgudi was asked to retag the version of git used in the rhel-9.3 compose
(`git-2.39.3-1.el9` -&gt; `git-2.39.3-1_el9_2`). I just checked and the one tagged to our pinned
compose for rhivos-0.14 is the former. Should we also retag it to the newer one?

Message 49 - 2023-06-14 12:03
From: USLACKBOT
----------------------------------------
[No text content]

Message 50 - 2023-06-14 12:54
From: Juanje Ojeda
----------------------------------------
Sorry, I missed this, I was coming back home. I was thinking this morning about this possible issue.
We should be sure that we tag the package from the RHEL compose we pinned, otherwise we'll end up
having these issues. And we should tag those packages instead of repinning, because we pinned a RHEL
compose already tested in the nightly. If not we can end up adding packages from a RHEL compose we
haven't tested yet.

Message 51 - 2023-06-14 12:54
From: Juanje Ojeda
----------------------------------------
I mean, we'll test them in the release pipeline, but I think we should use the latest tested version
and avoid test it on the release day.

Message 52 - 2023-06-14 13:14
From: Juanje Ojeda
----------------------------------------
@Khaled El-Sayed told me that we're late for that, that we have already tagged the candidate and the
0.14 with the new packages. The we should ask to pin the new RHEL compose, but we should trigger now
the nightly, to be sure that those new tagged packages work.

Message 53 - 2023-06-14 14:04
From: Jim Bair
----------------------------------------
Okay, it is 9AM and I am still without coffee

Message 54 - 2023-06-14 14:05
From: Michael Ho
----------------------------------------
Can't you make coffee during the calls?

Message 55 - 2023-06-14 14:05
From: Jim Bair
----------------------------------------
I am going to go solve that and then be back to see how we nudge this down the line

Message 56 - 2023-06-14 14:05
From: Jim Bair
----------------------------------------
Eh it's difficult with 1.25 arms lol

Message 57 - 2023-06-14 14:05
From: Jim Bair
----------------------------------------
we make french press at home; not a set-and-forget drip setup

Message 58 - 2023-06-14 14:05
From: Jim Bair
----------------------------------------
I also argue that if you're distracted during a meeting you're not in the meeting

Message 59 - 2023-06-14 14:06
From: Jim Bair
----------------------------------------
but I can do it with a laptop, but I usually carry the laptop while making coffee; can't in my
current state lol

Message 60 - 2023-06-14 14:06
From: Jim Bair
----------------------------------------
anywho, covfefe calls

Message 61 - 2023-06-14 14:06
From: Jim Bair
----------------------------------------
brb

Message 62 - 2023-06-14 14:08
From: Michael Ho
----------------------------------------
I'm sad there's no covfefe emoji on slack

Message 63 - 2023-06-14 14:09
From: Ryan Smith
----------------------------------------
:covfefe:

Message 64 - 2023-06-14 14:09
From: Ryan Smith
----------------------------------------
dang

Message 65 - 2023-06-14 14:28
From: Jim Bair
----------------------------------------
Real missed opportunity that

Message 66 - 2023-06-14 14:29
From: Jim Bair
----------------------------------------
@Khaled El-Sayed are you able to create the release tag to start the pipelines?

Message 67 - 2023-06-14 14:30
From: Jim Bair
----------------------------------------
If not, I can fire it off but you'll want it for the next one :smile:

Message 68 - 2023-06-14 14:30
From: Khaled El-Sayed
----------------------------------------
I will in a bit

Message 69 - 2023-06-14 14:30
From: Khaled El-Sayed
----------------------------------------
But we’re reusing the latest compose

Message 70 - 2023-06-14 14:30
From: Khaled El-Sayed
----------------------------------------
So I’m just making those changes

Message 71 - 2023-06-14 14:30
From: Jim Bair
----------------------------------------
ah okay, roger that :slightly_smiling_face:

Message 72 - 2023-06-14 14:41
From: Khaled El-Sayed
----------------------------------------
Just making sure, is it ok to trigger the release even before they respond to the ticket to pin the
compose?

Message 73 - 2023-06-14 14:44
From: Jim Bair
----------------------------------------
As long as it's pinned today it's fine

Message 74 - 2023-06-14 14:45
From: Jim Bair
----------------------------------------
it won't be deleted for a few weeks worst case, but I wouldn't want to wait to pin

Message 75 - 2023-06-14 14:45
From: Jim Bair
----------------------------------------
but if the ticket is open I wouldn't wait to tag the release

Message 76 - 2023-06-14 14:53
From: Khaled El-Sayed
----------------------------------------
2 new packages since yesterday's compose ```&gt; libpipeline-1.5.3-4.el9 177,178c180,181 &gt;
man-db-2.9.3-7.el9 206c211```

Message 77 - 2023-06-14 14:53
From: Khaled El-Sayed
----------------------------------------
Adding them to the list in the rhivos repo

Message 78 - 2023-06-14 14:53
From: Jim Bair
----------------------------------------
@Hubert Stefanski @Michael Ho @Ozan Unsal that sound right?

Message 79 - 2023-06-14 14:58
From: Khaled El-Sayed
----------------------------------------
Also could I get some eyes on
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/210?

Message 80 - 2023-06-14 14:59
From: Jim Bair
----------------------------------------
approved by me; one to go :slightly_smiling_face:

Message 81 - 2023-06-14 15:05
From: Juanje Ojeda
----------------------------------------
Approved

Message 82 - 2023-06-14 15:17
From: Khaled El-Sayed
----------------------------------------
Same here https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/466

Message 83 - 2023-06-14 15:17
From: Khaled El-Sayed
----------------------------------------
Don't know why it says I don't need approvals

Message 84 - 2023-06-14 15:20
From: Jim Bair
----------------------------------------
it feels like that repo should also require +2

Message 85 - 2023-06-14 15:20
From: Juanje Ojeda
----------------------------------------
Approved

Message 86 - 2023-06-14 15:20
From: Khaled El-Sayed
----------------------------------------
I feel like it did yesterday but maybe I'm misremembering

Message 87 - 2023-06-14 15:20
From: Jim Bair
----------------------------------------
nah it was open yesterday

Message 88 - 2023-06-14 15:20
From: Juanje Ojeda
----------------------------------------
I think it's because the previous automation

Message 89 - 2023-06-14 15:20
From: Jim Bair
----------------------------------------
I remember thinking it was weird

Message 90 - 2023-06-14 15:21
From: Jim Bair
----------------------------------------
but yeah I think it lets you merge if the automation passes

Message 91 - 2023-06-14 15:21
From: Juanje Ojeda
----------------------------------------
It needed to auto-merge the MRs created by the automation

Message 92 - 2023-06-14 15:21
From: Jim Bair
----------------------------------------
good ol' CI/CD

Message 93 - 2023-06-14 15:22
From: Juanje Ojeda
----------------------------------------
No, no, the automation == the make-lockfile, which was proposing the changes to the lockfile in a MR
and then auto-merge if it passed the pipeline.

Message 94 - 2023-06-14 15:23
From: Jim Bair
----------------------------------------
ahh'

Message 95 - 2023-06-14 15:23
From: Jim Bair
----------------------------------------
so we should probably consider updating that

Message 96 - 2023-06-14 15:23
From: Jim Bair
----------------------------------------
something else for your notes @Khaled El-Sayed :smile:

Message 97 - 2023-06-14 15:25
From: Khaled El-Sayed
----------------------------------------
You mean the release notes?

Message 98 - 2023-06-14 15:25
From: Jim Bair
----------------------------------------
Nah for us internally

Message 99 - 2023-06-14 15:25
From: Jim Bair
----------------------------------------
just "lessons learned" for the team

Message 100 - 2023-06-14 15:25
From: Khaled El-Sayed
----------------------------------------
Ah ok

Message 101 - 2023-06-14 15:25
From: Khaled El-Sayed
----------------------------------------
Hahahaha

Message 102 - 2023-06-14 15:25
From: Jim Bair
----------------------------------------
as the fresh outsider

Message 103 - 2023-06-14 15:25
From: Jim Bair
----------------------------------------
:slightly_smiling_face:

Message 104 - 2023-06-14 15:25
From: Khaled El-Sayed
----------------------------------------
One of many

Message 105 - 2023-06-14 15:26
From: Khaled El-Sayed
----------------------------------------
lessons I mean

Message 106 - 2023-06-14 15:26
From: Jim Bair
----------------------------------------
so once those both merge in, I believe we tag the release and watch automation

Message 107 - 2023-06-14 15:26
From: Khaled El-Sayed
----------------------------------------
Yup

Message 108 - 2023-06-14 15:26
From: Khaled El-Sayed
----------------------------------------
:salute_o7:

Message 109 - 2023-06-14 15:26
From: Jim Bair
----------------------------------------
fingers crossed

Message 110 - 2023-06-14 15:53
From: Ryan Smith
----------------------------------------
FYSA: The CAT manifest generation has a slight bug in it where the repo paths for debug (and maybe
source RPMs) are missing a few children. I just confirmed with Andrew that they should point to the
parent of the `repodata/` and `Packages/` directories. There's a bug fix here:
https://gitlab.cee.redhat.com/automotive/pipe-x/tacocat/-/merge_requests/10

Message 111 - 2023-06-14 15:54
From: Jim Bair
----------------------------------------
I just want to say I adore the project name

Message 112 - 2023-06-14 15:54
From: Jim Bair
----------------------------------------
Literally impossible to forget or confuse it

Message 113 - 2023-06-14 16:05
From: Ryan Smith
----------------------------------------
I appreciate :tacocat:

Message 114 - 2023-06-14 16:05
From: Jim Bair
----------------------------------------
:cat_tap:

Message 115 - 2023-06-14 16:35
From: Khaled El-Sayed
----------------------------------------
Uh oh
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/4329677

Message 116 - 2023-06-14 16:35
From: Khaled El-Sayed
----------------------------------------
It failed building a testing image

Message 117 - 2023-06-14 16:36
From: Jim Bair
----------------------------------------
http://artifacts.osci.redhat.com/testing-farm/b5519133-606a-4a6a-aa3a-b9acd6f66bfe/

Message 118 - 2023-06-14 16:36
From: Jim Bair
----------------------------------------
``` An error occurred (InvalidAMIName.Duplicate) when calling the RegisterImage operation: AMI name
auto-osbuild-qemu-rhel9-qa-ostree-x86_64-4329677.1afc79db is already in use by AMI
ami-039060f3ce6336755 + IMAGE_ID= Shared connection to 10.31.15.86 closed.```

Message 119 - 2023-06-14 16:36
From: Jim Bair
----------------------------------------
Ever seen that one @Juanje Ojeda?

Message 120 - 2023-06-14 16:38
From: Jim Bair
----------------------------------------
@Khaled El-Sayed im inclined to retry just to see what happens

Message 121 - 2023-06-14 16:39
From: Jim Bair
----------------------------------------
Meh I clicked it

Message 122 - 2023-06-14 16:39
From: Jim Bair
----------------------------------------
let's see

Message 123 - 2023-06-14 16:39
From: Jim Bair
----------------------------------------
I suspect the same failure will happen but let's see

Message 124 - 2023-06-14 17:06
From: Juanje Ojeda
----------------------------------------
Hmmmm... that supposed to be fixed

Message 125 - 2023-06-14 17:07
From: Juanje Ojeda
----------------------------------------
Re-try should work, but that error is the typical one we got before when we retied jobs
:thinking_face:

Message 126 - 2023-06-14 17:35
From: Khaled El-Sayed
----------------------------------------
Looks like it passed that job

Message 127 - 2023-06-14 18:14
From: Khaled El-Sayed
----------------------------------------
Just created the RHIVOS0.14 tag (https://gitlab.cee.redhat.com/automotive/rhivos/-/tags/RHIVOS0.14)
and triggered the release :slightly_smiling_face:

Message 128 - 2023-06-14 20:48
From: Khaled El-Sayed
----------------------------------------
Thank you all for your help on RHIVOS0.14! Hope you're ready for more of the same with ER3 :grin:

Message 129 - 2023-06-19 14:43
From: Juanje Ojeda
----------------------------------------
I opened a conversation on the Checklist document about creating the release tag in brew:
https://docs.google.com/document/d/1fH8s7kzalC7db9NF97zIIAXC9LsS5-tSuo-tChNYY3s/edit?disco=AAAAzmpM9UQ
It seems like only @Sameera Kalgudi and @Nisha Saini have permissions to do so. Could we get
permissions for the team? Or at least, to one or two more ppl? If they are not available for the
release, we're blocked. We shouldn't depend on a specific person for something so critical for the
release.

Message 130 - 2023-06-20 10:36
From: Juanje Ojeda
----------------------------------------
@Kanitha Chim I saw this error in a pipeline for one of the MRs for the release. Does it sound
familiar?
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/13262410

Message 131 - 2023-06-20 10:37
From: Kanitha Chim
----------------------------------------
It seems that pylero is not installed

Message 132 - 2023-06-20 10:42
From: Juanje Ojeda
----------------------------------------
Also, this (and what happened yesterday with the pungi container, makes me think that we should
start to pin our containers.

Message 133 - 2023-06-20 10:46
From: Ozan Unsal
----------------------------------------
@Juanje Ojeda I have a question regarding to pinning the compose. I can see the compose in the
latest nightly as `RHEL-9.3.0-20230619.35` . Should I ask to pin this one or wait for tomorrow and
ask today's nightly?

Message 134 - 2023-06-20 12:45
From: Jochen Breuer
----------------------------------------
set the channel topic: Release: ER3 / 21st of June Coordinator : @Khaled El-Sayed Assistant: @Ozan
Unsal
Internal channel for ATC release coordination. Release readiness with a wider audience can be
coordinated in #C04RHEEGY30|!

Message 135 - 2023-06-20 14:06
From: Kanitha Chim
----------------------------------------
@Khaled El-Sayed @Ozan Unsal Maybe we need to change this
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/blob/main/.gitlab/config.yml#L66
to another API set?

Message 136 - 2023-06-20 14:06
From: Kanitha Chim
----------------------------------------
(in a release config?)

Message 137 - 2023-06-20 16:00
From: Ozan Unsal
----------------------------------------
By the way the packages are tagged under rhivos-1.0-er3
(https://brewweb.engineering.redhat.com/brew/taginfo?tagID=126386) release and I documented the
steps that I follow thanks to @Hubert Stefanski for guidance in here
(https://docs.google.com/document/d/1vnpqT1K4vvGvsKtciVOPOvObl4K0DaCzhSb9NYiyFhM/edit#heading=h.13pg37b3epa9)

Message 138 - 2023-06-20 17:39
From: Ozan Unsal
----------------------------------------
Can I get review for this MR (https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/468)?
So it will be ready for tomorrow

Message 139 - 2023-06-21 06:29
From: Ozan Unsal
----------------------------------------
RHEL Compose was successfully pinned. If I get one more approval for this MR
(https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/216),
I will merge and trigger the release pipeline. In addition to @Kanitha Chim suggested to change the
API set in here
(https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/blob/main/.gitlab/config.yml#L66),
should I add this into release config file? If so does anyone know what should be the value?

Message 140 - 2023-06-21 10:20
From: Ozan Unsal
----------------------------------------
Release pipeline was started https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/4401606

Message 141 - 2023-06-21 12:05
From: Juanje Ojeda
----------------------------------------
Just one job (the selftest one) to go :slightly_smiling_face:

Message 142 - 2023-06-21 12:30
From: Juanje Ojeda
----------------------------------------
The job is still running (that job take sooooo long...), but the dir with the release is looking
good :ok_hand: :smile: https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/ER3/

Message 143 - 2023-06-21 12:30
From: Ozan Unsal
----------------------------------------
yup it is soo slow

Message 144 - 2023-06-21 12:41
From: Michael Ho
----------------------------------------
Why is it so slow :thinking_meow: it's just meant to dry-run the download

Message 145 - 2023-06-21 12:41
From: Ozan Unsal
----------------------------------------
now it is finished

Message 146 - 2023-06-21 12:48
From: Juanje Ojeda
----------------------------------------
As the smoke-test for the QDrive3 wasn't integrated yet in the pipeline, I triggered the smoke-test
manually. Ozan added the manual step to the checklist and I triggered. Here is the pipeline:
https://gitlab.cee.redhat.com/automotive/pipe-x/package-level-pipelines/-/pipelines/4403183

Message 147 - 2023-06-21 12:50
From: Ozan Unsal
----------------------------------------
so both ER3 (https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/ER3/) and ER3-rc1
(https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/ER3-rc1/) are ready, should I wait
finishing of the QDrive pipeline to make the announcement?

Message 148 - 2023-06-21 12:51
From: Juanje Ojeda
----------------------------------------
yes

Message 149 - 2023-06-21 12:54
From: Ozan Unsal
----------------------------------------
okay the hardest part is over now I can chill :chillparrot:

Message 150 - 2023-06-21 12:57
From: Ozan Unsal
----------------------------------------
@Miloslav Trmač is TF slow due to dnf5 update as you mentioned?

Message 151 - 2023-06-21 14:12
From: Juanje Ojeda
----------------------------------------
The smoke-test for the QDrive3 is taking a lot longer than expected. It actually passed the tests,
but the TF job got stock while releasing the board. That has nothing to do with the image or our
code, it's an infra issue in their part. It seems like the worker got stuck or something. Here is
the report: http://artifacts.osci.redhat.com/testing-farm/94bcb001-555f-4e43-80b4-3122204491a8/ I
wonder if we should check the step, as the test actually passed, as the logs show :thinking_face:
WDYT?

Message 152 - 2023-06-21 14:29
From: Juanje Ojeda
----------------------------------------
Oh, the TF job was unblocked and now we have the green report :slightly_smiling_face:
http://artifacts.osci.redhat.com/testing-farm/94bcb001-555f-4e43-80b4-3122204491a8/

Message 153 - 2023-06-21 14:40
From: Jochen Breuer
----------------------------------------
Thanks a lot everybody! :thankyou:

Message 154 - 2023-06-21 15:44
From: Miloslav Trmač
----------------------------------------
@Ozan Unsal nope, that has nothing to do with RH ranch

Message 155 - 2023-06-22 14:28
From: Michael Ho
----------------------------------------
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/13327955 The fix
worked, in the future that job (self-test) should only take ~5 minutes to run.

Message 156 - 2023-06-23 12:45
From: Jochen Breuer
----------------------------------------
@Ozan Unsal @Khaled El-Sayed In case you haven’t noticed yet:
https://redhat-internal.slack.com/archives/C04RHEEGY30/p1687521623598999

Message 157 - 2023-06-23 12:47
From: Ozan Unsal
----------------------------------------
Thanks Jochen, I will reply to him. Actually it depends what he wants to update.

Message 158 - 2023-06-23 12:56
From: Ozan Unsal
----------------------------------------
I am not sure whether we should update the kernel? Since, Juanje may repeat the tests again but
wdyt?

Message 159 - 2023-06-23 12:59
From: Ozan Unsal
----------------------------------------
Rachel answered him for the QE and let's see what will happen.

Message 160 - 2023-06-23 13:13
From: Ozan Unsal
----------------------------------------
it seems we don't need to do anything :grin: it is resolved :catjam:

Message 161 - 2023-07-10 08:12
From: Ozan Unsal
----------------------------------------
!here is RHIVOS nightly builds stable again? I guess we should have new release in 2 days according
to
https://docs.engineering.redhat.com/pages/viewpage.action?spaceKey=Automotive&amp;title=RHIVOS+Release+Coordinator+and+Assistant.

Message 162 - 2023-07-10 08:13
From: Kanitha Chim
----------------------------------------
It seems that nightly failed

Message 163 - 2023-07-10 08:14
From: Ozan Unsal
----------------------------------------
so in this case, are we going to make a release or not?

Message 164 - 2023-07-10 08:16
From: Kanitha Chim
----------------------------------------
I guess we will have to see if we can fix by the release date

Message 165 - 2023-07-10 09:35
From: Michael Ho
----------------------------------------
https://dashboard.auto-toolchain.redhat.com/overview

Message 166 - 2023-07-10 09:36
From: Michael Ho
----------------------------------------
The last 5 RHIVOS nightlies were fine

Message 167 - 2023-07-10 09:36
From: Michael Ho
----------------------------------------
The AutoSD nightly is having infra issues

Message 168 - 2023-07-10 09:37
From: Ozan Unsal
----------------------------------------
so it seems we can do the release

Message 169 - 2023-07-10 09:39
From: Michael Ho
----------------------------------------
:+1:

Message 170 - 2023-07-10 11:12
From: Ozan Unsal
----------------------------------------
set the channel topic: Release: RHIVOS0.15 / 12th of July Coordinator : @Ozan Unsal Assistant:
@Marcin Sobczyk
Internal channel for ATC release coordination. Release readiness with a wider audience can be
coordinated in #C04RHEEGY30|!

Message 171 - 2023-07-10 13:39
From: Jim Bair
----------------------------------------
If either of you have any questions. ask here and we'll be happy to help :slightly_smiling_face:

Message 172 - 2023-07-10 13:55
From: Marcin Sobczyk
----------------------------------------
@Sameera Kalgudi hi, I just tried creating a brew tag, but I don't think I have permissions to do
that, could you please create a `rhivos-0.15` for the release process?

Message 173 - 2023-07-10 14:06
From: Sameera Kalgudi
----------------------------------------
Hi @Marcin Sobczyk, Sure will create it.

Message 174 - 2023-07-10 14:09
From: Marcin Sobczyk
----------------------------------------
thank you!

Message 175 - 2023-07-10 14:11
From: Sameera Kalgudi
----------------------------------------
```$ brew add-tag rhivos-0.15 $ brew taginfo rhivos-0.15 Tag: rhivos-0.15 [127248] Arches: Groups:
Maven support?: no Include all Maven archives?: no Tag options: Inheritance:``` rhivos-0.15 tag has
been created.

Message 176 - 2023-07-10 14:14
From: Sameera Kalgudi
----------------------------------------
Just an update, brew permissions has been granted to @Ozan Unsal @Ryan Smith and @Steve Loranz as a
backup when I'm not available. Please let me know if you guys have any issues.
https://issues.redhat.com/browse/RHELBLD-13145

Message 177 - 2023-07-10 14:16
From: Ozan Unsal
----------------------------------------
Thank you Sameera for the update :+1:

Message 178 - 2023-07-11 08:03
From: Ozan Unsal
----------------------------------------
Hi @Michael Ho when I check the dashboard (https://dashboard.auto-toolchain.redhat.com/overview), it
says nightly builds fail. But when I check the pipeline
(https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines?source=schedule)
it seems it is ok. Do you know is there an error?

Message 179 - 2023-07-11 08:26
From: Michael Ho
----------------------------------------
@Ozan Unsal The nightly for last night didn't run

Message 180 - 2023-07-11 08:26
From: Michael Ho
----------------------------------------
Latest scheduled pipeline was from: `Started: 2023-07-10T02:30:37Z`

Message 181 - 2023-07-11 08:28
From: Michael Ho
----------------------------------------
Not sure what happened. I'll just manually kick the scheduled pipeline.

Message 182 - 2023-07-11 08:28
From: Ozan Unsal
----------------------------------------
thank you Michael for the update

Message 183 - 2023-07-11 08:29
From: Michael Ho
----------------------------------------
The scheduled pipeline won't run. I guess a recent MR broke the gitlab-ci yaml

Message 184 - 2023-07-11 08:30
From: Ozan Unsal
----------------------------------------
ohhh I see this error ```Unable to create pipeline !reference [".run_on_lockfile_tag"] could not be
found```

Message 185 - 2023-07-11 08:30
From: Michael Ho
----------------------------------------
Right, we need to probably merge Ryan's MRs...

Message 186 - 2023-07-11 08:31
From: Michael Ho
----------------------------------------
i.e.
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/230

Message 187 - 2023-07-11 08:31
From: Ozan Unsal
----------------------------------------
yup, this rule was updated in the MR so let's merge it

Message 188 - 2023-07-11 08:32
From: Michael Ho
----------------------------------------
I clicked Merge

Message 189 - 2023-07-11 08:49
From: Michael Ho
----------------------------------------
scheduled pipeline running, lets see

Message 190 - 2023-07-11 10:47
From: Ryan Smith
----------------------------------------
There's !229 as well that's less urgent but should still go as well

Message 191 - 2023-07-11 10:48
From: Ryan Smith
----------------------------------------
I didn't have enough approvals when I logged off yesterday so they were just sort of hanging out,
thanks for merging

Message 192 - 2023-07-11 10:49
From: Ozan Unsal
----------------------------------------
!229 is already merged :grinning:

Message 193 - 2023-07-11 10:52
From: Michael Ho
----------------------------------------
It was weird, I clicked to merge !230 and it auto-merged !229 despite not having enough reviews...

Message 194 - 2023-07-11 10:53
From: Michael Ho
----------------------------------------
But que sera, sera

Message 195 - 2023-07-11 10:53
From: Ryan Smith
----------------------------------------
O_o

Message 196 - 2023-07-11 10:53
From: Michael Ho
----------------------------------------
I said, que sera, sera :meow_fingerguns:

Message 197 - 2023-07-11 10:53
From: Juanje Ojeda
----------------------------------------
Michael has secret powers...

Message 198 - 2023-07-11 10:53
From: Ryan Smith
----------------------------------------
:meow_fingerguns:

Message 199 - 2023-07-11 10:55
From: Ozan Unsal
----------------------------------------
double merge :hackerman:

Message 200 - 2023-07-11 16:01
From: Ozan Unsal
----------------------------------------
In this pipeline
(https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/4608670),
`selftest-profuct-build` failed, due to not finding the `non-sample-images` . Did we stop building
the non-sample-images? I also couldn't see in the pipeline.

Message 201 - 2023-07-11 16:09
From: Michael Ho
----------------------------------------
The config for releases need adjusting to remove that in the selftest

Message 202 - 2023-07-11 16:09
From: Michael Ho
----------------------------------------
(I believe the prior releases adapted that self-test)

Message 203 - 2023-07-11 16:10
From: Michael Ho
----------------------------------------
(this would be helpfully resolved by Juanje's proposal today which was to stop building
non-sample-images downstream)

Message 204 - 2023-07-11 16:20
From: Ozan Unsal
----------------------------------------
But it was failing in the MR
(https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/469#395f87cff0c5fcc27f55feee32b68dc36c6a240c)
of rhivos.git. My assumption is that we need to merge this MR and then we have to merge the release
config MR
(https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/232)

Message 205 - 2023-07-11 16:41
From: Juanje Ojeda
----------------------------------------
Why that pipeline didn't build the non-sample-images? Where that pipeline come from?

Message 206 - 2023-07-11 16:44
From: Ryan Smith
----------------------------------------
was the release config copied from main or from 0.14?

Message 207 - 2023-07-11 16:44
From: Juanje Ojeda
----------------------------------------
I think the problem is this: ``` rules: - if: $DISABLE_BUILD_NON_SAMPLE_IMAGES == "true" when: never
- !reference [.run_on_merge_request] - !reference [.run_on_merge_to_compose_config] - !reference
[.run_on_schedule]```

Message 208 - 2023-07-11 16:44
From: Juanje Ojeda
----------------------------------------
The rules for that job

Message 209 - 2023-07-11 16:45
From: Juanje Ojeda
----------------------------------------
On, no, it has the merge_request :thinking_face:

Message 210 - 2023-07-11 16:47
From: Juanje Ojeda
----------------------------------------
It should work fine on a MR. And the pipeline seems to be from an MR, right?

Message 211 - 2023-07-11 16:48
From: Ozan Unsal
----------------------------------------
It was copied from main @Ryan Smith

Message 212 - 2023-07-11 16:52
From: Ryan Smith
----------------------------------------
@Juanje Ojeda here's the (recently updated) run_on_merge_request rule: ```.run_on_merge_request: -
if: '$CI_PIPELINE_SOURCE == "merge_request_event"' variables: S3_BUCKET_RELEASES:
"${S3_BUCKET_STAGING}" S3_BUCKET_RELEASES_ARCHIVE: "${S3_BUCKET_RELEASES_ARCHIVE_STAGING}" - if:
'$CI_PIPELINE_SOURCE == "pipeline" &amp;&amp; $UPSTREAM_PIPELINE_SOURCE == "merge_request_event"'```

Message 213 - 2023-07-11 16:52
From: Ryan Smith
----------------------------------------
This pipeline should have matched rule 2 there, is there some reason it wouldn't have?

Message 214 - 2023-07-11 16:57
From: Ryan Smith
----------------------------------------
&gt; It was copied from main The reason I ask is because of the presence of `YUM_REPO_URLS`, which
were recently removed from `config.yml` since they're no longer used

Message 215 - 2023-07-11 16:59
From: Ryan Smith
----------------------------------------
Also this
(https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/4609493)
seems to be the most recent pipeline for the 0.15 config MR
(https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/232)
and things there seem fine

Message 216 - 2023-07-11 16:59
From: Ryan Smith
----------------------------------------
Ahhhhh but the pipeline from the MR on rhivos.git is not fine

Message 217 - 2023-07-11 17:00
From: Ozan Unsal
----------------------------------------
Yup that makes me also confused :confused:

Message 218 - 2023-07-11 17:10
From: Ryan Smith
----------------------------------------
I think I've lost it, what's the issue?

Message 219 - 2023-07-11 17:10
From: Ryan Smith
----------------------------------------
non-sample images haven't run for at least the last 3 releases: 0.12:
https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/3734457 0.13:
https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/4017133 0.14:
https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/4317134

Message 220 - 2023-07-11 17:14
From: Ryan Smith
----------------------------------------
But then again neither did self-test-product-build so maybe a rule changed there

Message 221 - 2023-07-11 17:15
From: Juanje Ojeda
----------------------------------------
The trigger in the rhivos.git repo.... ```# First fulfilled "if" catches trigger-pipeline: rules: #
Run pipeline skipping non-sample-images if changes occur to lockfile only #(using DISABLE flag
configured at p-a-c) - if: $CI_PIPELINE_SOURCE == "merge_request_event" variables:
DISABLE_BUILD_NON_SAMPLE_IMAGES: "true" PUNGI_COFIG_REPO: $CI_REPOSITORY_URL PUNGI_CONFIG_REPO_REF:
$CI_COMMIT_REF_NAME # Disable pipeline's run otherwise```

Message 222 - 2023-07-11 17:15
From: Juanje Ojeda
----------------------------------------
It disable the non-sample-images

Message 223 - 2023-07-11 17:16
From: Juanje Ojeda
----------------------------------------
https://gitlab.cee.redhat.com/automotive/rhivos/-/blob/main/.gitlab-ci.yml

Message 224 - 2023-07-11 17:17
From: Juanje Ojeda
----------------------------------------
I think we should just disable the non-sample-images for the whole downstream and be happy
:stuck_out_tongue:

Message 225 - 2023-07-11 17:18
From: Ryan Smith
----------------------------------------
Fair :wink:

Message 226 - 2023-07-11 17:18
From: Ryan Smith
----------------------------------------
But also: this explains it. of course it was the most obvious thing lol

Message 227 - 2023-07-11 17:19
From: Juanje Ojeda
----------------------------------------
yeah

Message 228 - 2023-07-11 17:19
From: Ryan Smith
----------------------------------------
Is selftest-product-build failing the problem we're solving?

Message 229 - 2023-07-11 17:19
From: Juanje Ojeda
----------------------------------------
yep

Message 230 - 2023-07-11 17:19
From: Ryan Smith
----------------------------------------
sorry edited, dk if that changes your answer

Message 231 - 2023-07-11 17:19
From: Juanje Ojeda
----------------------------------------
At least, I thought so :sweat_smile:

Message 232 - 2023-07-11 17:19
From: Ryan Smith
----------------------------------------
Something seems to have changed there, because it didnt run in the past for these pipelines

Message 233 - 2023-07-11 17:20
From: Juanje Ojeda
----------------------------------------
I think that error (caused for that variable in the trigger) was stopping one of the MRs for the
release

Message 234 - 2023-07-11 17:20
From: Ryan Smith
----------------------------------------
The rule updates did it

Message 235 - 2023-07-11 17:21
From: Ryan Smith
----------------------------------------
I wondered why we had both `run_on_merge_request` and then an almost duplicate called
`.run_on_merge_request_pac`

Message 236 - 2023-07-11 17:21
From: Juanje Ojeda
----------------------------------------
I think that job was only running on releases, and @Michael Ho (i think) changed it, so it run for
every pipeline

Message 237 - 2023-07-11 17:22
From: Ryan Smith
----------------------------------------
I think it's because I combined the various `.run_on_merge_request` rules. now its set to run on MRs
to p-a-c or and upstream project

Message 238 - 2023-07-11 17:22
From: Ryan Smith
----------------------------------------
But rather than adding another rule that's some permutation of `.run_on_merge_request`, I think it
should add `- if: DISABLE_BUILD_NON_SAMPLE_IMAGES == "true"` if it depends on that job

Message 239 - 2023-07-11 17:23
From: Ryan Smith
----------------------------------------
Tbh it may have been a bug in the past to not have this run on MRs to upstream projects

Message 240 - 2023-07-11 17:26
From: Juanje Ojeda
----------------------------------------
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/233

Message 241 - 2023-07-11 17:27
From: Juanje Ojeda
----------------------------------------
I think we should disable the non-sample and avoid all this troubles. Mostly for the releases. It's
a big pain.

Message 242 - 2023-07-11 17:27
From: Juanje Ojeda
----------------------------------------
And nobody use them downstream

Message 243 - 2023-07-11 17:27
From: Juanje Ojeda
----------------------------------------
Probably upstream just one or two

Message 244 - 2023-07-11 17:30
From: Ryan Smith
----------------------------------------
Im okay with this, as long as we circle back and clean up after socializing it to the program

Message 245 - 2023-07-11 17:37
From: Ozan Unsal
----------------------------------------
But we need to fix this until tomorrow otherwise we can’t make the release

Message 246 - 2023-07-11 17:38
From: Juanje Ojeda
----------------------------------------
I've just send an email to devel

Message 247 - 2023-07-11 17:39
From: Juanje Ojeda
----------------------------------------
This should fix the issue. Another way is to remove that variable for the trigger

Message 248 - 2023-07-11 17:40
From: Juanje Ojeda
----------------------------------------
Maybe I was a bit blunt in the email :thinking_face: I'm just really think nobody has ever use those
images and we've been waiting time, resources and suffer during the release for no good reason...

Message 249 - 2023-07-11 17:41
From: Juanje Ojeda
----------------------------------------
tbh, I don't even think tell in the list was necessary

Message 250 - 2023-07-11 17:47
From: Ryan Smith
----------------------------------------
We could have gone with the scream test on this, but the email doesn't hurt at all

Message 251 - 2023-07-11 17:47
From: Ryan Smith
----------------------------------------
Give folks a week to respond, and when no one does we can drop em (only downstream?). In the
meantime !233 should help with this release

Message 252 - 2023-07-11 20:02
From: Marcin Sobczyk
----------------------------------------
@Juanje Ojeda I can see you just merged 233, is it safe for me to rebase and retrigger my pipelines?

Message 253 - 2023-07-11 21:05
From: Ryan Smith
----------------------------------------
So far the pipeline looks good, assuming it's green you should be able to do that

Message 254 - 2023-07-12 10:09
From: Juanje Ojeda
----------------------------------------
@Marcin Sobczyk sorry, yes

Message 255 - 2023-07-12 10:32
From: Juanje Ojeda
----------------------------------------
@Marcin Sobczyk BTW, how's the release going? Is there anything else missing? Do you need reviews or
help with anything?

Message 256 - 2023-07-12 10:33
From: Marcin Sobczyk
----------------------------------------
I'm waiting on
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/4617959 to
finish

Message 257 - 2023-07-12 10:34
From: Marcin Sobczyk
----------------------------------------
that's the pipeline for the new tag

Message 258 - 2023-07-12 11:51
From: Juanje Ojeda
----------------------------------------
Is it just me of that me or that pipeline is incomplete? It seems to be missing the final jobs for
promoting the release artifacts :thinking_face: @Ryan Smith maybe some of the changes in the rules?

Message 259 - 2023-07-12 11:52
From: Juanje Ojeda
----------------------------------------
Compare that pipeline with the one from the previous release:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/4401607

Message 260 - 2023-07-12 11:53
From: Juanje Ojeda
----------------------------------------
The current one is missing the whole deploy stage :confused:

Message 261 - 2023-07-12 11:56
From: Ozan Unsal
----------------------------------------
yes there is no deploy stage :face_with_diagonal_mouth:

Message 262 - 2023-07-12 12:05
From: Juanje Ojeda
----------------------------------------
@Marcin Sobczyk qq, did you create the TAG via Gitlab UI or with git locally and pushing it?

Message 263 - 2023-07-12 12:07
From: Juanje Ojeda
----------------------------------------
It should matter, but just to check differences with previous releases. I see the rules for the
deploy jobs (`.run_on_release_tag`) and it seems fine and it doesn't seems changed. Just the var for
the repo tagged (lockfile -&gt; pungi_config)

Message 264 - 2023-07-12 12:10
From: Juanje Ojeda
----------------------------------------
Ok, I know what the problem is. The rule is wrong. We need to compare with the pungi-config project,
not repo. The project is the namespace and the repo is the full URL.

Message 265 - 2023-07-12 12:11
From: Juanje Ojeda
----------------------------------------
I'll create a MR to fix that. @Marcin Sobczyk you'll need to remove the tag, so, after we merge this
new MR, you can create the tag again.

Message 266 - 2023-07-12 12:15
From: Ryan Smith
----------------------------------------
I see now, yes good catch

Message 267 - 2023-07-12 12:18
From: Juanje Ojeda
----------------------------------------
First MR: https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/216

Message 268 - 2023-07-12 12:19
From: Juanje Ojeda
----------------------------------------
We need one upstream and another downstream

Message 269 - 2023-07-12 12:21
From: Juanje Ojeda
----------------------------------------
The second one. This one needs the other to actually works. It should pass fine, but we need to the
other to work while tagging:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/236

Message 270 - 2023-07-12 12:22
From: Marcin Sobczyk
----------------------------------------
@Juanje Ojeda I've created the tag locally and pushed it

Message 271 - 2023-07-12 12:23
From: Juanje Ojeda
----------------------------------------
We normally create the tag in the UI. I don't think it would matter much, but it was to check
differences.

Message 272 - 2023-07-12 12:27
From: Juanje Ojeda
----------------------------------------
@Marcin Sobczyk please remove the tag (you can do it easily in the UI). I set both MRs to auto-merge
when they finish. We'll need to wait until both merge and sync the mirror downstream, to be sure the
mirror has that last change. Then you'll be able to tag it again.

Message 273 - 2023-07-12 12:29
From: Marcin Sobczyk
----------------------------------------
done

Message 274 - 2023-07-12 13:11
From: Juanje Ojeda
----------------------------------------
There is a TF error in the pipeline upstream, in some jobs :confused:
https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/jobs/4639796342 I'll re-try those
jobs, but I pinned also TF in case it keep failing

Message 275 - 2023-07-12 13:54
From: Hubert Stefanski
----------------------------------------
Where can If ind the current process for the release? should it be on Confluence?

Message 276 - 2023-07-12 14:11
From: Juanje Ojeda
----------------------------------------
@Marcin Sobczyk the two MRs have been merged and the downstream mirror is in sync, so you can create
the tag again.

Message 277 - 2023-07-12 14:17
From: Marcin Sobczyk
----------------------------------------
@Juanje Ojeda can I use my local git or should I use UI?

Message 278 - 2023-07-12 14:19
From: Ryan Smith
----------------------------------------
Should be the same result, but I think historically folks have used the UI to create a new tag

Message 279 - 2023-07-12 14:20
From: Marcin Sobczyk
----------------------------------------
done: https://gitlab.cee.redhat.com/automotive/rhivos/-/tags
https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/4620443

Message 280 - 2023-07-12 14:20
From: Marcin Sobczyk
----------------------------------------
bb in ~1h need to pick up my kid

Message 281 - 2023-07-12 14:32
From: Ozan Unsal
----------------------------------------
fusa-certification-assembly was failed in this time
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/13790903

Message 282 - 2023-07-12 15:27
From: Marcin Sobczyk
----------------------------------------
are we good now with the pipelines status?

Message 283 - 2023-07-12 17:23
From: Juanje Ojeda
----------------------------------------
So, the pipeline was a bit stuck. There were a few pipelines running with a lot of jobs and it seems
like some of our jobs were waiting in the queue. I canceled some non-critical pipelines and it seems
now it's moving. Including the re-try for the `environment_information` jobs. Those jobs should work
now, I revert the change on the remote repository, so it should work as before. Let's see if now if
finish

Message 284 - 2023-07-12 17:52
From: Juanje Ojeda
----------------------------------------
The smoke-test for the QDrive3 seems to be taking too much time :confused: I'm worry that it could
make the pipeline time out...
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/13790938

Message 285 - 2023-07-12 17:54
From: Jim Bair
----------------------------------------
well the environment jobs ran at least :slightly_smiling_face:

Message 286 - 2023-07-12 17:54
From: Jim Bair
----------------------------------------
one problem at a time!

Message 287 - 2023-07-12 17:55
From: Juanje Ojeda
----------------------------------------
Yeah, but I saw that already passed, so I was on the next problem hehe

Message 288 - 2023-07-12 18:13
From: Juanje Ojeda
----------------------------------------
It must happened something with the board... :confused: It should be fairy quick test and it's been
running 196 mins... Not sure if cancel the job and re-try would make things better or worst
:thinking_face: It won't cancel the job in Testing Farm, but maybe we're lucky and it tries in
another board and it passes... :thinking_face:

Message 289 - 2023-07-12 18:13
From: Juanje Ojeda
----------------------------------------
Any opinion on that?

Message 290 - 2023-07-12 18:13
From: Jim Bair
----------------------------------------
do we know the timeout of the job?

Message 291 - 2023-07-12 18:14
From: Juanje Ojeda
----------------------------------------
The whole pipeline 4 hours

Message 292 - 2023-07-12 18:14
From: Juanje Ojeda
----------------------------------------
In gitlab, TF has another timeout. Longer

Message 293 - 2023-07-12 18:15
From: Juanje Ojeda
----------------------------------------
The pipeline was running quite some time before this job started, so I guess it has 1 hour more,
maybe?

Message 294 - 2023-07-12 18:15
From: Jim Bair
----------------------------------------
If it should take only a few minutes but we're at 3 hours, I would vote to restart it and see if it
kicks it into gear

Message 295 - 2023-07-12 18:16
From: Jim Bair
----------------------------------------
If the following one takes 3+ hours well we have other problems IMO

Message 296 - 2023-07-12 18:16
From: Jim Bair
----------------------------------------
cancelling a job should kill it instantly but I dunno how they are handling that type of request or
failure

Message 297 - 2023-07-12 18:16
From: Jim Bair
----------------------------------------
This makes me miss the old days of ServerBeach with RapidReboot, where we could remotely power cycle
systems from the portal for when hardware went screwy :stuck_out_tongue:

Message 298 - 2023-07-12 18:17
From: Juanje Ojeda
----------------------------------------
Restarting. I hope this time find a board that is working fine. That part of the infra is still very
unstable :confused:

Message 299 - 2023-07-12 18:19
From: Ozan Unsal
----------------------------------------
If it passes only deployment part is left, hope it passes soon :grin:

Message 300 - 2023-07-12 18:21
From: Jim Bair
----------------------------------------
It sure would be nice if we could watch the console in realtime in testing farm somehow

Message 301 - 2023-07-12 18:21
From: Jim Bair
----------------------------------------
I requested this years ago in OSCI - still waiting :slightly_smiling_face:

Message 302 - 2023-07-12 18:21
From: Juanje Ojeda
----------------------------------------
This is the closest we have:
http://artifacts.osci.redhat.com/testing-farm/7d58ed54-98cb-449b-a3f8-f8fb4110a681/

Message 303 - 2023-07-12 18:22
From: Juanje Ojeda
----------------------------------------
That's the log for the job

Message 304 - 2023-07-12 18:29
From: Jim Bair
----------------------------------------
[32m[18:16:49] [+] [worker_1] [artemis] [d99abae3-a2c3-47e7-a066-4c19ca46c372] Guest is being
provisioned[0m [32m[18:16:49] [+] [worker_1] [artemis] [d99abae3-a2c3-47e7-a066-4c19ca46c372] guest
event log:
http://artifacts.osci.redhat.com/testing-farm/7d58ed54-98cb-449b-a3f8-f8fb4110a681/d99abae3-a2c3-47e7-a066-4c19ca46c372-artemis-guest-log.yaml[0m
[32m[18:16:49] [+] [worker_0] [artemis] [605932f8-5b3b-497f-95b8-a9ee38c398f3] Guest is being
provisioned[0m [32m[18:16:49] [+] [worker_0] [artemis] [605932f8-5b3b-497f-95b8-a9ee38c398f3] guest
event log:
http://artifacts.osci.redhat.com/testing-farm/7d58ed54-98cb-449b-a3f8-f8fb4110a681/605932f8-5b3b-497f-95b8-a9ee38c398f3-artemis-guest-log.yaml[0m

Message 305 - 2023-07-12 18:30
From: Jim Bair
----------------------------------------
Both of those URLs are 404'd for me

Message 306 - 2023-07-12 18:30
From: Jim Bair
----------------------------------------
though it has shell code munged in with the output

Message 307 - 2023-07-12 18:36
From: Juanje Ojeda
----------------------------------------
Yeah, that's normal. I think those files are not created yet. They are created later and are
available, but not yet. It's kind of realtime, but not really

Message 308 - 2023-07-12 18:42
From: Jim Bair
----------------------------------------
yeah; I should be able to see the console like VNC on a VM (somehow) for stuff like this

Message 309 - 2023-07-12 18:42
From: Jim Bair
----------------------------------------
Or at least the realtime output of the terminal/shell/script as it runs; something like that

Message 310 - 2023-07-12 18:42
From: Jim Bair
----------------------------------------
Like grabbing a tmux session and watching it run

Message 311 - 2023-07-12 18:43
From: Jim Bair
----------------------------------------
How many minutes does it normally take? Like 25 or 45?

Message 312 - 2023-07-12 19:07
From: Jim Bair
----------------------------------------
well we're at 50 minutes which makes me think we may have a problem with the board

Message 313 - 2023-07-12 19:07
From: Jim Bair
----------------------------------------
@Simon Walter not sure if you are around and can take a look?

Message 314 - 2023-07-12 19:12
From: Juanje Ojeda
----------------------------------------
Yep. I'd say that something is not right :confused:

Message 315 - 2023-07-12 19:22
From: Jochen Breuer
----------------------------------------
Can somebody please send a message to #C04RHEEGY30| if the release won’t happen today!? Thanks! And
please keep in mind that this is an internal release. So no reason to stay late. Let’s just update
folks, so that it’s not a surprise.

Message 316 - 2023-07-12 19:26
From: Jim Bair
----------------------------------------
I'll ping the channel

Message 317 - 2023-07-12 19:45
From: Simon Walter
----------------------------------------
@Jim Bair, looking...

Message 318 - 2023-07-12 19:45
From: Jim Bair
----------------------------------------
Thanks!

Message 319 - 2023-07-12 20:06
From: Simon Walter
----------------------------------------
Oh, it's qdrive3-direct?

Message 320 - 2023-07-12 20:11
From: Simon Walter
----------------------------------------
As it is semi-manual/semi-blind, let me know when you're going to run tests on qdrive3 pool. Looking
at it now, the service was trying to provision the devices over and over. I'm going to restart the
service and reset the boards. They are probably hung.

Message 321 - 2023-07-12 20:14
From: Simon Walter
----------------------------------------
OK, I see some progress now.

Message 322 - 2023-07-12 20:24
From: Jim Bair
----------------------------------------
interesting; well we have releases on a semi-regular basis

Message 323 - 2023-07-12 20:24
From: Jim Bair
----------------------------------------
for now, we can add pinging you about the board into the checklist. How soon before the test runs
should we ping you (or the team)?

Message 324 - 2023-07-12 20:24
From: Simon Walter
----------------------------------------
Yes, I know it's today, but I thought we were done testing on Qdrive3.

Message 325 - 2023-07-12 20:25
From: Jim Bair
----------------------------------------
Not that I know of; I recall we stopped doing it manually by pinging an engineer (I forget who) as
we were able to do so automatically now

Message 326 - 2023-07-12 20:25
From: Jim Bair
----------------------------------------
but that was the only change around qdrive3 that I recall. But I could have missed a memo

Message 327 - 2023-07-12 20:27
From: Jim Bair
----------------------------------------
I wonder what's causing the boards to hang up. I assume either the boards are faulty or we're doing
something funny in our tests that leave it in a bad state

Message 328 - 2023-07-12 20:27
From: Simon Walter
----------------------------------------
the boards are flakely and sometimes need to be reset. I would like to automate it, but I get
resistance and am told that I should baby sit them.

Message 329 - 2023-07-12 20:28
From: Jim Bair
----------------------------------------
Is there a way to programmatically reset them? even if using like an APC power switch or something?

Message 330 - 2023-07-12 20:28
From: Simon Walter
----------------------------------------
it could be both. I heard other testers experience it sometimes.

Message 331 - 2023-07-12 20:29
From: Simon Walter
----------------------------------------
Yes, there is, but I get resistance when I ask to implement that. Not sure why.

Message 332 - 2023-07-12 20:30
From: Jim Bair
----------------------------------------
That feels contrary (to me, anyway) to the goal of testing farm, unless we're planning to stop
testing against the qdrive in the near (weeks) future

Message 333 - 2023-07-12 20:30
From: Simon Walter
----------------------------------------
There is a command to reset both SOCs that fixes them - gets them running again. So there needs to
me some semaphore mechanism otherwise it would terminate a running test on the other SOC.

Message 334 - 2023-07-12 20:30
From: Jim Bair
----------------------------------------
Thanks for punching it into submission for us all the same today

Message 335 - 2023-07-12 20:31
From: Simon Walter
----------------------------------------
at testing farm, there is no resistance to the idea. The team there barely know what's going on with
the devices.

Message 336 - 2023-07-12 20:34
From: Jim Bair
----------------------------------------
As I understand it, we ask testing farm for the test; I assume if the hardware gets stuck, the reset
should be on the testing farm side

Message 337 - 2023-07-12 20:34
From: Jim Bair
----------------------------------------
Regardless of who writes the code

Message 338 - 2023-07-12 20:34
From: Jim Bair
----------------------------------------
but if not, can we document the steps to reset it if we can't get this fixed upstream?

Message 339 - 2023-07-12 20:36
From: Simon Walter
----------------------------------------
It's not upstream. It's in the automotive gitlab group
https://gitlab.cee.redhat.com/automotive/testing-farm/provisioner

Message 340 - 2023-07-12 20:37
From: Jim Bair
----------------------------------------
so can we reset it ourselves via the provisioner&gt;?

Message 341 - 2023-07-12 20:37
From: Simon Walter
----------------------------------------
But, there should be no tests running when the boards are reset. So it's actually easier for code to
do.

Message 342 - 2023-07-12 20:37
From: Jim Bair
----------------------------------------
Apologies for my lack of familiarity with the separation of duties, but in general, the abstraction
layer confuses me more than it helps.

Message 343 - 2023-07-12 20:38
From: Simon Walter
----------------------------------------
that's where the code should be added.

Message 344 - 2023-07-12 20:38
From: Jim Bair
----------------------------------------
Just trying to find a sustainable way to fix the problem that doesn't involve engineers babysitting
tests

Message 345 - 2023-07-12 20:38
From: Jim Bair
----------------------------------------
I wonder if we can create a JIRA with the steps to at least log the work even if we can prioritize
it today?

Message 346 - 2023-07-12 20:38
From: Jim Bair
----------------------------------------
so we capture what we know

Message 347 - 2023-07-12 20:39
From: Simon Walter
----------------------------------------
I have to ssh into the sidekicks, inspect the serial console, determine if they hung, then check
there are no tests on the other SOC, then execute a command on the sidekick to reset the power.

Message 348 - 2023-07-12 20:40
From: Simon Walter
----------------------------------------
It should written in the code, but when you have team of people to work with, you have to bring
everyone with you - if you know what I mean.

Message 349 - 2023-07-12 20:41
From: Jim Bair
----------------------------------------
all too well :slightly_smiling_face:

Message 350 - 2023-07-12 20:41
From: Jim Bair
----------------------------------------
result: failed. Darn it.

Message 351 - 2023-07-12 20:42
From: Simon Walter
----------------------------------------
http://artifacts.osci.redhat.com/testing-farm/7d58ed54-98cb-449b-a3f8-f8fb4110a681/

Message 352 - 2023-07-12 20:42
From: Simon Walter
----------------------------------------
so it finished hehe yeah

Message 353 - 2023-07-12 20:42
From: Jim Bair
----------------------------------------
"I've got good news and bad news"

Message 354 - 2023-07-12 20:42
From: Jim Bair
----------------------------------------
lol

Message 355 - 2023-07-12 20:42
From: Simon Walter
----------------------------------------
exactly

Message 356 - 2023-07-12 20:43
From: Jim Bair
----------------------------------------
I'm curious if it'll re-run successfully if I try? I expect another failure, but I always like two
runs just to be sure.

Message 357 - 2023-07-12 20:43
From: Jim Bair
----------------------------------------
But since we know the hardware was grumpy, I figure I can ask now :slightly_smiling_face:

Message 358 - 2023-07-12 20:44
From: Simon Walter
----------------------------------------
run it again! let's see

Message 359 - 2023-07-12 20:44
From: Jim Bair
----------------------------------------
roger that

Message 360 - 2023-07-12 20:44
From: Jim Bair
----------------------------------------
Oh nevermind, it's allowed to fail. Well that's neat. lol

Message 361 - 2023-07-12 20:44
From: Jim Bair
----------------------------------------
Let me see if I can find some useful logs here...

Message 362 - 2023-07-12 20:48
From: Jim Bair
----------------------------------------

http://artifacts.osci.redhat.com/testing-farm/7d58ed54-98cb-449b-a3f8-f8fb4110a681/work-[…]/default-0/smoke/tests/boot/systemd_running-1/output.txt
(http://artifacts.osci.redhat.com/testing-farm/7d58ed54-98cb-449b-a3f8-f8fb4110a681/work-testsb4iqdtm4/plans/tests/execute/data/guest/default-0/smoke/tests/boot/systemd_running-1/output.txt)

Message 363 - 2023-07-12 20:48
From: Jim Bair
----------------------------------------
```● aquantia-mac-generator.service loaded failed failed Create network unit file for 10GB Aquantia
NIC```

Message 364 - 2023-07-12 20:49
From: Jim Bair
----------------------------------------
never seen that before. Interesting none the less.

Message 365 - 2023-07-12 20:49
From: Jim Bair
----------------------------------------
http://artifacts.osci.redhat.com/testing-farm/7d58ed54-98cb-449b-a3f8-f8fb4110a681/

Message 366 - 2023-07-12 20:49
From: Jim Bair
----------------------------------------
Prettier in that page I suppose

Message 367 - 2023-07-12 20:50
From: Simon Walter
----------------------------------------
that is a Qdrive3 nic. there is a service that was added
https://gitlab.com/CentOS/automotive/sample-images/-/merge_requests/335

Message 368 - 2023-07-12 20:50
From: Simon Walter
----------------------------------------
sry, older MR

Message 369 - 2023-07-12 20:50
From: Simon Walter
----------------------------------------
but still you can see the line

Message 370 - 2023-07-12 20:50
From: Simon Walter
----------------------------------------
aquantia-mac-generator.service

Message 371 - 2023-07-12 20:50
From: Jim Bair
----------------------------------------
https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS0.15/

Message 372 - 2023-07-12 20:51
From: Jim Bair
----------------------------------------
looks like the pipeline succeeded

Message 373 - 2023-07-12 20:51
From: Simon Walter
----------------------------------------
cool!

Message 374 - 2023-07-12 20:51
From: Simon Walter
----------------------------------------
so that failure was not a blocker? gating?

Message 375 - 2023-07-12 20:52
From: Jim Bair
----------------------------------------
Apparently not, though I'll wait for the team to review tomorrow morning EMEA time

Message 376 - 2023-07-12 20:52
From: Jim Bair
----------------------------------------
I appreciate your help in getting it to run so we can know where things are sooner rather than later

Message 377 - 2023-07-12 20:53
From: Simon Walter
----------------------------------------
I still see some requests queued, but '722bb78d-d6af-4a8c-bcff-5de81fe8563e' is  in error state.

Message 378 - 2023-07-12 20:53
From: Jim Bair
----------------------------------------
A failure from a run is better than a failure to run at all

Message 379 - 2023-07-12 20:54
From: Jim Bair
----------------------------------------
I know there was the 1st attempt to run that never ran; it could be that

Message 380 - 2023-07-12 20:54
From: Simon Walter
----------------------------------------
ok, but it looks like it wasn't from ATC.

Message 381 - 2023-07-12 20:55
From: Jim Bair
----------------------------------------
Oh well that's interesting. But I guess that's the whole purpose of the shared hardware; everyone
can give it a poke :wink:

Message 382 - 2023-07-12 21:00
From: Simon Walter
----------------------------------------
Right now CKI is also trying it out. I would like more stability before we slam the devices with
never ending tests. It shouldn't be a problem. It's "automotive grade" hardware ;)

Message 383 - 2023-07-13 08:28
From: Michael Ho
----------------------------------------
This aquantia-mac-generator.service failure was an issue with the nightly builds now for weeks.
@Juanje Ojeda had more info from Stephen Bertram on that claiming it's a hardware issue and
recommended we make the test "non-blocking" for the nightly. But we never dug too deeply into it to
confirm that..

Message 384 - 2023-07-13 09:15
From: Juanje Ojeda
----------------------------------------
&gt; so that failure was not a blocker? gating? Well, actually it is. As @Michael Ho commented, we
set it as `allow_failure`, so it wouldn't block the nightly, but it should pass as requisite for the
release. I mean, this is a error we have seen before and we're pretty sure it's a HW issue in some
of the boards, and the image boots and can work, so it's kinda ok for the internal release, but
ideally, the job should pass.

Message 385 - 2023-07-13 09:16
From: Michael Ho
----------------------------------------
Have we ever seen it pass on any board though?

Message 386 - 2023-07-13 09:16
From: Juanje Ojeda
----------------------------------------
yes

Message 387 - 2023-07-13 09:17
From: Juanje Ojeda
----------------------------------------
We actually tested and we couldn't reproduce in one board, but we could in another

Message 388 - 2023-07-13 09:17
From: Juanje Ojeda
----------------------------------------
Manually

Message 389 - 2023-07-13 09:22
From: Juanje Ojeda
----------------------------------------
BTW, checking now a qe channel for testing the ER3 release, it seems like they were yesterday doing
testing on the QDrive3 boards and reserving some to do troubleshooting. Probably that's why Simon
found some other job stuck there and why it was hard for out job to find a board to provision
:confused:

Message 390 - 2023-07-13 09:48
From: Michael Ho
----------------------------------------
&gt; We actually tested and we couldn't reproduce in one board, but we could in another Okay, I
wonder what the root issue is

Message 391 - 2023-07-13 10:40
From: Marcin Sobczyk
----------------------------------------
given @Jim Bair’s latest comment in the readiness chat - should I send out an email that the release
is ready?

Message 392 - 2023-07-13 10:44
From: Juanje Ojeda
----------------------------------------
Yeah, I think we should. The QDrive3 image is working. It has some weird known issue in the test,
but it's functional and we've been using the image for running the package tests, so it's working.
I'd say that we should send the email.

Message 393 - 2023-07-13 10:50
From: Marcin Sobczyk
----------------------------------------
[No text content]

Message 394 - 2023-07-13 10:50
From: Marcin Sobczyk
----------------------------------------
do we have some bot for making the announcement?

Message 395 - 2023-07-13 10:50
From: Marcin Sobczyk
----------------------------------------
found that ^^ in the readiness chat

Message 396 - 2023-07-13 11:02
From: Juanje Ojeda
----------------------------------------
I think that's from the CAT team. Not sure, But I think so

Message 397 - 2023-07-13 11:03
From: Marcin Sobczyk
----------------------------------------
ok, I'll just do that manually then

Message 398 - 2023-07-17 15:04
From: Juanje Ojeda
----------------------------------------
@Marcin Sobczyk @Ozan Unsal it seems like we'll need to build a new release candidate (ER3rc2). We
should follow most of the steps from the checklist

Message 399 - 2023-07-17 15:06
From: Ozan Unsal
----------------------------------------
Do we need to follow the steps for the ER3 release checklist or RHIVOS-0.15 checklist? I am asking
since I am not sure whether we should pin the compose. If so which compose should we pin

Message 400 - 2023-07-17 15:07
From: Juanje Ojeda
----------------------------------------
Yep, I think we need to pin the compose, because one of the thing we're going to change are the
package versions

Message 401 - 2023-07-17 15:08
From: Juanje Ojeda
----------------------------------------
Probably the congi files don't need much change (ap¡art from the RHEL compose), but we need to
update the brew tag and the rhel compose

Message 402 - 2023-07-17 15:09
From: Ozan Unsal
----------------------------------------
currently `RHEL-9.3.0-20230715.0` seems to be used in latest nightly

Message 403 - 2023-07-17 15:10
From: Marcin Sobczyk
----------------------------------------
are we making ER3rc2 out of a recent nightly or are we promoting RHIVOS-0.15 to ER3rc2?

Message 404 - 2023-07-17 15:10
From: Hubert Stefanski
----------------------------------------
This would be from `rhivos-1.0.0-candidate`

Message 405 - 2023-07-17 15:10
From: Hubert Stefanski
----------------------------------------
we should have all updated pacakges there now needed for the rebuild

Message 406 - 2023-07-17 15:13
From: Hubert Stefanski
----------------------------------------
confirming, we did tag them
https://brewweb.engineering.redhat.com/brew/tasks?method=tagBuild&amp;owner=auto-toolchain-service-brew&amp;state=all&amp;view=tree&amp;order=-id

Message 407 - 2023-07-17 15:13
From: Juanje Ojeda
----------------------------------------
Let's wait a moment, because there is a discussion about which packages we should update

Message 408 - 2023-07-17 16:21
From: Juanje Ojeda
----------------------------------------
I think we're going to need to update all the missing packages. Could someone do it?

Message 409 - 2023-07-17 16:25
From: Kanitha Chim
----------------------------------------
I recall we have a script to do that. I never did but if someone could share how to do it, I can
help

Message 410 - 2023-07-17 16:37
From: Michael Ho
----------------------------------------
Yeah, where is the "copy one tag to another" script? That should be committed in the workflows repo
so we can make an easy tool to run

Message 411 - 2023-07-17 16:47
From: Juanje Ojeda
----------------------------------------
We could even put it in the project's  snippet, if we don't want to put it in the repo itself.

Message 412 - 2023-07-17 16:49
From: Ozan Unsal
----------------------------------------
I don’t have PC with me but if someone check Release checklist for RHIVOS-0.15 I linked the steps
for this in document

Message 413 - 2023-07-17 16:50
From: Hubert Stefanski
----------------------------------------
the brew-tag step from the brew plugin can do exactly that

Message 414 - 2023-07-17 16:50
From: Hubert Stefanski
----------------------------------------
the details are in Ozan's Doc

Message 415 - 2023-07-17 16:51
From: Hubert Stefanski
----------------------------------------
https://docs.google.com/document/d/1vnpqT1K4vvGvsKtciVOPOvObl4K0DaCzhSb9NYiyFhM/edit?usp=sharing

Message 416 - 2023-07-17 16:58
From: Kanitha Chim
----------------------------------------
Do we need to change anything here? ```# yaml-language-server: $schema=example.schema.json
brew_server: https://brewhub.engineering.redhat.com/brewhub source_tags: - rhivos-1.0.0-candidate -
rhivos-1.0.0-gate target_tag: &lt;GIVE THE TARGET TAG (ex. rhivos-1.0-er3)&gt; workload_urls: -
"https://tiny.distro.builders/workload--automotive-workload-in--automotive-environment--automotive-repositories-c9s--aarch64.json"
-
"https://tiny.distro.builders/workload--automotive-workload-in--automotive-environment--automotive-repositories-c9s--x86_64.json"
-
"https://tiny.distro.builders/workload--automotive-workload-off--automotive-environment--automotive-repositories-c9s--aarch64.json"
-
"https://tiny.distro.builders/workload--automotive-workload-off--automotive-environment--automotive-repositories-c9s--x86_64.json"
package_replacement_mapping: centos-gpg-keys: [ ] centos-logos: - redhat-logos
centos-release-automotive: - redhat-release centos-stream-release: - redhat-release
centos-stream-repos: [ ] dnf: - dnf - librhsm gnupg2: - gnupg2 - openldap-compat
linux-firmware-automotive: - linux-firmware ostree-compliance-mode: [ ] realtime-setup: [ ]
tuned-profiles-realtime: [ ]```

Message 417 - 2023-07-17 17:02
From: Ozan Unsal
----------------------------------------
If the updated builds are tagged with rhivos-1.0.0-candidate tag then you don’t need to change
anything.

Message 418 - 2023-07-17 17:13
From: Kanitha Chim
----------------------------------------
I assume `target tag` is rhivos-0.15

Message 419 - 2023-07-17 17:13
From: Juanje Ojeda
----------------------------------------
It's for the ER3 release

Message 420 - 2023-07-17 17:13
From: Juanje Ojeda
----------------------------------------
For the ER3rc2

Message 421 - 2023-07-17 17:13
From: Juanje Ojeda
----------------------------------------
but not sure what would be the tag name

Message 422 - 2023-07-17 17:14
From: Kanitha Chim
----------------------------------------
I got this resolved packages: ``` resolved_packages: - skopeo-1.13.0-1.el9 - tpm2-tss-3.2.2-2.el9 -
linux-firmware-20230625-137.el9 - libbpf-1.2.0-1.el9 - file-5.39-13.el9 - man-pages-6.04-1.el9 -
kernel-5.14.0-339.el9 - kernel-automotive-5.14.0-339.302.el9iv - glib2-2.68.4-10.el9 -
rpm-4.16.1.3-25.el9 - shadow-utils-4.9-8.el9 - podman-4.6.0-0.1.el9 - yajl-2.1.0-22.el9 -
openssl-3.0.7-24.el9 - cryptsetup-2.6.0-3.el9 - lvm2-2.03.21-3.el9 - systemd-252-16.el9 -
container-selinux-2.219.0-1.el9 - qemu-kvm-8.0.0-7.el9 - libX11-1.7.0-8.el9 - gcc-11.4.1-2.1.el9 -
NetworkManager-1.43.11-1.el9 - libuser-0.63-13.el9 - glibc-2.34-72.el9```

Message 423 - 2023-07-17 17:15
From: Juanje Ojeda
----------------------------------------
Hmmmm... I thought it should resolv tot he same that in here:
https://gitlab.cee.redhat.com/automotive/fences/arca-x/package-level-workflows/-/jobs/13907818

Message 424 - 2023-07-17 17:15
From: Juanje Ojeda
----------------------------------------
``` resolved_packages: - kernel-automotive-5.14.0-339.302.el9iv - glibc-2.34-72.el9 -
systemd-252-16.el9 - gcc-11.4.1-2.1.el9 target_tag: rhivos-1.0.0-candidate```

Message 425 - 2023-07-17 17:16
From: Kanitha Chim
----------------------------------------
maybe different because of container I used? I pulled latest

Message 426 - 2023-07-17 17:20
From: Juanje Ojeda
----------------------------------------
But that job should use also latest :thinking_face:

Message 427 - 2023-07-17 17:21
From: Kanitha Chim
----------------------------------------
what's the difference between ``quay.io/[MASKED]/package-level-workflows:latest
(http://quay.io/[MASKED]/package-level-workflows:latest)` and
`quay.io/automotive-toolchain/brew:latest (http://quay.io/automotive-toolchain/brew:latest)`?

Message 428 - 2023-07-17 17:21
From: Juanje Ojeda
----------------------------------------
good question...

Message 429 - 2023-07-17 17:21
From: Kanitha Chim
----------------------------------------
ahhh I know

Message 430 - 2023-07-17 17:21
From: Kanitha Chim
----------------------------------------
the brew is the plugin

Message 431 - 2023-07-17 17:21
From: Kanitha Chim
----------------------------------------
and the package-level-workflow bundles them together

Message 432 - 2023-07-17 17:22
From: Juanje Ojeda
----------------------------------------
ohhh the p-l-w is the workflow that runs all the plugins... I see

Message 433 - 2023-07-17 17:22
From: Kanitha Chim
----------------------------------------
should I continue the next step?

Message 434 - 2023-07-17 17:23
From: Juanje Ojeda
----------------------------------------
I don't know. I see too many new updates :thinking_face:

Message 435 - 2023-07-17 17:24
From: Juanje Ojeda
----------------------------------------
I wonder why those packages didn't show up before

Message 436 - 2023-07-17 17:27
From: Juanje Ojeda
----------------------------------------
The thing is that they want to update as minimum as possible, so we don't deviate too much from what
we build and tested for the ER3rc1. Which makes sense. Adding 4 updates, it's kinda ok, but 24...

Message 437 - 2023-07-17 17:27
From: Kanitha Chim
----------------------------------------
I see it used `target_tag: rhivos-1.0.0-candidate` but when I changed mine to the same target_tag, I
dont get any new resolved packages

Message 438 - 2023-07-17 17:28
From: Juanje Ojeda
----------------------------------------
On the other hand, if those packages will be updated in the RHEL compose we use, it means that not
updating them could raise again conflict in the dependencies :thinking_face:

Message 439 - 2023-07-17 17:29
From: Juanje Ojeda
----------------------------------------
&gt; I see it used `target_tag: rhivos-1.0.0-candidate` but when I changed mine to the same
target_tag, I dont get any new resolved packages Now I'm confused... Maybe the packages were already
updated?

Message 440 - 2023-07-17 17:30
From: Kanitha Chim
----------------------------------------
This is the config I provided ```# yaml-language-server: $schema=example.schema.json brew_server:
https://brewhub.engineering.redhat.com/brewhub source_tags: - rhivos-1.0.0-candidate -
rhivos-1.0.0-gate target_tag: rhivos-1.0.0-candidate workload_urls: -
"https://tiny.distro.builders/workload--automotive-workload-in--automotive-environment--automotive-repositories-c9s--aarch64.json"
-
"https://tiny.distro.builders/workload--automotive-workload-in--automotive-environment--automotive-repositories-c9s--x86_64.json"
-
"https://tiny.distro.builders/workload--automotive-workload-off--automotive-environment--automotive-repositories-c9s--aarch64.json"
-
"https://tiny.distro.builders/workload--automotive-workload-off--automotive-environment--automotive-repositories-c9s--x86_64.json"
package_replacement_mapping: centos-gpg-keys: [ ] centos-logos: - redhat-logos
centos-release-automotive: - redhat-release centos-stream-release: - redhat-release
centos-stream-repos: [ ] dnf: - dnf - librhsm gnupg2: - gnupg2 - openldap-compat
linux-firmware-automotive: - linux-firmware ostree-compliance-mode: [ ] realtime-setup: [ ]
tuned-profiles-realtime: [ ]``` as a result no packages resolved

Message 441 - 2023-07-17 17:30
From: Kanitha Chim
----------------------------------------
And this is another config I provided ```# yaml-language-server: $schema=example.schema.json
brew_server: https://brewhub.engineering.redhat.com/brewhub source_tags: - rhivos-1.0.0-candidate -
rhivos-1.0.0-gate target_tag: rhivos-0.15 workload_urls: -
"https://tiny.distro.builders/workload--automotive-workload-in--automotive-environment--automotive-repositories-c9s--aarch64.json"
-
"https://tiny.distro.builders/workload--automotive-workload-in--automotive-environment--automotive-repositories-c9s--x86_64.json"
-
"https://tiny.distro.builders/workload--automotive-workload-off--automotive-environment--automotive-repositories-c9s--aarch64.json"
-
"https://tiny.distro.builders/workload--automotive-workload-off--automotive-environment--automotive-repositories-c9s--x86_64.json"
package_replacement_mapping: centos-gpg-keys: [ ] centos-logos: - redhat-logos
centos-release-automotive: - redhat-release centos-stream-release: - redhat-release
centos-stream-repos: [ ] dnf: - dnf - librhsm gnupg2: - gnupg2 - openldap-compat
linux-firmware-automotive: - linux-firmware ostree-compliance-mode: [ ] realtime-setup: [ ]
tuned-profiles-realtime: [ ]``` which returned the above packages I pasted here

Message 442 - 2023-07-17 17:31
From: Juanje Ojeda
----------------------------------------
Could you compared it with `rhivos-1.0-er3`?

Message 443 - 2023-07-17 17:33
From: Kanitha Chim
----------------------------------------
Give me a moment, will be back

Message 444 - 2023-07-17 17:38
From: Hubert Stefanski
----------------------------------------
Okay, hold on, can I get a TL;DR of what you're trying to do?

Message 445 - 2023-07-17 17:38
From: Hubert Stefanski
----------------------------------------
are you trying to diff 2 releases?

Message 446 - 2023-07-17 17:38
From: Hubert Stefanski
----------------------------------------
or are you trying to add all new packages from candidate to a release tag?

Message 447 - 2023-07-17 17:47
From: Juanje Ojeda
----------------------------------------
Kanita was trying to get the list of updates to then update the bew tag. But then we show too many
updates. 24 instead of the 4 your job showed. So, I was wondering if something was wrong and why
there were so many changes now.

Message 448 - 2023-07-17 17:47
From: Kanitha Chim
----------------------------------------
we fetch_and_diff_packages

Message 449 - 2023-07-17 17:47
From: Kanitha Chim
----------------------------------------
the plugin step

Message 450 - 2023-07-17 17:48
From: Hubert Stefanski
----------------------------------------
the 4 updated were only in the safety scope

Message 451 - 2023-07-17 17:49
From: Hubert Stefanski
----------------------------------------
the whole list of package updates is more than the safety scope

Message 452 - 2023-07-17 17:49
From: Juanje Ojeda
----------------------------------------
Oh, that explains it

Message 453 - 2023-07-17 17:49
From: Hubert Stefanski
----------------------------------------
24 seems pretty reasonable tbh, the package-level-worfklow was updating non-safety scoped packages

Message 454 - 2023-07-17 17:49
From: Hubert Stefanski
----------------------------------------
but we only gated on safety-scope, until we disabled that job earlier today

Message 455 - 2023-07-17 17:49
From: Juanje Ojeda
----------------------------------------
The question then is... should we update just the one in the safety scope or all the updates?

Message 456 - 2023-07-17 17:50
From: Juanje Ojeda
----------------------------------------
Also, those 24 are the new updates from er3-rc1 or from rhivos0-15?

Message 457 - 2023-07-17 17:50
From: Hubert Stefanski
----------------------------------------
the second is a question for Kanitha I guess?

Message 458 - 2023-07-17 17:51
From: Hubert Stefanski
----------------------------------------
answering the first: I guess it's no harm updating the rest

Message 459 - 2023-07-17 17:51
From: Kanitha Chim
----------------------------------------
rhivos0.15

Message 460 - 2023-07-17 17:51
From: Juanje Ojeda
----------------------------------------
Well, that's the thing, we suppose to update as less as possible

Message 461 - 2023-07-17 17:51
From: Hubert Stefanski
----------------------------------------
since safety-scope is where the testing takes place for kernel/glibc etc then the rest shouldn't
affect them

Message 462 - 2023-07-17 17:52
From: Hubert Stefanski
----------------------------------------
Then just update the safety scope, the non-safety scope packages shouldn't affect the rest

Message 463 - 2023-07-17 17:52
From: Juanje Ojeda
----------------------------------------
true, but those packages use more packages and depend on more packages

Message 464 - 2023-07-17 17:52
From: Hubert Stefanski
----------------------------------------
at least I think

Message 465 - 2023-07-17 17:52
From: Juanje Ojeda
----------------------------------------
At the end it's a different release

Message 466 - 2023-07-17 17:53
From: Kanitha Chim
----------------------------------------
so, we update only this ```- kernel-automotive-5.14.0-339.302.el9iv - glibc-2.34-72.el9 -
systemd-252-16.el9 - gcc-11.4.1-2.1.el9```

Message 467 - 2023-07-17 17:53
From: Juanje Ojeda
----------------------------------------
But then we have also the problem that if we don't update them, maybe some tests fail due the
conflicts... so, probably we should update them..

Message 468 - 2023-07-17 17:53
From: Juanje Ojeda
----------------------------------------
It's a tricky situation

Message 469 - 2023-07-17 17:54
From: Jim Bair
----------------------------------------
yeah, reverse dependency validation will help us avoid that when we can get that test going for
package updates

Message 470 - 2023-07-17 17:54
From: Juanje Ojeda
----------------------------------------
If the tests didn't install dependencies, I'd say not to install the rest, but if some of those
dependencies have conflicts (which has happened before), they fail again

Message 471 - 2023-07-17 17:55
From: Juanje Ojeda
----------------------------------------
Not really, because the test install a lot of package we don't know about. And those are the ones
that can break the tests :confused:

Message 472 - 2023-07-17 17:59
From: Juanje Ojeda
----------------------------------------
So, it seems that the actual list is 44 packages...

Message 473 - 2023-07-17 18:00
From: Ozan Unsal
----------------------------------------
I am back to my PC, let me know if I can help

Message 474 - 2023-07-17 18:01
From: Juanje Ojeda
----------------------------------------
I don't like the idea of updating that many packages, but the alternative is the possibility of some
tests failing due to a version conflicts and fail the test cycle... :confused: I guess the safest
bet is to update all. I mean, we're going to re-run most of the tests

Message 475 - 2023-07-17 18:02
From: Juanje Ojeda
----------------------------------------
I asked Rachel on the readiness channel to see what she thinks about it.

Message 476 - 2023-07-17 18:02
From: Jim Bair
----------------------------------------
im curious how much time is lost if we only update 4 and find a failure and have to pull in more vs
pulling in all changes? And how that compares if we have to remove packages if a new package breaks
stuff

Message 477 - 2023-07-17 18:05
From: Juanje Ojeda
----------------------------------------
Oh... a lot more

Message 478 - 2023-07-17 18:06
From: Jim Bair
----------------------------------------
I feel like for a bugfix we should minimize the changes vs a full refresh release, but I guess
that's for the business to decide

Message 479 - 2023-07-17 18:06
From: Jim Bair
----------------------------------------
we don't know what will break until we try

Message 480 - 2023-07-17 18:06
From: Jim Bair
----------------------------------------
and sadly it sounds like it'll take days to find out if we broke something

Message 481 - 2023-07-17 18:06
From: Juanje Ojeda
----------------------------------------
Mostly because we need to build the release and start the tests and see if one of them fail, which
can be the first or the last. It can take few days to discover. And then we need to repeat the
process. But if we update all the packages, the tests won't fail.

Message 482 - 2023-07-17 18:06
From: Jim Bair
----------------------------------------
it would be nice if we could do both models in concurrency and see what the tests do
:stuck_out_tongue:

Message 483 - 2023-07-17 18:07
From: Jim Bair
----------------------------------------
I'm just a dreamer though

Message 484 - 2023-07-17 18:07
From: Juanje Ojeda
----------------------------------------
&gt; we don't know what will break until we try It's true, they might not fail, but the experience
tell us that when the packages are a bit outdated, normally some test fail.

Message 485 - 2023-07-17 18:13
From: Juanje Ojeda
----------------------------------------
Steve asked one smart question in the readiness chat. We're checking the updates from the rc1 to
now, but could we get the updates from the rc1 to the day we build the rc1? That's it to the
versions available in that RHEL compose? That would fix the tests and it would deviate much less
from the rc1

Message 486 - 2023-07-17 18:13
From: Juanje Ojeda
----------------------------------------
Can we check that?

Message 487 - 2023-07-17 18:14
From: Juanje Ojeda
----------------------------------------
Maybe we could just check manually the versions on that RHEL compose and manually update the tag.
They would be only 3 or 4 packages

Message 488 - 2023-07-17 18:15
From: Ozan Unsal
----------------------------------------
If you think that it is better I can update those 4 packages in brew er3 tag

Message 489 - 2023-07-17 18:17
From: Juanje Ojeda
----------------------------------------
That would reduce the changes, including the rhel compose. We won't need to pin a new one. Let me
find the versions for those packages in that rhel compose

Message 490 - 2023-07-17 18:17
From: Ozan Unsal
----------------------------------------
sure

Message 491 - 2023-07-17 19:15
From: Juanje Ojeda
----------------------------------------
Ok... sorry about this... but it seems like it might be a false alarm... It all started with a
conversation with some TE folks about the `gcc` and `glibc` tests failing due to some dependency
conflicts and it was some kind of miscommunication. They were talking about the nightly and I was
talking about the release (ER3). I've just checked the packages in our compose and the RHEL compose
we used and they are the same versions, so they shouldn't fail. I'm running the tests for those
packages against the ER3 image to see if they actually fail for the release.

Message 492 - 2023-07-17 19:17
From: Juanje Ojeda
----------------------------------------
I'm still not sure. Let's see what the tests say. But the tests were failing for the nightly, so
that we should fix. I guess that with the last change about ignoring the tests we should have the
nightly fully updated again.

Message 493 - 2023-07-17 19:18
From: Ozan Unsal
----------------------------------------
so it seems we don't need to update the ER3 instead we should update the nightly (which is
rhivos-1.0.0-candidate)

Message 494 - 2023-07-17 19:28
From: Juanje Ojeda
----------------------------------------
I think so. But I'm still waiting for the tests to be sure.

Message 495 - 2023-07-17 19:48
From: Juanje Ojeda
----------------------------------------
Yep, the tests are fine for the release. The problem is only with the nightly. Sorry for all the
confusion

Message 496 - 2023-07-17 19:49
From: Ozan Unsal
----------------------------------------
Everything is good :+1:

Message 497 - 2023-07-17 20:02
From: Jim Bair
----------------------------------------
@Juanje Ojeda a good exercise all the same :slightly_smiling_face:

Message 498 - 2023-07-18 05:43
From: Hubert Stefanski
----------------------------------------
No need to manually update nightlies they're back up to automatic updates for thr candidate tag

Message 499 - 2023-07-18 13:10
From: Ryan Smith
----------------------------------------
Question: how did `ER3-rc1/` here (https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/) come
to be? Because there is no corresponding tag
(https://gitlab.cee.redhat.com/automotive/rhivos/-/tags) on rhivos.git

Message 500 - 2023-07-19 14:44
From: Jochen Breuer
----------------------------------------
@Ozan Unsal @Marcin Sobczyk I just remembered that haven’t done a release post-mortem yet.

Message 501 - 2023-07-19 15:17
From: Ozan Unsal
----------------------------------------
sure we can do anytime :+1:

Message 502 - 2023-07-19 15:18
From: Ozan Unsal
----------------------------------------
I have a feeling that the next action items will be the automation of some tasks in release process.

Message 503 - 2023-07-25 14:45
From: Kanitha Chim
----------------------------------------
It seems to me that ER3 was dated 21st June as listed here
https://docs.engineering.redhat.com/display/Automotive/RHIVOS+Release+Coordinator+and+Assistant, do
I miss something?

Message 504 - 2023-07-25 14:50
From: Ozan Unsal
----------------------------------------
yes correct but this is not the official delivery to the customers. I am not sure when exactly
:grin:

Message 505 - 2023-07-25 14:55
From: Kanitha Chim
----------------------------------------
so we will do er3 release again?

Message 506 - 2023-07-25 14:56
From: Ozan Unsal
----------------------------------------
I don't think that we will do the release again but we will sync the release folder to the partner's
SFTP.

Message 507 - 2023-07-26 13:41
From: Steve Loranz
----------------------------------------
Official release is between Aug 2nd and 4th… let’s call it the 3rd.

Message 508 - 2023-07-26 13:42
From: Steve Loranz
----------------------------------------
I think there is some padding there in that 2nd-4th range.

Message 509 - 2023-08-03 08:41
From: Kanitha Chim
----------------------------------------
Hi team, please let me know when I should start running sea-bridge to upload `ER3-rc1` to qualcomm's
Artifactory Also, I am not sure if we want to add any other documents. I've seen there are two docs
in this ticket (https://issues.redhat.com/browse/VROOM-13949) to be included but I am not sure if
the docs are ready

Message 510 - 2023-08-03 13:32
From: Steve Loranz
----------------------------------------
sorry… posted this in the team channel instead of here: “I’m not seeing the documentation from
https://issues.redhat.com/browse/VROOM-13949 in
https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/ER3/”

Message 511 - 2023-08-03 15:55
From: Jochen Breuer
----------------------------------------
Are we good with the release apart from the question around the Safety Manual?

Message 512 - 2023-08-03 15:57
From: Steve Loranz
----------------------------------------
I think so. Kanitha copied the release notes and ride4 instructions in and I replaced the ER2
release readiness report with the ER3 doc.

Message 513 - 2023-08-03 15:58
From: Steve Loranz
----------------------------------------
the safety manual seems to not be updated since June 19th.

Message 514 - 2023-08-03 15:59
From: Steve Loranz
----------------------------------------
based on what I’m seeing in Polarion.

Message 515 - 2023-08-03 16:00
From: Jochen Breuer
----------------------------------------
Alright. Thanks a lot for the update! Let’s see what the final verdict will be.

Message 516 - 2023-08-03 16:22
From: Steve Loranz
----------------------------------------
@Kanitha Chim waiting on three sign-offs for the readiness report, then I will re-add that to ER3.

Message 517 - 2023-08-03 18:30
From: Steve Loranz
----------------------------------------
set the channel topic: Release: RHIVOS0.16 / August 9th Coordinator : @Marcin Sobczyk Assistant:
@Kanitha Chim
Internal channel for ATC release coordination. Release readiness with a wider audience can be
coordinated in #C04RHEEGY30|!

Message 518 - 2023-08-04 10:52
From: Kanitha Chim
----------------------------------------
@Marcin Sobczyk maybe we should create/add release epic and stories to the sprint?

Message 519 - 2023-08-04 10:53
From: Marcin Sobczyk
----------------------------------------
@Kanitha Chim sure, I'll try to handle this

Message 520 - 2023-08-04 10:53
From: Kanitha Chim
----------------------------------------
thank you :slightly_smiling_face:

Message 521 - 2023-08-08 07:30
From: Kanitha Chim
----------------------------------------
Good morning, @Marcin Sobczyk if it's okay, I'll create a ticket to pin RHEL compose from last night
nightly. WDYT?

Message 522 - 2023-08-31 13:41
From: Kanitha Chim
----------------------------------------
set the channel topic: Release: RHIVOS0.17 / September 6th Coordinator: @Kanitha Chim Assistant:
@Wisdom Omuya
Internal channel for ATC release coordination. Release readiness with a wider audience can be
coordinated in #C04RHEEGY30|!

Message 523 - 2023-09-05 08:40
From: Kanitha Chim
----------------------------------------
Hi everyone, FYI here is the checklist for RHIVOS0.17:
https://docs.google.com/document/d/1IrovA71XmJpNt4o3v7oum2LHAELCF2e7w7Ma7Dwt2yQ/edit#heading=h.g0vnvz26k3uj

Message 524 - 2023-09-18 14:06
From: Steve Loranz
----------------------------------------
Do we have a checklist in Jira for ER4 yet?

Message 525 - 2023-09-18 14:09
From: Steve Loranz
----------------------------------------
set the channel topic: Release: rhivos-er4 / September 20th Coordinator: Assistant:
Internal channel for ATC release coordination. Release readiness with a wider audience can be
coordinated in #C04RHEEGY30|!

Message 526 - 2023-09-18 15:34
From: Kanitha Chim
----------------------------------------
I don't think we have in Jira but @Ozan Unsal has been refining the checklist here:
https://docs.google.com/document/d/1USixd0Glo5vbu-dpRZjkPdeOzL3Xz_uhog4390H-WwY/edit

Message 527 - 2023-09-18 16:10
From: Jim Bair
----------------------------------------
• @Ozan Unsal Tag Name: ‘*ER4*’ in rhivos.git set LOCKFILE_REPO_REF (see below for example config
file)

Message 528 - 2023-09-18 16:10
From: Jim Bair
----------------------------------------
do we still have a LOCKFILE_REPO_REF?

Message 529 - 2023-09-18 16:11
From: Ozan Unsal
----------------------------------------
good point Jim, we don't need the LOCKFILE_REPO_REF

Message 530 - 2023-09-18 16:42
From: Ozan Unsal
----------------------------------------
btw I have created rhivos-1.0-er4 tag
(https://brewweb.engineering.redhat.com/brew/taginfo?tagID=131399) in brew

Message 531 - 2023-09-18 19:13
From: Juanje Ojeda
----------------------------------------
FYI, there's a poll right now at the release readiness chat about delaying the ER4 release 2 weeks,
because there are some pending features for the Kernel-automotive. We might delay the release two
weeks.

Message 532 - 2023-09-19 16:56
From: Steve Loranz
----------------------------------------
ER4 is delayed 2 weeks

Message 533 - 2023-09-19 17:25
From: Steve Loranz
----------------------------------------
set the channel topic: Release: rhivos-er4 / October 4th / CTC starts October 5th Coordinator:
Assistant:
Internal channel for ATC release coordination. Release readiness with a wider audience can be
coordinated in #C04RHEEGY30|!

Message 534 - 2023-09-19 17:27
From: Steve Loranz
----------------------------------------
So, 0.18 and ER4 are essentially the same thing.

Message 535 - 2023-09-19 17:33
From: Juanje Ojeda
----------------------------------------
set the channel topic: Release: ER4 / October 4th / CTC starts October 5th Coordinator: Wisdom
Assistant: Juanje
Internal channel for ATC release coordination. Release readiness with a wider audience can be
coordinated in #C04RHEEGY30|!

Message 536 - 2023-09-19 17:35
From: Juanje Ojeda
----------------------------------------
I added myself back as assistant in the doc and I updated the names in the names in the topic. I had
to short some stuff as there were too many characters :sweat_smile:

Message 537 - 2023-09-19 18:18
From: Hubert Stefanski
----------------------------------------
So wait, am I or am I not replacing you @Juanje Ojeda? :sweat_smile:

Message 538 - 2023-09-19 18:19
From: Juanje Ojeda
----------------------------------------
No, I said I probably couldn't this week, but it got delayed, so I can do it. I hope it's ok with
you :see_no_evil:

Message 539 - 2023-09-19 18:20
From: Juanje Ojeda
----------------------------------------
BTW, I created the Epic and the ticket for the release: https://issues.redhat.com/browse/VROOM-15036

Message 540 - 2023-09-19 18:20
From: Hubert Stefanski
----------------------------------------
Sure thing :wink:  I won't refuse being offloaded that responsibility :laughing:

Message 541 - 2023-09-27 12:08
From: Juanje Ojeda
----------------------------------------
&gt; btw I have created rhivos-1.0-er4 tag
(https://brewweb.engineering.redhat.com/brew/taginfo?tagID=131399) in brew Dumb question from a
Brew/Puni/Koji newbie... We have already the tag, I guess the release day we tag the packages,
right? How?

Message 542 - 2023-09-27 12:10
From: Michael Ho
----------------------------------------
Last time I recommended a brew api function, snapshotTag, which can copy one tag into another. We've
never used it before though, previously we had an arcaflow script to populate the tag.

Message 543 - 2023-09-27 12:17
From: Hubert Stefanski
----------------------------------------
I'd say maybe risking it with the snapshotTag is the way to go

Message 544 - 2023-09-27 12:17
From: Hubert Stefanski
----------------------------------------
the arca script doesn't really scale that well

Message 545 - 2023-09-27 12:18
From: Hubert Stefanski
----------------------------------------
It worked fine for our ~800 packages, but bumping that up by a few hundred % makes it run for an
hour

Message 546 - 2023-09-27 12:21
From: Juanje Ojeda
----------------------------------------
Could we test it with anohter tag first? Or can we tag packages with er4, build a compose and then
remove the tags, just to test it?

Message 547 - 2023-09-27 12:23
From: Hubert Stefanski
----------------------------------------
Hmm, you can probably do so with a side-tag

Message 548 - 2023-09-27 12:24
From: Hubert Stefanski
----------------------------------------
Do you want to pre-test the current state of rhivos-candidate? or test the `snapshotTag` call?

Message 549 - 2023-09-27 12:24
From: Michael Ho
----------------------------------------
@Ozan Unsal might be the person for this

Message 550 - 2023-09-27 12:25
From: Juanje Ojeda
----------------------------------------
&gt; Do you want to pre-test the current state of rhivos-candidate? or test the `snapshotTag` call?
Both

Message 551 - 2023-09-27 12:25
From: Juanje Ojeda
----------------------------------------
But mostly the second

Message 552 - 2023-09-27 12:25
From: Ozan Unsal
----------------------------------------
when it will be the release date?

Message 553 - 2023-09-27 12:26
From: Michael Ho
----------------------------------------
Fyi, It should be trivial, basically, `brew call snapshotTag &lt;src-tag&gt; &lt;dest-tag&gt;` Note:
Destination tag must not exist.

Message 554 - 2023-09-27 12:27
From: Ozan Unsal
----------------------------------------
from tomorrow until October 4th, I will be out since I am moving out. I won't have any network
connection until then :disappointed: but if we can do it now, I will run the command for you.

Message 555 - 2023-09-27 12:27
From: Ozan Unsal
----------------------------------------
The tag is already there, I created it last week

Message 556 - 2023-09-27 12:29
From: Michael Ho
----------------------------------------
I think if the destination tag exists, you can call `brew call --python snapshotTagModify
&lt;src-tag&gt; &lt;dest-tag&gt; "remove=true"`

Message 557 - 2023-09-27 12:29
From: Michael Ho
----------------------------------------
Should we just snapshot today's state into the tag so Juanje can see the state?

Message 558 - 2023-09-27 12:32
From: Juanje Ojeda
----------------------------------------
&gt; when it will be the release date? @Ozan Unsal October 4 th But not worry. If we have permission
to run that, we should be able to do the test run.

Message 559 - 2023-09-27 12:35
From: Ozan Unsal
----------------------------------------
if you want we can create dummy tag and try `brew call --python snapshotTagModify` from the
`rhivos-1.0.0-candidate` tag.

Message 560 - 2023-09-27 12:43
From: Juanje Ojeda
----------------------------------------
I created this ticket for this part, could you check that I didn't put anything wrong or stupid
:sweat_smile: https://issues.redhat.com/browse/VROOM-15150

Message 561 - 2023-09-27 12:43
From: Juanje Ojeda
----------------------------------------
Thanks

Message 562 - 2023-09-27 12:46
From: Ozan Unsal
----------------------------------------
so here is the rhivos-test tag https://brewweb.engineering.redhat.com/brew/taginfo?tagID=122526 and
now I am going to run the `brew call snapshotTagModify`

Message 563 - 2023-09-27 12:52
From: Ozan Unsal
----------------------------------------
hmmm I am still waiting the command to finish

Message 564 - 2023-09-27 12:52
From: Michael Ho
----------------------------------------
I guess it will take time

Message 565 - 2023-09-27 12:53
From: Michael Ho
----------------------------------------
Internally it's still doing similar actions to what arca does...

Message 566 - 2023-09-27 12:53
From: Michael Ho
----------------------------------------
but probably more stable

Message 567 - 2023-09-27 12:53
From: Ozan Unsal
----------------------------------------
now is done

Message 568 - 2023-09-27 12:53
From: Ozan Unsal
----------------------------------------
https://brewweb.engineering.redhat.com/brew/taginfo?tagID=122526

Message 569 - 2023-09-27 12:54
From: Ozan Unsal
----------------------------------------
the build numbers are different but probably there are some old builds in `rhivos-1.0.0-candidate` ,
which are not copied to the `rhivos-test`

Message 570 - 2023-09-27 12:57
From: Michael Ho
----------------------------------------
it should use latest=true by default

Message 571 - 2023-09-27 12:57
From: Michael Ho
----------------------------------------
did you set remove=true*

Message 572 - 2023-09-27 12:59
From: Ozan Unsal
----------------------------------------
yes I set remove=true

Message 573 - 2023-09-27 12:59
From: Michael Ho
----------------------------------------
Ah I see

Message 574 - 2023-09-27 12:59
From: Michael Ho
----------------------------------------
Yes, it's what we want then

Message 575 - 2023-09-27 13:00
From: Michael Ho
----------------------------------------
we don't want the old builds copied in, just the latest

Message 576 - 2023-09-27 13:00
From: Ozan Unsal
----------------------------------------
yup

Message 577 - 2023-09-27 13:00
From: Michael Ho
----------------------------------------
so that was a lot faster than the arca-x workflow

Message 578 - 2023-09-27 13:00
From: Michael Ho
----------------------------------------
:partying_face:

Message 579 - 2023-09-27 13:01
From: Ozan Unsal
----------------------------------------
yup I think so :partying_face:

Message 580 - 2023-09-27 13:01
From: Michael Ho
----------------------------------------
Can you please document the command you ran into the release ticket?

Message 581 - 2023-09-27 13:01
From: Michael Ho
----------------------------------------
So we know how to do it in case you're not around :sweat_smile:

Message 582 - 2023-09-27 13:01
From: Ozan Unsal
----------------------------------------
sure of course

Message 583 - 2023-09-27 13:01
From: Michael Ho
----------------------------------------
thank you

Message 584 - 2023-09-27 13:02
From: Ozan Unsal
----------------------------------------
you're welcome :smile:

Message 585 - 2023-10-02 16:55
From: Juanje Ojeda
----------------------------------------
I've prepared a new branch `rhivos-er4` based on `main` , and then created this MR for updating the
version and koji tag: https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/485 Is this
what we suppose to do for a new release, right?

Message 586 - 2023-10-02 16:56
From: Juanje Ojeda
----------------------------------------
Ozan already created the tag, once I'll tag the packages on Wed, (with this merged) we should be
able to build a compose using this branch, right?

Message 587 - 2023-10-02 17:55
From: Juanje Ojeda
----------------------------------------
Another thing. Despite my ineptitude with kerberos and brew, I tried to test what Ozan did last
time, to see if I could tags the packages. No luck so far. I'll put my steps in a thread, to avoid
too much noise here.

Message 588 - 2023-10-03 09:47
From: Juanje Ojeda
----------------------------------------
I was creating the `ER4.config` file for the d-p-a-c repo and while cleaning up stuff we don't need
anymore I left it pretty slim...
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/281/diffs
I removed the `DOWNSTREAM_COMPOSE_URL` variable from there (and I won't ask RHEL to pin the
compose), as we now use our compose for building our images and for testing the packages. The
variable is still used to build the `non-sample-images` and any image that don't use our compose,
but for those the `create-osbuild` will use the default value from the repo (`.gitlab/config.conf`),
which is the latest RHEL compose. I guess it's fine, as we just need the images to build, but they
won't be use for testing packages, so there should be no need to the RHEL compose.
&gt; NOTE: Well, I've just realized that we actually build the Ride4 and QDrive3 images with RHEL
(not RHIVOS compose), as it's using the `developer` images. But I'm trying to fix that (I hope it
works):
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/282
But, it that works and we can build the images we ship and test just with the RHVOS compose, are you
OK with not pinning the RHEL compose and leave that variable pointing to latest?

Message 589 - 2023-10-03 14:35
From: Michael Ho
----------------------------------------
https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/486 Here's my attempt to fix comps
for RHIVOS

Message 590 - 2023-10-03 15:31
From: Juanje Ojeda
----------------------------------------
@Sameera Kalgudi hi! Could you do the tagging for the release now? It seems like the account doesn't
have permissions and we should tag it, so we're ready for building the release. Ozan already created
the tag `rhivos-1.0-er4` (https://brewweb.engineering.redhat.com/brew/taginfo?tagID=131399)

Message 591 - 2023-10-03 19:56
From: Juanje Ojeda
----------------------------------------
FYI, as everything is ready (packages added to the tag, config files merged, branch created, etc.)
and I was already in front of my laptop, I created the tag, so it triggered the relase pipeline. If
everything goes fine (no reason to think otherwise) we should have the release ready in a couple of
ours. If something goes wrong, we have tomorrow for fixing it :slightly_smiling_face:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/5711500

Message 592 - 2023-10-03 21:05
From: Juanje Ojeda
----------------------------------------
It failed because the new branch in rhivos.git didn't have Michael's last change. It was just in
`main`. I created a cherry-pick MR to add those changes to the release branch. Please approve it
(and merge it if I'm not up yet in the morning), so I can trigger the release pipeline release again
in the morning. Thanks. https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/488

Message 593 - 2023-10-03 23:17
From: Jim Bair
----------------------------------------
Approved by me; just need one more approval. I suspect it'll take until morning

Message 594 - 2023-10-04 07:20
From: Juanje Ojeda
----------------------------------------
Created again the tag (now with the comps fix merged into the release branch) and here is the
release pipeline:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/5730741

Message 595 - 2023-10-04 08:11
From: Juanje Ojeda
----------------------------------------
It has already built the ride4 images (developer), so now it should be fine :slightly_smiling_face:

Message 596 - 2023-10-04 09:29
From: Juanje Ojeda
----------------------------------------
The pipeline passed habemus ER4 release :slightly_smiling_face: :partying_face:

Message 597 - 2023-10-04 13:54
From: Jim Bair
----------------------------------------
@Juanje Ojeda I like the changelog between releases; did you use JIRA to look over issues/epics
since the last one? I'm curious how we can do that for each release :slightly_smiling_face:

Message 598 - 2023-10-04 13:57
From: Juanje Ojeda
----------------------------------------
Not really. We should have some automation also around that. I compared the two releases artifacts
and I tried to remember recent changes (new content policy, new debug image, adding the
kernel-debug, etc.) Then I checked the Jira board to see if something pop up. But now that the
release process is so much simpler, we should work on the Changelog automatic generation :ok_hand:

Message 599 - 2023-10-25 12:28
From: Hubert Stefanski
----------------------------------------
Hey! just verifying before creating the release epic, the following release is 0.19 right? as we
agreed to replace 0.18 with ER4, we're essentially "skipping" that version?

Message 600 - 2023-10-25 12:29
From: Hubert Stefanski
----------------------------------------
i.e we're adhering to dates and releases set in
https://docs.google.com/spreadsheets/d/1FM_AYNSTkOcdLgGzQipRAmLBPEDRPKaqMuaYa1bqYSY/edit?usp=sharing

Message 601 - 2023-10-25 12:30
From: Kanitha Chim
----------------------------------------
Yes, you're right

Message 602 - 2023-10-25 12:31
From: Hubert Stefanski
----------------------------------------
Perfect, thanks for verifying! wanted to make sure just in case anything changed since then

Message 603 - 2023-10-30 08:46
From: Hubert Stefanski
----------------------------------------
Good Morning, @Ozan Unsal did you get permissions to create tags yet? or do we have to bother
@Sameera Kalgudi for it? :sweat_smile:

Message 604 - 2023-10-30 08:47
From: Ozan Unsal
----------------------------------------
I have the power to create the tags :grin:

Message 605 - 2023-10-30 08:48
From: Hubert Stefanski
----------------------------------------
Awesome! just checking in, We'll probably create it tomorrow, since you're probably out on Wednesday
for a national holiday right?

Message 606 - 2023-10-30 08:49
From: Hubert Stefanski
----------------------------------------
Juanje or I can update it manually before the actual release

Message 607 - 2023-10-30 08:53
From: Ozan Unsal
----------------------------------------
Yup you are right but I can create the tag from now

Message 608 - 2023-10-30 09:04
From: Ozan Unsal
----------------------------------------
and I created rhivos-0.19 tag https://brewweb.engineering.redhat.com/brew/taginfo?tagID=134423

Message 609 - 2023-10-30 09:34
From: Hubert Stefanski
----------------------------------------
perfect, thank you!

Message 610 - 2023-10-30 09:35
From: Ozan Unsal
----------------------------------------
you're welcome

Message 611 - 2023-10-30 12:57
From: Juanje Ojeda
----------------------------------------
Could we check that we actually can tag those packages? Last time I (or anyone other than Sameera or
Ozan) could.

Message 612 - 2023-10-30 13:03
From: Hubert Stefanski
----------------------------------------
I'll check that

Message 613 - 2023-10-30 13:18
From: Hubert Stefanski
----------------------------------------
```❯ brew list-permissions --mine Permission name ------------------ package-list-admin
pkglist-rhivos regen-repo tag tagger target ```

Message 614 - 2023-10-30 13:18
From: Hubert Stefanski
----------------------------------------
hmm, I think I need rhivos-tagger

Message 615 - 2023-10-30 13:26
From: Hubert Stefanski
----------------------------------------
Alrighty, I have permissions to both add packages to the package list and tag builds into the
release tag

Message 616 - 2023-10-30 13:26
From: Hubert Stefanski
----------------------------------------
Looks like we're all good

Message 617 - 2023-10-31 15:20
From: Hubert Stefanski
----------------------------------------
@Juanje Ojeda I'll resume the runner tomorrow morning prior to running those pipelines

Message 618 - 2023-10-31 15:56
From: Hubert Stefanski
----------------------------------------
Hey folks, can people kindly take a look at these release MRs? odcs config updates to rhivos-0.19
branch: https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/492/diffs main readme
updates: https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/493 pipeline release
configs:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/292

Message 619 - 2023-10-31 15:56
From: Hubert Stefanski
----------------------------------------
Would be awesome if we could merge them today, and just tag and watch the pipelines tomorrow

Message 620 - 2023-10-31 16:04
From: Juanje Ojeda
----------------------------------------
All three approved

Message 621 - 2023-11-01 11:27
From: Hubert Stefanski
----------------------------------------
Cross posting for visibility: Release 0.19 is in the oven
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/6137940,
let's watch it bake! :cat_tap:

Message 622 - 2023-11-28 15:26
From: Ryan Smith
----------------------------------------
set the channel topic: Release: 0.20 / November 29th Coordinator: Hubert Assistant: Ryan
Internal channel for ATC release coordination. Release readiness with a wider audience can be
coordinated in #C04RHEEGY30|!

Message 623 - 2023-11-28 15:28
From: Ryan Smith
----------------------------------------
Hi !here - I am getting errors tagging our packages to the rhivos-0.20 tag: &gt; 2023-11-28
10:25:43,702 [ERROR] koji: ActionNotAllowed: tag permission required (logged in as rsmit) Meanwhile
I appear to already have tagging permissions: ```[rsmit@rsmit:~]$ brew userinfo rsmit User name:
rsmit # omitted Permissions: tagger pkglist-rhivos Status: NORMAL Usertype: NORMAL Number of
packages: 0 Number of tasks: 0 Number of builds: 0``` Anyone have any insight in to the issue here?

Message 624 - 2023-11-28 15:28
From: Juanje Ojeda
----------------------------------------
I love the new topic :slightly_smiling_face: Very professional, we should keep doing that

Message 625 - 2023-11-28 17:34
From: Ryan Smith
----------------------------------------
Hi everyone, I have some merge requests for review so that Hubert can start the fun first thing
tomorrow: • https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/494 •
https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/495 •
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/301
Let me know if anything seems awry, sometimes I have bad copy/paste luck

Message 626 - 2023-11-29 08:47
From: Hubert Stefanski
----------------------------------------
Release pipeline triggered: https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/6507119 for
anyone that loves a bit of nail biting action on a Wednesday morning :wink:

Message 627 - 2023-11-29 12:21
From: Juanje Ojeda
----------------------------------------
I see the pipeline finished and the release is already out:
https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS0.20/ Should we announce it at the
readiness and the atc channels?

Message 628 - 2023-11-29 13:01
From: Ryan Smith
----------------------------------------
I will make the announcement

Message 629 - 2023-12-05 17:00
From: Juanje Ojeda
----------------------------------------
FYI, It looks like there will be a new step at the release, after the QE CTC testing cycle. They
want P&S to gate the release:
https://redhat-internal.slack.com/archives/C04RHEEGY30/p1701790657927399

Message 630 - 2023-12-05 19:24
From: Avihai Efrat
----------------------------------------
That’s unorthodox in a good way increasing quality ,very impressive to achieve the 2 weeks window!
Usually P&S are done well after the release CTC (functional system QE test comprehensive testing )
when the compose is stable and ready to be shipped (at least functionally stable)as P&S test are
usually long to prepare,run and debug(talking as former 2 years P&S engineer at ECI telecom). Very
challenging goal indeed!

Message 631 - 2024-01-30 11:52
From: Miloslav Trmač
----------------------------------------
@Avihai Efrat hi, so we foudn some small regressions, hopefully patching now the last one, and weill
be released, will let you know, did not make 12:00 :disappointed:

Message 632 - 2024-01-30 11:53
From: Miloslav Trmač
----------------------------------------
we need to improve our release process

Message 633 - 2024-01-30 12:05
From: Avihai Efrat
----------------------------------------
Thanks for the update @Miloslav Trmač and for your continued efforts to get the fix out and package
it to a new TF release, not an easy task for sure. The ER5 release will be done tomorrow anyway so
we should be OK by then.

Message 634 - 2024-01-30 16:31
From: Juanje Ojeda
----------------------------------------
@Roni Eliezer @Ozan Unsal FYI, it looks like we're going to build the release tomorrow as expected,
and we don't need to disable the CTC triggering. The meeting is still in progress, but it seems like
that is the decision for the our part.

Message 635 - 2024-01-31 13:54
From: Juanje Ojeda
----------------------------------------
I've just released something... We trigger the CTC from the release pipeline, and the CTC run the
tests via the p-l-p, which uses the mirror for checking the CAT file and the image to use. But the
mirror doesn't have the release sync yet. It takes really long time to do it. That's why we are
seeing a few errors from the CTC jobs like this:
https://gitlab.cee.redhat.com/automotive/pipe-x/package-level-pipelines/-/jobs/19613942

Message 636 - 2024-01-31 14:30
From: Juanje Ojeda
----------------------------------------
New topic: The CTC trigger job I see the job is in the expected stage, at the very end of the
pipeline (first image) But then I see that the dependencies make it run after we build the RideSX4
image, so before the other jobs (second image). We should remove that dependency, so it runs when it
should, at the very end. WTDY?

Message 637 - 2024-01-31 19:34
From: Juanje Ojeda
----------------------------------------
FYI, the rsync is still working on syncing the ER5 release. It's not fully copied yet.

Message 638 - 2024-01-31 22:59
From: Roni Eliezer
----------------------------------------
I see an error with upload to RP,
https://gitlab.cee.redhat.com/automotive/pipe-x/package-level-pipelines/-/pipelines/7339484 I raised
this in the Data Router chat here: https://mail.google.com/mail/u/0/#chat/space/AAAAMWP6DDY
request: b607be3e-b505-4341-93a3-c1ccec82668f status: FAILURE targets: - name: reportportal status:
FAILURE events: - component: reportportal-processor status: FAILURE message: |- [ "Failed to process
payload: Failed to create directory
/work/data/b607be3e-b505-4341-93a3-c1ccec82668f-reportportal-processor-2024-01-31T21:02:02.273197Z"
] - component: reportportal-processor status: FAILURE message: |- [ "java.lang.NullPointerException:
file" ]

Message 639 - 2024-02-19 08:46
From: Jochen Breuer
----------------------------------------
Hey folks, good morning! How is the world looking like today?

Message 640 - 2024-02-19 17:14
From: Juanje Ojeda
----------------------------------------
@Roni Eliezer @Ozan Unsal How are we going to trigger the CTC? Is the job from the release pipeline
that triggers the CTC disabled? If not, did we changed the variable for the release artifacts in the
p-l-p, so the tests there could find the release? Remember that the last time it failed because it's
pointing to the mirror and the release take long time to sync to the mirror.

Message 641 - 2024-02-19 18:46
From: Juanje Ojeda
----------------------------------------
@Roni Eliezer do you know how to check the Ride4 boards? I see the smoke-test for the ride4 boards
(for the release pipeline) waiting for long time:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/20126390

Message 642 - 2024-02-19 19:56
From: Roni Eliezer
----------------------------------------
@Juanje Ojeda t used board #1, the board seems to have no IP, (checked with serial as well)

Message 643 - 2024-02-19 19:58
From: Roni Eliezer
----------------------------------------
@Juanje Ojeda I re-run the job and it seems that it takes the same board, let's see...

Message 644 - 2024-02-19 20:10
From: Roni Eliezer
----------------------------------------
@Stephen Bertram in the serial of board#1 I see the following failure, any idea? [FAILED] Failed to
start Load Kernel Modules. [ 2.974305] systemd[1]: Failed to start Load Kernel Modules.

Message 645 - 2024-02-20 15:31
From: Juanje Ojeda
----------------------------------------
I created a MR for fixing the QA image for this issue, following the latest findings. If we merge
that, we could rebuild the release and see if it works. Well, actually, we could re-trigger the QA
image build and then the smoke-tests. That should give tell us if that works without rebuilding the
whole thing. https://gitlab.com/redhat/edge/ci-cd/pipe-x/custom-images/-/merge_requests/20

Message 646 - 2024-02-20 16:29
From: Juanje Ojeda
----------------------------------------
The image is already built and the smoke-test is running... Let's see if now works :crossed_fingers:
http://artifacts.osci.redhat.com/testing-farm/b3a27162-2acb-4f12-b16f-9c42948d7feb/

Message 647 - 2024-02-20 16:43
From: Juanje Ojeda
----------------------------------------
It passed!!! :partying_face:

Message 648 - 2024-05-21 16:30
From: Juanje Ojeda
----------------------------------------
About the *Release Candidates* (rc) issue: I see two options: 1. Create an ER6-rcX tag and then copy
the artifacts directory as ER6 2. Create an ER6 tag and copy the artifacts directory as ERrcX.
Option 1: • Pros: ◦ A polarion CTC record for each rcX (useful?) • Cons: ◦ The internal references
to the rcX (info.txt, `/etc/build-info` , etc) Option 2: • Pros: ◦ The internal references all point
to the actual release name: ER6. No rcX references ▪︎ The internal references still have the
timestamp, so it can be traced to the actual pipeline. ◦ We only have one tag (at brew and git)
pointing to the final release • Cons: ◦ The CTC for all the CTC runs will use the same release ID.
(is this a problem? not sure) There are probably more for each one. But looking at those, I think
the second options is cleaner for the final release :thinking_face:

Message 649 - 2024-05-22 11:14
From: Roni Eliezer
----------------------------------------
@Petr Matyas Hi Petr can u pls try to add the Polarion tag?

Message 650 - 2024-05-22 11:18
From: Juanje Ojeda
----------------------------------------
@Ozan Unsal @Roni Eliezer So, the issue with the BASE_URL and the update job failing on the
rhivos.git MR should be fixed. I thought it wasn't, but the job should work now fine. The new MR I
created (https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/310) is for
not running all the jobs, but now I'm not sure we need/want that. It'll make the pipeline shorter,
but we won't test all the things with the new compose. WDYT? Should merge it or not?

Message 651 - 2024-05-22 11:26
From: Ozan Unsal
----------------------------------------
I think we can merge it and it will fix the problems

Message 652 - 2024-05-22 13:11
From: Juanje Ojeda
----------------------------------------
I set it for auto-merge, but I still not sure if should do that. The current fix should work fine
(no BASE_URL for the pungi MRs), but we're the new MR will skip some jobs for Pungi MRs. I'm not
sure we should skip them. Yes, the pipeline is shorter, but we also don't test some things on the
proposed compose :thinking_face:

Message 653 - 2024-05-22 15:46
From: Roni Eliezer
----------------------------------------
FYI: ER6-pre-run is built here: https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/8234133

Message 654 - 2024-05-23 07:43
From: Ozan Unsal
----------------------------------------
It seem ER6-pre-run release was successfully built at
https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/ER6-pre-run/,
https://download.hosts.prod.upshift.rdu2.redhat.com/rhivos/ER6-pre-run/

Message 655 - 2024-05-23 07:59
From: Roni Eliezer
----------------------------------------
but we have issue with the tests, lot of tests end up with error, provision failed
https://artifacts.osci.redhat.com/testing-farm/a8de7b93-30fe-4837-bf42-77c9eb1e5c86/work-[…]8b-4f18-a69b-0849a8373a85.2024-05-23-01:48:32.765794.log
(https://artifacts.osci.redhat.com/testing-farm/a8de7b93-30fe-4837-bf42-77c9eb1e5c86/work-planyqdiwqbz/flasher-debug-2da98d2b-508b-4f18-a69b-0849a8373a85.2024-05-23-01:48:32.765794.log)
```error: No space left on device\```

Message 656 - 2024-05-23 08:00
From: Roni Eliezer
----------------------------------------
@Robert O'Brien FYI ^

Message 657 - 2024-05-23 08:41
From: Roni Eliezer
----------------------------------------
@Robert O'Brien I don't see any disk space issue on sidekick-03:thinking_face:
root@qti-ride4-sa8775p-sidekick-03:~# df -h Filesystem Size Used Avail Use% Mounted on udev 1.9G 0
1.9G 0% /dev tmpfs 376M 1.6M 374M 1% /run /dev/mmcblk0p2 57G 36G *18G* 67% /

Message 658 - 2024-05-23 08:59
From: Roni Eliezer
----------------------------------------
@Robert O'Brien Any idea where is the disk space issue?

Message 659 - 2024-05-23 09:01
From: Milos Prchlik
----------------------------------------
@Miroslav Vadkerti ^^

Message 660 - 2024-05-23 09:03
From: Miroslav Vadkerti
----------------------------------------
Hi @Roni Eliezer, I cleaned up caches from there around an hour ago, can you retry please?

Message 661 - 2024-05-23 09:33
From: Roni Eliezer
----------------------------------------
@Miroslav Vadkerti you mean from sidekick-03?

Message 662 - 2024-05-23 09:35
From: Miroslav Vadkerti
----------------------------------------
@Roni Eliezer yes

Message 663 - 2024-05-23 09:36
From: Roni Eliezer
----------------------------------------
@Miroslav Vadkerti thx:) so that can explain why I don't see a disk space issue on Sidekick 3

Message 664 - 2024-05-23 09:37
From: Roni Eliezer
----------------------------------------
@Miroslav Vadkerti but I must go over all sidekicks before I rerun all jobs again, I now see a disk
space issue on Sidekick 4

Message 665 - 2024-05-23 09:37
From: Roni Eliezer
----------------------------------------
root@qti-ride4-sa8775p-sidekick-04:~# df -h Filesystem Size Used Avail Use% Mounted on udev 1.8G 0
1.8G 0% /dev tmpfs 376M 1.6M 374M 1% /run /dev/mmcblk0p2 57G 56G *0 100%* /

Message 666 - 2024-05-23 09:52
From: Robert O'Brien
----------------------------------------
sidekick-03 looks okay now; 20GB available. I did see some old nightly builds, with uncompressed img
files. A couple of other uncompressed images, which I'm compressing now. That should resolve the
space there. There are various user directories I can follow up on.

Message 667 - 2024-05-23 09:54
From: Roni Eliezer
----------------------------------------
@Robert O'Brien fyi: I cleaned 4 and 17 as well

Message 668 - 2024-05-23 09:56
From: Robert O'Brien
----------------------------------------
Thanks @Roni Eliezer I just realised I was not on ride4-03, but -04. In any case, the flasher will
try to install. If not enough space, it will delete old images from img_cache, and if that fails
within 1 hour, the board is marked as disabled.

Message 669 - 2024-05-23 09:56
From: Robert O'Brien
----------------------------------------
I'm going to note this in doc for retrospective.

Message 670 - 2024-05-23 09:58
From: Roni Eliezer
----------------------------------------
@Robert O'Brien FYI: I see 17 is disabled

Message 671 - 2024-05-27 12:47
From: Ozan Unsal
----------------------------------------
Hi all, I want to mention about Thursday(May 30th) is public holiday in Germany and Spain.
Therefore, @Juanje Ojeda and me are affected about this, since the Dev Preview release on this day.
I want to be available as much as I can do for this day and not leave @Roni Eliezer alone. We were
discussing to shift working day with @Paul Caramuto. We thought that it would be better if I work on
May 30th and take Friday off. I would like to also inform the team about this situation.

Message 672 - 2024-05-28 08:08
From: Roni Eliezer
----------------------------------------
@Robert O'Brien I see the 3 boards we borrowed for the ER6 pre-run are still in our inventory, we
will need them at least for the whole weekend, is that Ok?

Message 673 - 2024-05-28 11:34
From: Roni Eliezer
----------------------------------------
@Petr Matyas @Rachel Sibley can you please add the *rhivos-er6* tag to the Polarion

Message 674 - 2024-05-28 16:42
From: Roni Eliezer
----------------------------------------
@Juanje Ojeda in this MR I rename the file ER6-pre-run.yml to ER6-rc1.yml, because it was a temp run
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/352

Message 675 - 2024-05-28 16:42
From: Roni Eliezer
----------------------------------------
WDYT?

Message 676 - 2024-05-28 16:43
From: Juanje Ojeda
----------------------------------------
Make sense to me

Message 677 - 2024-05-28 17:08
From: Juanje Ojeda
----------------------------------------
:thread: I'll open a thread about an issue I realize we'll have. The space at the mirror is limited
and if with the new `ER6-pre-run` it removed `ER4` . And `ER6-pre-run` is not even a release.
Furthermore, we were talking about not storing there the rc images, just the `ER6` and if `ER6` and
`ER6-rc1` it'll remove `ER4` and `ER5` . So, I created a dirty workaround:
https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/263
This will prevent the pre-run and any of the -rc to be copied to the mirror. But I've just realized
that as we'll tag the release as `ER6-rc1` that's the image the CTC tests triggered by the pipeline
will try to use. It won't necessary fail, as the rc will be available via the webserver at the
bucket. Buuuut... some test on the Ride4 have failed in the past when running from the webserver. It
takes to much time to download the images from there. That's why we use the mirror.
So, if we keep this workaround, the script that sync the mirror won't copy the ER6-rc1, and the ctc
will use the webserver and some test might fail. But, if we don't keep it, the `ER6-pre-run` , the
`ER6` and the `ER6-rc1` will be copied, so it won't be any older release available there
:disappointed:
We could remove the `ER6-pre-run` (as it was a temporary test, not an actual release) from the
bucket, so the script doesn't try to copy it, but that's just part of the problem.

Message 678 - 2024-05-29 08:54
From: Roni Eliezer
----------------------------------------
FYI: we have an issue with runners ("There has been a runner system failure, please try again")
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/8275378
@Hubert Stefanski is checking... thx Hubert

Message 679 - 2024-05-29 09:14
From: Hubert Stefanski
----------------------------------------
The runner "ran" out of space, I'll update the config

Message 680 - 2024-05-29 09:21
From: Juanje Ojeda
----------------------------------------
I see the nightly had the same issue :confused:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/8277733

Message 681 - 2024-05-29 09:21
From: Hubert Stefanski
----------------------------------------
https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/264/diffs

Message 682 - 2024-05-29 09:38
From: Juanje Ojeda
----------------------------------------
@Hubert Stefanski I see the MR was merged. Would it deploy the new runners or does it need a manual
action at the post-merge pipeline?
https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/pipelines/8283290

Message 683 - 2024-05-29 09:38
From: Hubert Stefanski
----------------------------------------
Nope, it already deployed and updated the spec, I was just waiting for it to fully update on AWS

Message 684 - 2024-05-29 09:38
From: Hubert Stefanski
----------------------------------------
we can try to re-run the builds now

Message 685 - 2024-05-29 09:39
From: Juanje Ojeda
----------------------------------------
great, thanks

Message 686 - 2024-05-29 09:40
From: Hubert Stefanski
----------------------------------------
Sure thing, let me know how it goes

Message 687 - 2024-05-29 09:40
From: Roni Eliezer
----------------------------------------
Hi Hubert jobs still fail: e.g:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22372155

Message 688 - 2024-05-29 09:41
From: Juanje Ojeda
----------------------------------------
yep

Message 689 - 2024-05-29 09:41
From: Juanje Ojeda
----------------------------------------
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22372163

Message 690 - 2024-05-29 09:46
From: Juanje Ojeda
----------------------------------------
BTW, the p-l-p is stuck. The jobs there don't take any runner. They also have the tag `docker`
https://gitlab.cee.redhat.com/automotive/pipe-x/package-level-pipelines/-/jobs/22372117

Message 691 - 2024-05-29 09:48
From: Juanje Ojeda
----------------------------------------
I see the `release-runner` with the tag `docker` at that project (config
(https://gitlab.cee.redhat.com/automotive/pipe-x/package-level-pipelines/-/settings/ci_cd) ), but it
shows as offline. Maybe it's the old one.

Message 692 - 2024-05-29 09:53
From: Juanje Ojeda
----------------------------------------
Ok... it seems like now (after 14 min in queue) it took a shared runner :thinking_face:

Message 693 - 2024-05-29 09:54
From: Hubert Stefanski
----------------------------------------
hmm, looks like more runner failures on the d-pac

Message 694 - 2024-05-29 09:54
From: Hubert Stefanski
----------------------------------------
looking again :sad_meow:

Message 695 - 2024-05-29 09:54
From: Hubert Stefanski
----------------------------------------
yep, the current release runner is only assinged to d-pac

Message 696 - 2024-05-29 09:55
From: Juanje Ojeda
----------------------------------------
We probably should assign it to the p-l-p as well, as the CTC will trigger jobs there
:thinking_face:

Message 697 - 2024-05-29 09:59
From: Hubert Stefanski
----------------------------------------
I'm gonna go for a quick :coffee:  and sort this out when I come back

Message 698 - 2024-05-29 10:03
From: Ozan Unsal
----------------------------------------
fyi I am waiting nightly build to be finished in order to tag the packages with rhivos-1.0-er6-rc1
(https://brewweb.engineering.redhat.com/brew/taginfo?tagID=144073).

Message 699 - 2024-05-29 10:31
From: Juanje Ojeda
----------------------------------------
I paused the runner accepting jobs at the project's config, just to allow some jobs to run and get
both pipeline unblocked. We can resume it when you have something new to test.

Message 700 - 2024-05-29 10:33
From: Juanje Ojeda
----------------------------------------
Now the pipeline are running (with the shared runners), let's see how long they take. Hopefully we
have our runners working fine soon.

Message 701 - 2024-05-29 10:34
From: Juanje Ojeda
----------------------------------------
@Roni Eliezer do we have the new branch with the ER6-rc1 config at the rhivos.git already?

Message 702 - 2024-05-29 10:34
From: Juanje Ojeda
----------------------------------------
Never mind, I've just seen your MR :sweat_smile:

Message 703 - 2024-05-29 10:35
From: Ozan Unsal
----------------------------------------
If you trigger the release branch, it won't work since there is no tagged packages in brew yet

Message 704 - 2024-05-29 11:43
From: Hubert Stefanski
----------------------------------------
Should have mentioned, I'll b tearing the runner down and up a few times to test the volume pruner

Message 705 - 2024-05-29 11:43
From: Hubert Stefanski
----------------------------------------
Sounds like it's a general complaint that the docker executor on ec2-based runners doesn't
automatically clean up after itself :facepalm:

Message 706 - 2024-05-29 12:50
From: Hubert Stefanski
----------------------------------------
https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/265

Message 707 - 2024-05-29 12:53
From: Hubert Stefanski
----------------------------------------
@Juanje Ojeda do you also want this runner to be available for PLP?

Message 708 - 2024-05-29 12:53
From: Hubert Stefanski
----------------------------------------
if so I can update the gitlab token in the gitlab secrets to have it be regiesterd for the pipe-x/
group, but we'll have to limit the projects somehow :thinking_face:

Message 709 - 2024-05-29 12:55
From: Juanje Ojeda
----------------------------------------
@Hubert Stefanski I have a question about the MR. Wouldn't the script remove the volumes in use for
some jobs and kill the jobs that are using those?

Message 710 - 2024-05-29 12:56
From: Juanje Ojeda
----------------------------------------
&gt; do you also want this runner to be available for PLP? That'd be nice. Do we need to add it to
the pipe-x level? Can't adding just to the p-l-p project, like with the d-p-c-a?

Message 711 - 2024-05-29 12:57
From: Hubert Stefanski
----------------------------------------
hmm, registrations work gitlab -&gt; runner, rather than runner -&gt; gitlab, so I'm not sure that's
possible, or at least I haven't seen a way of doing that, but I can try to check

Message 712 - 2024-05-29 12:57
From: Hubert Stefanski
----------------------------------------
no, `prune` only deletes unused volumes and containers IIUC

Message 713 - 2024-05-29 12:58
From: Hubert Stefanski
----------------------------------------
https://docs.podman.io/en/v4.4/markdown/podman-volume-prune.1.html

Message 714 - 2024-05-29 12:58
From: Hubert Stefanski
----------------------------------------
https://docs.podman.io/en/stable/markdown/podman-system-prune.1.html

Message 715 - 2024-05-29 12:59
From: Juanje Ojeda
----------------------------------------
Oh, I thought the `-f` would force to remove all.

Message 716 - 2024-05-29 12:59
From: Juanje Ojeda
----------------------------------------
Perfect then :slightly_smiling_face:

Message 717 - 2024-05-29 13:00
From: Juanje Ojeda
----------------------------------------
BTW, how is that the gitlab runners got filled so quickly?

Message 718 - 2024-05-29 13:00
From: Hubert Stefanski
----------------------------------------
nope, `-f` just bypasses the confirmation

Message 719 - 2024-05-29 13:00
From: Hubert Stefanski
----------------------------------------
Lingering podman volumes,...

Message 720 - 2024-05-29 13:00
From: Hubert Stefanski
----------------------------------------
at least that's my theory, and seems that other people also ran into this before

Message 721 - 2024-05-29 13:00
From: Juanje Ojeda
----------------------------------------
But from previous runners?

Message 722 - 2024-05-29 13:01
From: Juanje Ojeda
----------------------------------------
Because the runner had just started and it was failing jobs

Message 723 - 2024-05-29 13:01
From: Juanje Ojeda
----------------------------------------
I know we ran into this in the past and we added something to prune the volumes, but it's surprising
that it got filed that fast

Message 724 - 2024-05-29 13:02
From: Hubert Stefanski
----------------------------------------
yep... I logged into the machine with SSH to try and remove things manually, and it had filled up
the entire 50gb we had previously without any jobs scheduled

Message 725 - 2024-05-29 13:02
From: Juanje Ojeda
----------------------------------------
how? :thinking_face:

Message 726 - 2024-05-29 13:03
From: Juanje Ojeda
----------------------------------------
It's a bit weird that it got filled with no jobs scheduled...

Message 727 - 2024-05-29 13:03
From: Hubert Stefanski
----------------------------------------
It got so bad, that when I tried to run `podman volume prune` manually, it didn't even have enough
space to create a temporary file :laughing:

Message 728 - 2024-05-29 13:03
From: Juanje Ojeda
----------------------------------------
Been there.... :sweat_smile:

Message 729 - 2024-05-29 13:04
From: Hubert Stefanski
----------------------------------------
I wonder if this is because I'm kinda abusing the docker executor by giving it a podman "pseudo
socket"

Message 730 - 2024-05-29 13:05
From: Hubert Stefanski
----------------------------------------
and it doesn't know how to behave when containers are de-scheduled

Message 731 - 2024-05-29 13:05
From: Juanje Ojeda
----------------------------------------
The only worst thing when trying to fix a filled disk that doesn't let you even run commands, is to
have no more inodes... With the full disk at least you have a clue with the space left :sweat_smile:

Message 732 - 2024-05-29 13:05
From: Hubert Stefanski
----------------------------------------
I thought it got so bad at one point that it didn't even want me to SSH into it :sweat_smile:

Message 733 - 2024-05-29 13:05
From: Hubert Stefanski
----------------------------------------
but turns out my VPN connection just expired

Message 734 - 2024-05-29 13:06
From: Juanje Ojeda
----------------------------------------
hehe

Message 735 - 2024-05-29 13:06
From: Juanje Ojeda
----------------------------------------
The socket should work, but... :shrug:

Message 736 - 2024-05-29 13:06
From: Hubert Stefanski
----------------------------------------
ahhh,... I didn't change the runner token, shouldn't take long

Message 737 - 2024-05-29 13:07
From: Juanje Ojeda
----------------------------------------
Maybe you can see what happens with teh new runner, now that is not accepting jobs from the project

Message 738 - 2024-05-29 13:07
From: Juanje Ojeda
----------------------------------------
To see if podman is doing something weird

Message 739 - 2024-05-29 13:35
From: Juanje Ojeda
----------------------------------------
The pipelines (the one from Roni's MR and last nightly) are progressing, but they had some errors. I
retried them.

Message 740 - 2024-05-29 13:35
From: Juanje Ojeda
----------------------------------------
Let's see if they finish soon

Message 741 - 2024-05-29 13:36
From: Juanje Ojeda
----------------------------------------
@Hubert Stefanski did you see anything useful at the runner?

Message 742 - 2024-05-29 13:41
From: Hubert Stefanski
----------------------------------------
https://gitlab.cee.redhat.com/groups/automotive/pipe-x/-/runners/50400#/jobs

Message 743 - 2024-05-29 13:41
From: Hubert Stefanski
----------------------------------------
it picked up all these new jobs

Message 744 - 2024-05-29 13:41
From: Hubert Stefanski
----------------------------------------
I'll ssh into the instance to keep an eyue on it

Message 745 - 2024-05-29 13:43
From: Hubert Stefanski
----------------------------------------
disk usage at least, looks ok :sweat_smile:

Message 746 - 2024-05-29 13:46
From: Juanje Ojeda
----------------------------------------
This is interesting.... So, this job failed because it couldn't find the artifacts:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22373807 But the
previous job created those artifacts. I think the problem is that one started in one runner and the
other in another and the volume is not there. Or that the volume with the artifacts was removed
:thinking_face:

Message 747 - 2024-05-29 13:47
From: Hubert Stefanski
----------------------------------------
hmm, I hink it might have been used across 2 different runners, I re-provisioned the instance a few
minutes ago

Message 748 - 2024-05-29 13:47
From: Hubert Stefanski
----------------------------------------
I really hope it's not the volume pruning :(

Message 749 - 2024-05-29 13:48
From: Juanje Ojeda
----------------------------------------
It might be the 2 runners thing. Let's see

Message 750 - 2024-05-29 13:48
From: Juanje Ojeda
----------------------------------------
It was a post-merge pipeline (I think), so I'm not super worried right now.

Message 751 - 2024-05-29 13:53
From: Juanje Ojeda
----------------------------------------
@Roni Eliezer any idea about this error? Maybe the token?
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22378908

Message 752 - 2024-05-29 13:55
From: Ozan Unsal
----------------------------------------
Do we need to configure the ip address of new release-runner in AWS. So maybe this runner is not
allowed to reach the S3 buckets.

Message 753 - 2024-05-29 13:58
From: Juanje Ojeda
----------------------------------------
oh.... that's a good question...

Message 754 - 2024-05-29 13:58
From: Juanje Ojeda
----------------------------------------
@Hubert Stefanski what is the external IP for the runners?

Message 755 - 2024-05-29 13:59
From: Juanje Ojeda
----------------------------------------
We need to check that they're allowed at the buckets

Message 756 - 2024-05-29 13:59
From: Hubert Stefanski
----------------------------------------
They don't have a public IP :thinking_face:

Message 757 - 2024-05-29 13:59
From: Hubert Stefanski
----------------------------------------
so I'd have thought that the internal VPN gateway would catch them

Message 758 - 2024-05-29 13:59
From: Hubert Stefanski
----------------------------------------
I don't think we had this issue before with arr-core

Message 759 - 2024-05-29 13:59
From: Hubert Stefanski
----------------------------------------
hmmm

Message 760 - 2024-05-29 14:00
From: Juanje Ojeda
----------------------------------------
`curl ifconfig.me` from the runner

Message 761 - 2024-05-29 14:01
From: Hubert Stefanski
----------------------------------------
`3.69.94.98`

Message 762 - 2024-05-29 14:01
From: Kanitha Chim
----------------------------------------
if the previous job can upload to AWS then it works fine, right? (i meant generate-compose)

Message 763 - 2024-05-29 14:01
From: Juanje Ojeda
----------------------------------------
But that maybe ran on the shared runners

Message 764 - 2024-05-29 14:03
From: Juanje Ojeda
----------------------------------------
Nope, that IP (or its subnet) is not in the allowed list :confused:

Message 765 - 2024-05-29 14:03
From: Juanje Ojeda
----------------------------------------
Let me add it manually and check if now the job works

Message 766 - 2024-05-29 14:03
From: Juanje Ojeda
----------------------------------------
To see if that is the issue

Message 767 - 2024-05-29 14:05
From: Juanje Ojeda
----------------------------------------
Testing it

Message 768 - 2024-05-29 14:06
From: Juanje Ojeda
----------------------------------------
Yep, it was that

Message 769 - 2024-05-29 14:06
From: Juanje Ojeda
----------------------------------------
So, we need to add the IP. I wonder if that IP would change and we need to add a subnet
:thinking_face:

Message 770 - 2024-05-29 14:09
From: Juanje Ojeda
----------------------------------------
I added manually the IP to both buckets (workspace and production), so they jobs can work. But we
need to figure out if that IP may change and add it to the infra repo

Message 771 - 2024-05-29 14:09
From: Hubert Stefanski
----------------------------------------
hmm, it's unlikely to change unless we completely deprovision the instance

Message 772 - 2024-05-29 14:09
From: Hubert Stefanski
----------------------------------------
let me find the subnet though

Message 773 - 2024-05-29 14:10
From: Hubert Stefanski
----------------------------------------
that should keep us safe as long as we're in the same region

Message 774 - 2024-05-29 14:21
From: Juanje Ojeda
----------------------------------------
Well, both pipelines are unblocked. If the new runners are fine now, after they finish we should
have the nightly
(https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/8277733)
(so we can brew tag) and the d-p-a-c config fort he ER6-rc1
(https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/352)
in place. The MR for the rhivos.git config
(http://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/503) was using a mix or runners, so
the cat-manifest job failed and it couldn't work, so I trigger a new pipeline:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/8285556

Message 775 - 2024-05-29 14:22
From: Juanje Ojeda
----------------------------------------
With all that (and the brew tag added) we'll be ready for tomorrow just create the tag and trigger
the release :slightly_smiling_face: Let's hope the runners keep working fine :slightly_smiling_face:
:crossed_fingers:

Message 776 - 2024-05-29 14:29
From: Juanje Ojeda
----------------------------------------
The MR for the infra repo, for the new IP:
https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/266

Message 777 - 2024-05-29 14:50
From: Ozan Unsal
----------------------------------------
I tagged the packages in brew https://brewweb.engineering.redhat.com/brew/taginfo?tagID=144073, so
we are ready for release :smile:

Message 778 - 2024-05-29 16:34
From: Juanje Ojeda
----------------------------------------
@Ozan Unsal something went wrong with the `generate-compose` job at the post-merge pipeline. There
are a bunch of build jobs failing like this:
https://artifacts.osci.redhat.com/testing-farm/25531200-f7c4-40eb-a880-512afd4bb489/ The
`generate-compose` passed and looks fine, but look at the repo. The structure is there but I don't
see any package:
https://rhivos.auto-toolchain.redhat.com/ci-gitlab-workspace-downstream/8285556.8d176195/repos/RHIVOS/compose/RHIVOS/

Message 779 - 2024-05-29 16:35
From: Ozan Unsal
----------------------------------------
Ohhh probably we triggered the pipeline before I tagged the packages

Message 780 - 2024-05-29 16:35
From: Ozan Unsal
----------------------------------------
So the compose is empty

Message 781 - 2024-05-29 16:36
From: Juanje Ojeda
----------------------------------------
Checking the ODCS is empty too:
https://download-01.beak-001.prod.iad2.dc.redhat.com/odcs/prod/odcs-3126280/compose/RHIVOS/aarch64/os/Packages/

Message 782 - 2024-05-29 16:36
From: Juanje Ojeda
----------------------------------------
&gt; Ohhh probably we triggered the pipeline before I tagged the packages But that's not the release
pipeline, that's the post-merge pipeline, it should use the latest packages, right?

Message 783 - 2024-05-29 16:38
From: Ozan Unsal
----------------------------------------
I guess it is using the release config but I am going to check what is the issue.

Message 784 - 2024-05-29 16:39
From: Juanje Ojeda
----------------------------------------
It shouldn't, it should use the base config

Message 785 - 2024-05-29 16:41
From: Juanje Ojeda
----------------------------------------
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22379764
```Project: automotive/pipe-x/downstream-pipelines-as-code Branch: gitlab-ci Commit:
8d176195b1a7556d24aafa56b03d63619de8aaef Config REF: main Pungi REF: main OSBUILD REF: main Custom
Images REF: main Pipelines-as-code REF: main ... Parent project: automotive/rhivos Parent branch:
staging-er6-rc1 Parent tag: ```

Message 786 - 2024-05-29 16:44
From: Juanje Ojeda
----------------------------------------
Ohhhh... so it's not the post-merge from one of the MR, it's the pipeline fro this MR:
https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/503

Message 787 - 2024-05-29 16:46
From: Juanje Ojeda
----------------------------------------
Oh, I see. The change is made to the config in the branch, not a separate file, so if the packages
are not tagged yet,it can't find them. It's what you said before.

Message 788 - 2024-05-29 16:47
From: Juanje Ojeda
----------------------------------------
I'll trigger a new pipeline. Now that you tagged the packages, it should work. We should mention
this in the checklist, to have the order right and avoid this.

Message 789 - 2024-05-29 16:48
From: Roni Eliezer
----------------------------------------
Hi any idea why this failed:
https://artifacts.osci.redhat.com/testing-farm/5e3426f9-68b2-443a-ae3a-e2a8d4cf5a80/ from here:
https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/8285555

Message 790 - 2024-05-29 16:48
From: Juanje Ojeda
----------------------------------------
yes, the previous comments are about that.

Message 791 - 2024-05-29 17:19
From: Ozan Unsal
----------------------------------------
in order to be sure that I have created the release compose from release pungi config
https://gitlab.cee.redhat.com/automotive/rhivos/-/tree/staging-er6-rc1?ref_type=heads and it seems
we can generate the compose. Here is the compose that we will have in release
https://download-01.beak-001.prod.iad2.dc.redhat.com/odcs/prod/odcs-3127418/

Message 792 - 2024-05-29 17:20
From: Ozan Unsal
----------------------------------------
and it seems packages are uploaded to S3 bucket
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22383372 so we
are good :+1:

Message 793 - 2024-05-29 17:21
From: Ozan Unsal
----------------------------------------
&gt; Oh, I see. The change is made to the config in the branch, not a separate file, so if the
packages are not tagged yet,it can't find them. &gt; It's what you said before. Exactly, I wanted to
say this :smile:

Message 794 - 2024-05-29 17:26
From: Ozan Unsal
----------------------------------------
I have updated the order in release-checklist, so that we tagged the packages first in brew, then we
will create the release MR configs. Therefore, we won't have the similar problem in future

Message 795 - 2024-05-29 20:20
From: Juanje Ojeda
----------------------------------------
The kernel team asked us for a last minute change. A important one. Here is the conversation and the
decisions made: https://redhat-internal.slack.com/archives/C04JDFLHJN6/p1717010467078619

Message 796 - 2024-05-29 20:21
From: Juanje Ojeda
----------------------------------------
A different topic: This job (generate-summary-html-report) failed at the MR for the rhivos.git repo:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22383412

Message 797 - 2024-05-29 20:22
From: Juanje Ojeda
----------------------------------------
@Roni Eliezer nos sure what happened but you'll need to have a look into it tomorrow morning.
Probably to trigger a new pipeline. @Hubert Stefanski I wander if it's related to the volume
pruning... :thinking_face:

Message 798 - 2024-05-29 20:24
From: Ozan Unsal
----------------------------------------
probably since we are sure that release-runner IP is allowed to reach buckets so there should be
another issue for runner to not find the report :confused:

Message 799 - 2024-05-29 20:52
From: Hubert Stefanski
----------------------------------------
Hmm, I don't think podman would be that rude as to prune a volume from a container that's actively
requesting data from it :thinking_face:

Message 800 - 2024-05-29 22:32
From: Roni Eliezer
----------------------------------------
@Juanje Ojeda this pipeline
(https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22383412) miss
the upload* jobs

Message 801 - 2024-05-29 22:48
From: Roni Eliezer
----------------------------------------
This how it look in the pre-run:

Message 802 - 2024-05-29 22:49
From: Ozan Unsal
----------------------------------------
hmmm probably it is because of the rules again

Message 803 - 2024-05-29 22:52
From: Ozan Unsal
----------------------------------------
probably these report upload job is skipped due to following line
https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/commit/2951796c3922e750b5788f9dc3724dd0dfb9aeac#38269add0f6bf210[…]b995cc81d63_20_25
(https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/commit/2951796c3922e750b5788f9dc3724dd0dfb9aeac#38269add0f6bf210f955aa4ce4b87b995cc81d63_20_25)

Message 804 - 2024-05-29 22:54
From: Roni Eliezer
----------------------------------------
this is the diff between the pre-run to rc1

Message 805 - 2024-05-29 22:55
From: Ozan Unsal
----------------------------------------
btw changing the kernel-automotive MR seems fine
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/8287970. We
have again the same error due to not triggered report jobs. However, with
kernel-automotive-5.14.0-427.20.1.382.el9iv
(https://brewweb.engineering.redhat.com/brew/buildinfo?buildID=3080801) smoke tests are okay.
I am updating the kernel-automotive build in rhivos-1.0-er6-rc1
(https://brewweb.engineering.redhat.com/brew/taginfo?tagID=144073), so that we have the requested
`kernel-automotive-5.14.0-427.20.1.382.el9iv` version in release compose.
@Roni Eliezer, with this change, I guess we are ready for release.

Message 806 - 2024-05-29 22:59
From: Ozan Unsal
----------------------------------------
now kernel-automotive-5.14.0-427.20.1.382.el9iv
(https://brewweb.engineering.redhat.com/brew/buildinfo?buildID=3080801) is tagged with
rhivos-1.0-er6-rc1 (https://brewweb.engineering.redhat.com/brew/taginfo?tagID=144073)

Message 807 - 2024-05-30 05:55
From: Roni Eliezer
----------------------------------------
Need another approval, thx:)
https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/312

Message 808 - 2024-05-30 07:09
From: Roni Eliezer
----------------------------------------
@Kanitha Chim thx

Message 809 - 2024-05-30 07:10
From: Roni Eliezer
----------------------------------------
I triggered a new pipeline for the staging MR
https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/8286706

Message 810 - 2024-05-30 13:30
From: Kanitha Chim
----------------------------------------
@Roni Eliezer it seems that the pipeline finished and we have ER6-rc1
https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/ER6-rc1/ Just for info, there won't be
`ER6-rc1` in the mirror http://download.eng.brq.redhat.com/rhivos/ because of the recent changes
(not having ER6-* in there) do we also plan to copy `ER6-rc1 -&gt; ER6`?

Message 811 - 2024-05-30 14:40
From: Roni Eliezer
----------------------------------------
@Kanitha Chim In the pre-run we didn't encounter latency issues with the 'server', so I suggest
waiting with the mirror, 'ER6' directory name will not help us for now, because the CTC triggered
tests search for 'ER6-rc1'

Message 812 - 2024-06-20 15:36
From: Roni Eliezer
----------------------------------------
FYI: I closed https://issues.redhat.com/browse/VROOM-19816 and open a new one for post-release
tracking: https://issues.redhat.com/browse/VROOM-20914

Message 813 - 2024-07-16 15:07
From: Juanje Ojeda
----------------------------------------
:thread: New thread about the Brew tags we use

Message 814 - 2024-07-17 18:58
From: Charles Timko
----------------------------------------
:wave::skin-tone-2: I skimmed the past discussion around the rhivos-1.0.0 -&gt; rhivos-1.0.1. Is
there a reason we don't use rhivos-1.0.z like RHEL does?

Message 815 - 2024-08-27 15:23
From: Juanje Ojeda
----------------------------------------
@Ozan Unsal @Kanitha Chim @Hubert Stefanski I created two MRs related to the request from QE about
adding new development branches based on the newest RHEL versions. Something we'll probably need to
do soon also for upstream with Centos... This add some metadata to the config files and the info.txt
which makes easier to pinpoint wich version of the upstream distro we're using. Could you review
them? • Upstream: https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/324
• Downstream:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/374

Message 816 - 2024-08-27 15:34
From: Juanje Ojeda
----------------------------------------
Sorry, This one had a typo and failed to show the right info. I fixed it:
https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/324 @Ozan Unsal could
you approve it again?

Message 817 - 2024-08-27 15:35
From: Ozan Unsal
----------------------------------------
sorry I couldn't see the typo :smile:

Message 818 - 2024-08-27 15:37
From: Juanje Ojeda
----------------------------------------
no worries

Message 819 - 2024-08-27 15:38
From: Juanje Ojeda
----------------------------------------
Now it shows the right info :slightly_smiling_face:

Message 820 - 2024-08-29 18:46
From: Juanje Ojeda
----------------------------------------
Checking for more missing stuff related to the nightly and the new releases, I found the culprit of
a few issues with the releases. The build and smoke-test jobs send the variable RELEASE, but they
don't have the rule for the release tag so, it always send the one defined in the config.yml file,
not the one send via the tag at the rhivos.git repo :confused: I created two MR for fixing that.
Please have a look at them: •
https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/326 •
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/377

Message 821 - 2024-09-03 14:18
From: Juanje Ojeda
----------------------------------------
@Ozan Unsal @Kanitha Chim @Roni Eliezer @Robert O'Brien @Michael Ho Could I have approvals for this
fix? It seems the culprit for the issues the MC release is having on ride4 for rebooting
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/381

Message 822 - 2024-09-03 14:19
From: Ozan Unsal
----------------------------------------
approved

Message 823 - 2024-09-04 15:26
From: Juanje Ojeda
----------------------------------------
@Ozan Unsal @Hubert Stefanski could you have a look to this error in Gator (evaluate-packages) job?
https://gitlab.cee.redhat.com/automotive/fences/gating/gator/-/jobs/25884807

Message 824 - 2024-09-09 10:10
From: Juanje Ojeda
----------------------------------------
@Sameera Kalgudi @Eli Mesika Are you aware of this error at the `certification-assembly` pipeline?
```$ dnf install -y --setopt=cachedir=${DNF_CACHE_DIR} git openssl ca-certificates krb5-devel
python-pip diffutils nmap-ncat procps-ng gcc python3.9-devel libreoffice ... No match for argument:
libreoffice Error: Unable to find a match: libreoffice```
https://gitlab.cee.redhat.com/automotive/pipe-x/certification-assembly/-/jobs/26642578

Message 825 - 2024-09-09 15:12
From: Juanje Ojeda
----------------------------------------
FYI, we've been merging all the changes required for the DevPreview-Update release and I already
triggered the release pipeline:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/9485443
Everything seems to be going fine, but we'll see. After the pipeline finish, I'll make sure the new
release is in the mirror and Ozan will lock the brew tag for the release. Then we'll announce the
release. I've checked and there have not been mayor updates, just 9 user space packages.

Message 826 - 2024-10-24 08:00
From: Juanje Ojeda
----------------------------------------
I realized we need to do the changes in two phases/pipelines: • Add the new config files, but using
the tags like for rhivos-1.0.0 • Let run the Gator gating job, so it gates the packages. • Trigger a
pipeline for that release, so the packages get promoted to -pending • Change the config files to use
-pending instead of -candidate as source • Tag the rhivos.git repo to trigger the release I've
prepared the MRs for the first config version: •
https://gitlab.cee.redhat.com/automotive/fences/gating/gator/-/merge_requests/41 •
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/403 •
https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/518 Please, have a look. Thanks.

Message 827 - 2024-10-24 14:41
From: Juanje Ojeda
----------------------------------------
After all those changes, we've already trigger Gator to gate the packages and now I triggered the
pipeline for testing the compose and promote it to `rhivos-1.0-tech-preview-pending`. Once it's
done, the compose will be gated and ready to build the release.
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/9875907

Message 828 - 2024-10-24 18:19
From: Juanje Ojeda
----------------------------------------
The pipeline finished fine (well a warning on the ridesx4 smoke-tests) and the packages were
promoted :slightly_smiling_face: We're ready for next week build :slightly_smiling_face:

Message 829 - 2024-10-28 16:13
From: Juanje Ojeda
----------------------------------------
I've prepared the MRs for the final steps before triggering the release, so we have them ready for
tomorrow and we can check/fix anything: •
https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/519 •
https://gitlab.cee.redhat.com/automotive/fences/gating/gator/-/merge_requests/42 •
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/406
Once we have those merged, we just need to trigger the release pipeline by creating the git tag at
the `rhivos.git` repo.

Message 830 - 2024-10-29 18:48
From: Juanje Ojeda
----------------------------------------
I've just created the tag `RHIVOS-1.0-TechPreview` at the `rhivos.git` repo and triggered the
release pipeline: https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/9910663 I a few hours
the release should be built and the _practice_ CTC will be triggered. Let's see in the morning how
all went :slightly_smiling_face:

Message 831 - 2024-10-30 10:08
From: Juanje Ojeda
----------------------------------------
The deploy from Testing Farm yesterday broke our pipelines :disappointed: More info here:
https://redhat-internal.slack.com/archives/C03BRN71JAF/p1730240102967429 There was a breaking change
that is affecting some jobs, that's why the release pipeline couldn't finish last night or this
morning :confused:

Message 832 - 2024-10-31 14:30
From: Juanje Ojeda
----------------------------------------
@Kanitha Chim @Ozan Unsal @Hubert Stefanski I created this MR based on something that we discussed
yesterday. We need to merge it *after* the release gets built, but we should have it ready and
approved before.
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/410

Message 833 - 2024-10-31 15:44
From: Kanitha Chim
----------------------------------------
@Juanje Ojeda @Ozan Unsal this might be useful
https://pp.engineering.redhat.com/rhivos-1.0/schedule/tasks/#red_hat_in_vehicle_operating_system_1_0.exceptions_phase.rhivos_1_0_tech_preview

Message 834 - 2024-10-31 17:21
From: Juanje Ojeda
----------------------------------------
As it seems like the kernel-debug bug was fixed, we'll starts the release build now. @Ozan Unsal has
triggered already. Here's the pipeline:
https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/9927334

Message 835 - 2024-10-31 17:21
From: Juanje Ojeda
----------------------------------------
Let's hope this is the good one and that we don't have any new issues :see_no_evil:

Message 836 - 2024-10-31 18:07
From: Kanitha Chim
----------------------------------------
@Juanje Ojeda this is still not merged
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/410

Message 837 - 2024-10-31 19:03
From: Ozan Unsal
----------------------------------------
@Kanitha Chim  This should be merged when the release pipeline finishes

Message 838 - 2024-10-31 19:20
From: Juanje Ojeda
----------------------------------------
Ouch :disappointed: We might need to stop the build :disappointed:
https://redhat-internal.slack.com/archives/C04RHEEGY30/p1730395178302619

Message 839 - 2024-10-31 19:23
From: Ozan Unsal
----------------------------------------
I am cancelling the release pipeline

Message 840 - 2024-11-01 14:43
From: Kanitha Chim
----------------------------------------
if we can merge this before building the release, that would be great
https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/521

Message 841 - 2024-11-01 15:36
From: Kanitha Chim
----------------------------------------
thanks @Sameera Kalgudi

Message 842 - 2024-11-04 09:17
From: Avihai Efrat
----------------------------------------
Hi folks good morning and happy Monday :slightly_smiling_face: FYI about Rachel mentioning that she
missed sudo packages in tech preview and that the kernel debug issue and fix seems to effect only
debug-kernel and not the usual kernel we use in production CTC. I remember @Juanje Ojeda mentioned
he planned to take this day off.
@Ozan Unsal @Kanitha Chim can you checkout the mentioned missing sudo package and see if we can
advance with tech preview release on our side?
Please be aware that Robert is also in PTO today so ping Simon or Miro directly on #C03BRN71JAF|
channel if we need something from TF.

Message 843 - 2024-11-04 12:17
From: Juanje Ojeda
----------------------------------------
FYI, in the end, I didn't take the day off, in case we needed to make a release. It seems we do,
right?

Message 844 - 2024-11-04 12:35
From: Avihai Efrat
----------------------------------------
looking at Rachels's message above it seems so @Juanje Ojeda but better make sure with her directly.

Message 845 - 2024-11-04 12:39
From: Juanje Ojeda
----------------------------------------
I mean, we already knew that. We knew that the error didn't affect the "practice" ctc, just the
manual kernel-debug tests, and the decision on the readiness meeting was to try to get this working
in a couple of days, if not, build it with out the fix, to avoid delaying too much the release. So,
the plan was to build today, with or without the fix. But I was hopping that maybe there was time to
make it with the fix :disappointed:

Message 846 - 2024-11-04 14:49
From: Juanje Ojeda
----------------------------------------
We're about to trigger the release pipeline. We're waiting on this MR, so the QA image have another
missing package: https://gitlab.com/redhat/edge/ci-cd/pipe-x/custom-images/-/merge_requests/46 Then
we'll trigger the release pipeline.

Message 847 - 2024-11-04 15:09
From: Juanje Ojeda
----------------------------------------
The MR was merged, so I've triggered the release. Let's see how it goes:
https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/9951972 Miro said that the workers are
already scaled up, so we shouldn't have many issues in that regard.

Message 848 - 2024-11-04 17:08
From: Juanje Ojeda
----------------------------------------
@Ozan Unsal @Kanitha Chim @Hubert Stefanski could I get some approvals here?
https://gitlab.cee.redhat.com/automotive/pipe-x/package-level-pipelines/-/merge_requests/168 It
seems like we're setting a lower timeout then the TF default timeout, and this is stopping too soon
some tests on the renesas boards.

Message 849 - 2024-11-04 17:08
From: Juanje Ojeda
----------------------------------------
We need to merge this before the ctc starts.

Message 850 - 2024-11-04 17:47
From: Juanje Ojeda
----------------------------------------
Ouch... :confused:

Message 851 - 2024-11-04 18:36
From: Ozan Unsal
----------------------------------------
It is gitlab this time. Otherwise everything was going smoothly

Message 852 - 2024-11-04 18:38
From: Juanje Ojeda
----------------------------------------
https://redhat.service-now.com/surl.do?n=INC3215026

Message 853 - 2024-11-05 06:22
From: Avihai Efrat
----------------------------------------
From the outage-list it looks like gitlab is back up and running from about ~4H ago.

Message 854 - 2024-11-05 06:52
From: Juanje Ojeda
----------------------------------------
It is. Even before was already working, but not fully. I retried some jobs and the release pipeline
is working, but it had some issues. Some AMIs were lost and I had to re-trigger the builds.

Message 855 - 2024-11-05 07:26
From: Juanje Ojeda
----------------------------------------
The release build finally finish! :partying_face:
https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS-1/RHIVOS-1.0-TechPreview/ The ctc
was already triggered.

Message 856 - 2024-11-25 14:42
From: Juanje Ojeda
----------------------------------------
@Kanitha Chim @Hubert Stefanski Could you review these MRs? We want to be able to pin the
automotive-image-builder and the automotive-osbuild container, so we can run safer releases. •
Upstream: https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/346 •
Downstream:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/418
The upstream one has more changes, but I split the changes into commits, to make it more digestible.
Not big MRs, but some changes there.

Message 857 - 2024-11-25 14:56
From: Juanje Ojeda
----------------------------------------
Thanks There is another MR related to that, but I still need to update the unit tests. But In case
you want to start reviewing it, here it's:
https://gitlab.com/redhat/edge/ci-cd/pipe-x/create-osbuild/-/merge_requests/174
All the MRs were tested together here:
https://gitlab.com/CentOS/automotive/src/automotive-image-builder/-/merge_requests/144

Message 858 - 2024-11-25 17:46
From: Juanje Ojeda
----------------------------------------
@Kanitha Chim @Ozan Unsal @Hubert Stefanski now the create-osbuild has the tests updated and it's
ready to be merged. Could I have some reviews?
https://gitlab.com/redhat/edge/ci-cd/pipe-x/create-osbuild/-/merge_requests/174

Message 859 - 2024-11-26 15:06
From: Juanje Ojeda
----------------------------------------
@Roni Eliezer @Ozan Unsal @Hubert Stefanski We have already a stable branch for a-i-b that we want
to test against for the nightly builds. Could you approve these MRs for pinning that branch? •
upstream: https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/347 •
downstream:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/419
Thanks

Message 860 - 2024-12-10 14:48
From: Juanje Ojeda
----------------------------------------
@Ozan Unsal @Kanitha Chim @Hubert Stefanski @Michael Ho could you have a look to this MR for
removing the `TechPreview-Update` builds (copies from `latest`) and the future ones?
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/424
With this change, we should have a less confusing product bucket. No future releases pre-build there
(like the `TechPreview-Update`) and also no `latest-RHIVOS-1.0` , just `latest-RHIVOS-1`. And
instead of store the previous latest with the name of that "future" release, it'll be just
`latest-RHIVOS-1-{timestamp}`.

Message 861 - 2024-12-10 14:53
From: Kanitha Chim
----------------------------------------
LGTM, what about the other dependencies? could you make sure it is changed accordingly?

Message 862 - 2024-12-10 14:54
From: Juanje Ojeda
----------------------------------------
What dependencies?

Message 863 - 2024-12-10 14:54
From: Kanitha Chim
----------------------------------------
TC?

Message 864 - 2024-12-10 14:54
From: Kanitha Chim
----------------------------------------
mirror

Message 865 - 2024-12-10 14:55
From: Juanje Ojeda
----------------------------------------
We don't mirror that "future" release, just the one we've already released. And TC only use the ones
in the mirror, so we're safe there.

Message 866 - 2024-12-10 14:56
From: Kanitha Chim
----------------------------------------
perfect!

Message 867 - 2024-12-10 14:57
From: Juanje Ojeda
----------------------------------------
That was also a confusing part for some. The "release" was in the product bucket, but not in the
mirror or TC :see_no_evil: If they wanted to use it, they would use `latest`

Message 868 - 2024-12-10 14:57
From: Juanje Ojeda
----------------------------------------
Very confusing...

Message 869 - 2024-12-10 19:10
From: Avihai Efrat
----------------------------------------
I was also concerned no one else somehow used it Kanitha, Now it’s crystal clear :crystal_ball:
:partying_face:

Message 870 - 2024-12-16 15:20
From: Kanitha Chim
----------------------------------------
@Roni Eliezer @Sameera Kalgudi @Marcel Banas it's likely that we have to rebuild techpreview (on
19th) or *later* so let's try to go through the release document before we have the meeting and
reach out to @Ozan Unsal @Juanje Ojeda while they are still here to answer the questions

Message 871 - 2024-12-16 15:21
From: Kanitha Chim
----------------------------------------

https://spaces.redhat.com/pages/viewpage.action?spaceKey=Automotive&amp;title=RHIVOS+Release+Checklist+Template

Message 872 - 2024-12-16 15:23
From: Juanje Ojeda
----------------------------------------
We won't need to do the whole checklist. We'll need to be sure that the right packages are there and
trigger the pipeline.

Message 873 - 2024-12-16 15:26
From: Kanitha Chim
----------------------------------------
(make sure we have permission to tag pkgs - I guess Sameera has)

Message 874 - 2024-12-16 15:31
From: Ozan Unsal
----------------------------------------
and also @Kanitha Chim make sure you can ssh to rcm-compose, if `promote-compose` job fails.

Message 875 - 2024-12-16 18:04
From: Juanje Ojeda
----------------------------------------
FYI, we found a bug in the tf-requests that affects to the smoke-tests for the release. Ozan and me
are working on fixing it, so we can have the smoke-tests working for the new build's pipeline. I
didn't add this to the readiness conversation to avoid adding some noise, too much important stuff
there and I don't want to make the thread a mess with too many topics.

Message 876 - 2024-12-16 21:18
From: Juanje Ojeda
----------------------------------------
It looks like the tf-requests bug has been fixed
(https://gitlab.com/redhat/edge/ci-cd/pipe-x/tf-requests/-/merge_requests/63) and the
`selinux-policy` exception has been approved, so we updated it in the compose
(https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/531). There is still one exception
in progress for the kernel-automotive (https://issues.redhat.com/browse/VROOM-25215), but it should
be soon and we don't need to do anything, it'll be added to the brew tag. So, it looks like we're
almost ready for the respin and most of our work is done. Here is an MR for adjusting the
TechPreview configs:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/428/diffs
We'll pin more components and this spin will have the suffix `-RC3` to avoid overriding the previous
one and its tests results. If everything goes fine with the pending exceptions we'll probably build
tomorrow.

Message 877 - 2024-12-17 09:00
From: Juanje Ojeda
----------------------------------------
I finally finished this, which we suppose to have it ready before the TP build, but with all that
has been happening I didn't have time to finish it. Maybe we can have it after all. It's for
building the images only using packages and tools from the RHIVOS compose. I'd appreciate the
reviews: • https://gitlab.com/redhat/edge/ci-cd/pipe-x/create-osbuild/-/merge_requests/176 •
https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/350 •
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/430
Those MRs need to be merged in that other. The first allow us to build the container image for
building the images using only the packages from the compose. It can also use a nightly
container-image built by the second and third MRs (upstream and downstream respectively).
cc @Ozan Unsal @Kanitha Chim @Hubert Stefanski @Roni Eliezer @Robert O'Brien @Marcel Banas @Sameera
Kalgudi

Message 878 - 2024-12-17 14:56
From: Juanje Ojeda
----------------------------------------
@Kanitha Chim @Marcel Banas do we need this for the rebuild or can we wait until it finishes?
https://gitlab.cee.redhat.com/automotive/fences/gating/gator/-/merge_requests/85

Message 879 - 2024-12-17 14:57
From: Kanitha Chim
----------------------------------------
it can wait

Message 880 - 2024-12-17 15:00
From: Juanje Ojeda
----------------------------------------
We're checking that everything is ready to trigger the pipeline. We'll tell you when we're ready.

Message 881 - 2024-12-17 15:08
From: Ozan Unsal
----------------------------------------
Here are the checks before triggering the release • Packages are tagged and verified with
`rhivos-1.0-tech-preview-candidate` :check: • We have the updated pungi config at rhivos.git
(https://gitlab.cee.redhat.com/automotive/rhivos/-/blob/rhivos-1.0-tech-preview/pungi-config/rhivos-odcs.conf?ref_type=heads)
:check: • RHIVOS-1.0-TechPreview
(https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/blob/main/.gitlab/release-configs/RHIVOS-1.0-TechPreview.yml?ref_type=heads)
config was updated in d-p-a-c :check: • Gator evaluate
(https://gitlab.cee.redhat.com/automotive/fences/gating/gator/-/blob/main/config/RHIVOS-1.0-TechPreview-gating.yaml?ref_type=heads)
and promote
(https://gitlab.cee.redhat.com/automotive/fences/gating/gator/-/blob/main/config/RHIVOS-1.0-TechPreview-promote.yaml?ref_type=heads)
files were updated :check: • No waiting MRs for the RC3 :check:

Message 882 - 2024-12-17 15:10
From: Juanje Ojeda
----------------------------------------
This is the configuration for the scheduler pipeline we'll run for the respin

Message 883 - 2024-12-17 15:10
From: Juanje Ojeda
----------------------------------------
And here is the release pipeline (we just clicked the button for that scheduler pipeline):
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/10295953

Message 884 - 2024-12-17 16:43
From: Juanje Ojeda
----------------------------------------
And everything went fine... until it wasn't... :disappointed: Some error in the builds due something
in Testing Farm. I'm trying to get someone from there to help us, but not luck so far. We're getting
this error in the builds: ```[2024-12-17 16:14:22] [+] [git]
&lt;RemoteGitRepository(clone_url=https://gitlab.com/redhat/edge/ci-cd/pipe-x/create-osbuild.git,
branch=not specified, ref=0.1.0)&gt; [2024-12-17 16:14:22] [+] [test-schedule-tmt-connect] cloning
repo https://gitlab.com/redhat/edge/ci-cd/pipe-x/create-osbuild.git (branch not specified, ref
0.1.0) [2024-12-17 16:14:23] [E] [test-scheduler-testing-farm] Exception raised: Failed to fetch ref
0.1.0: error: cannot update ref 'refs/heads/gluetool/0.1.0': trying to write non-commit object
81fe069ac7f6bd7d75826b6715d524c480ce20aa to branch 'refs/heads/gluetool/0.1.0' From
https://gitlab.com/redhat/edge/ci-cd/pipe-x/create-osbuild ! [new tag] 0.1.0 -&gt; gluetool/0.1.0
(unable to update local ref)``` For some reason, it's not checkout to the tag at that repo, but the
tag exists :confused: It suppose to support tags, so I don't know what the problem is. Let's see if
they answer soon.
I think I'll try alternatively to trigger another pipeline using the commit sha instead of the tag.
Just in case they don't answer of give us a solution today.

Message 885 - 2024-12-17 16:45
From: Juanje Ojeda
----------------------------------------
This is the new pipeline I triggered:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/10296827 If
we can fix the other in TF, I'll cancel this one, if not, I hope the commit sha works and this
pipeline passes :crossed_fingers:

Message 886 - 2024-12-17 18:03
From: Juanje Ojeda
----------------------------------------
UPDATES: The errors in the first pipeline looks like a Testing Farm error :confused: But the second
pipeline (with a workaround) is working, so plan B is working and we keep going :ok_hand:

Message 887 - 2024-12-17 18:34
From: Juanje Ojeda
----------------------------------------
FYI, this is the config for the new pipeline. The workaround is to send the `OSBUILD_TMT_REPO_REF`
commit hash instead of the tag. And it worked.
cc @Kanitha Chim @Roni Eliezer @Sameera Kalgudi @Marcel Banas

Message 888 - 2024-12-17 22:56
From: Juanje Ojeda
----------------------------------------
The pipeline finished and we have a new release:
https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS-1/RHIVOS-1.0-TechPreview-RC3/ It's
also in the mirror: https://download.eng.brq.redhat.com/rhivos/RHIVOS-1/RHIVOS-1.0-TechPreview-RC3/

Message 889 - 2024-12-17 22:57
From: Juanje Ojeda
----------------------------------------
I hope we don't need to rebuild. But something came up before (maybe a missing package for testing),
so we're not sure about it :confused:

Message 890 - 2024-12-18 08:09
From: Kanitha Chim
----------------------------------------
@Ozan Unsal can I retry this job from the pipeline
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/29791173?

Message 891 - 2024-12-18 08:23
From: Ozan Unsal
----------------------------------------
Sure you can retry and if it won't work, you can repeat the steps manually. So it will be a good
practice :smile:

Message 892 - 2024-12-18 09:00
From: Kanitha Chim
----------------------------------------
the job failed again but there is something wrong with the dir here: ``odcs-promote-compose
/mnt/odcs/prod/odcs- /mnt/redhat/rhel-9/composes/RHIVOS/ --allow-unsigned --compose-type test`
/mnt/odcs/prod/odcs-

Message 893 - 2024-12-18 09:01
From: Kanitha Chim
----------------------------------------
I think it misses the directory

Message 894 - 2024-12-18 09:01
From: Kanitha Chim
----------------------------------------
I think it's the reason why it keeps failing

Message 895 - 2024-12-18 09:03
From: Kanitha Chim
----------------------------------------
where does `COMPOSE_ID` come from?

Message 896 - 2024-12-18 09:07
From: Roni Eliezer
----------------------------------------
@Kanitha Chim i see it generate-compose

Message 897 - 2024-12-18 09:09
From: Kanitha Chim
----------------------------------------
@Roni Eliezer it's different issue with promote compose to /mnt/redhat

Message 898 - 2024-12-18 09:25
From: Ozan Unsal
----------------------------------------
The variable is set in generate-compose job and used in the promote-compose job

Message 899 - 2024-12-18 18:04
From: Juanje Ojeda
----------------------------------------
The pending change in the Pungi config, was merged so I started the release pipeline for
`RHIVOS-1.0-TechPreview-RC4`:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/10307392

Message 900 - 2024-12-18 18:21
From: Juanje Ojeda
----------------------------------------
I created an MR for the mirror script:
https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/408 We want this new
RC4 synced there, but we don't want the previous RC, just the ones used by Test Console.

Message 901 - 2024-12-18 19:38
From: Juanje Ojeda
----------------------------------------
The new build is looking good. The compose already built and has the missing package in it, all the
images have already built as well and most of the smoke-tests have already passed. We're still
waiting for two of the rcar_s4 tests. Then, just the promotion jobs :slightly_smiling_face:

Message 902 - 2024-12-18 23:41
From: Juanje Ojeda
----------------------------------------
It's already in other chats, but just in case. The pipeline was fine and the release is out
:slightly_smiling_face:
https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS-1/RHIVOS-1.0-TechPreview-RC4/ Thanks
everyone for the support and the approvals :slightly_smiling_face:

Message 903 - 2025-03-16 23:00
From: Unknown
----------------------------------------
*Alert*

Message 904 - 2025-03-23 23:00
From: Unknown
----------------------------------------
*Alert*

Message 905 - 2025-03-30 23:00
From: Unknown
----------------------------------------
*Alert*

Message 906 - 2025-04-01 14:49
From: Unknown
----------------------------------------
*Alert*

Message 907 - 2025-04-01 16:05
From: Juanje Ojeda
----------------------------------------
@Avihai Efrat @Kanitha Chim is CAT going to run any tests for TechPreview-Update? Should we add the
ticket/step for notify them?

Message 908 - 2025-04-01 16:11
From: Juanje Ojeda
----------------------------------------
@Hubert Stefanski @Eitan Raviv If I'm not mistaken, we don't need to enable any release runners
anymore for the releases, correct? We should be fine with the pools we have.

Message 909 - 2025-04-01 16:38
From: Juanje Ojeda
----------------------------------------
@Avihai Efrat @Kanitha Chim what about uploading the content to somewhere, like this ticket?
https://issues.redhat.com/browse/VROOM-23401 I guess we don't do that anymore, right? Now we use the
CDN and Errata? What would be the equivalent (if we have one) for that task, for this release?

Message 910 - 2025-04-06 23:02
From: Unknown
----------------------------------------
*Alert*

Message 911 - 2025-04-07 16:40
From: Eitan Raviv
----------------------------------------
!channel The gitlab runner pools upstream and downstream is undergoing a rolling upgrade. The
instances in the pool are being updated one at a time so that service is not interrupted but
unfortunately a particular job may fail if it is running on an instance at the moment that it is
being stopped after having being replaced with a new one. If a job fails in the coming 10 minutes,
please restart it and it should be rescheduled to an updated instance and pass. Sorry for the
inconvenience. :yellow_alert:

Message 912 - 2025-04-08 15:56
From: Marcel Banas
----------------------------------------
Hello @Rachel Sibley @Petr Matyas, I am reaching out to you regarding RHIVOS's TechPreview Update
item in release checklist
(https://spaces.redhat.com/display/Automotive/RHIVOS+Release+checklist+RHIVOS+1.0-TechPreview-Update):
&gt; *Polarion*: verify with Rachel Sibley (https://spaces.redhat.com/display/~rasibley) or Petr
Matyas (https://spaces.redhat.com/display/~pmatyas) that an ID was created &gt; The ID is the
released version e.g.: *RHIVOS1.0-TechPreviewUpdate* I wanted to ask about the ID for this version
in Polarion. Or if it perhaps is handled some different way in Polarion, please let us know. Thank
you in advance. Also in case there are other questions regarding this, please reach out to us.
cc: @Juanje Ojeda @Sameera Kalgudi

Message 913 - 2025-04-08 16:29
From: Avihai Efrat
----------------------------------------
@Juanje Ojeda @Marcel Banas as in this release we will no be running CTC tests or upload anything to
polarion AFAIK, is this release step needed?
Usually we do that but this release is a more build and Errata practice one and not a test/CTC  one.

Message 914 - 2025-04-08 17:52
From: Juanje Ojeda
----------------------------------------
Oh, that's true :thinking_face: Good catch, @Avihai Efrat! Thanks We only need that when we run the
CTC, so we push it to the release ID in Polarion. Sorry, @Rachel Sibley @Petr Matyas, never mind
:see_no_evil: @Marcel Banas we can remove this step from this release's checklist.

Message 915 - 2025-04-08 18:39
From: Avihai Efrat
----------------------------------------
Your welcome @Juanje Ojeda :hugging_face: It’s good practice in any case as 1.0GA and regular
releases (TPU is the exception ) will run CTC and need this in place so energy well spent @Marcel
Banas

Message 916 - 2025-04-08 18:44
From: Kanitha Chim
----------------------------------------
For postmortem: I see we have a `generate-cat-manifest` job, I think we can remove it to save
pipeline resource

Message 917 - 2025-04-08 18:47
From: Juanje Ojeda
----------------------------------------
I believe we use those manifest for the package testing. As a easy way to find the NVR for the
package in the release. I wouldn't remove it :sweat_smile: At least not until we change the way we
check the NVR.

Message 918 - 2025-04-08 18:50
From: Kanitha Chim
----------------------------------------
I didn't know that

Message 919 - 2025-04-08 18:50
From: Kanitha Chim
----------------------------------------
never mind then

Message 920 - 2025-04-08 18:51
From: Kanitha Chim
----------------------------------------
:smile:

Message 921 - 2025-04-08 19:36
From: Avihai Efrat
----------------------------------------
Hi @Kanitha Chim , how is the F2F going do far ? I hope you’re having some fun and it’s not all work
:wink:

Message 922 - 2025-04-09 08:31
From: Marcel Banas
----------------------------------------
Hello, with @Juanje Ojeda we tried to create the TechPreview-Update release build.
When we created the release tag in TechPreviewUpdate branch, the pipeline failed on the dependency
of jobs `promote-packages-in-brew`/`selftest-product-build`
We checked whether there were some recent changes in dependencies of these jobs, or MR's that touch
these jobs, but did not find anything so far.
Juanje then tried to test trigger a normal pipeline at the rhivos.git repository and pipeline worked
fine, but pipelines from tags have this problem:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/11314043
If someone has an idea where the issue might lie, please let us know.

Message 923 - 2025-04-09 09:25
From: Juanje Ojeda
----------------------------------------
I managed to trigger a release pipeline by using a scheduled pipeline with the right variables, but
we still don't know why that dependency error is happening. But, as the pipeline worked fine from
the scheduled pipeline, the issue must be related to the trigger :thinking_face: Anyway, at least
now we have a release pipeline running:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/11314794
We'll keep investigating what was the problem with the trigger. Any help and ideas are welcome
:slightly_smiling_face:

Message 924 - 2025-04-09 12:40
From: Kanitha Chim
----------------------------------------
looks like the pipeline finished?

Message 925 - 2025-04-09 12:58
From: Juanje Ojeda
----------------------------------------
Yes, it did :slightly_smiling_face: @Marcel Banas is checking one things, but the compose built with
the right packages and versions, the images built and the smoke-test passed :slightly_smiling_face:

Message 926 - 2025-04-09 12:58
From: Juanje Ojeda
----------------------------------------
He'll have more news soon

Message 927 - 2025-04-09 13:02
From: Marcel Banas
----------------------------------------
Hello, we have a TechPreview-Update
(https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS-1/RHIVOS-1.0-TechPreview-Update/)
build completed, with pipeline passed
(https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/11314794)
and the updated packages related to this release correctly in the compose.
Big thanks to @Juanje Ojeda for resolving all issues along the way :+1: and folks in #C0672KC5RDH|
for support and approvals.

Message 928 - 2025-04-09 13:18
From: Sameera Kalgudi
----------------------------------------
Hi All, I have locked the release tag for this release and can be verified here:
https://brewweb.engineering.redhat.com/brew/taginfo?tagID=146522

Message 929 - 2025-04-09 13:20
From: Sameera Kalgudi
----------------------------------------
Thanks you @Marcel Banas and @Juanje Ojeda for smooth release :thankyou:

Message 930 - 2025-04-09 19:42
From: Eitan Raviv
----------------------------------------
:yellow_alert: All, tomorrow April 10th at 05:00AM UTC all AWS downstream runner pools (pipe-x,
pipe-x-release, gating, services) will get a code update. The update is deployed to the pools in a
rolling fashion guaranteeing continuity of service for new jobs. But jobs already running when the
update starts might be terminated abruptly without notice. The update is supposed to last
approximately 10 minutes. Please plan your pipeline invocations accordingly. A separate message will
be sent once the update is complete. Thank you

Message 931 - 2025-04-10 05:44
From: Eitan Raviv
----------------------------------------
:green_alert: All runners pools are now back online

Message 932 - 2025-04-13 23:02
From: Unknown
----------------------------------------
*Alert*

Message 933 - 2025-04-17 21:33
From: Ozan Unsal
----------------------------------------
:green_alert: *TechPreview-Update-RC2 Respin Completed*
We’ve respun the *TechPreview-Update RC2* release due to a mismatch with the original TechPreview
compose. *Cause:* The `comps` file was pulled from the `main` branch, which added extra packages to
the compose. *Fix:* The config file was corrected and the compose has been regenerated. :repeat:
*Respin pipeline:*
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/11396610
:package: *Artifacts:*
https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS-1/RHIVOS-1.0-TechPreview-Update-RC2/
Sorry for the inconvenience, and thanks for your understanding. Please use the updated compose
moving forward. Let me know if you have any questions!

Message 934 - 2025-04-20 04:44
From: Unknown
----------------------------------------
*Alert*

Message 935 - 2025-04-20 05:17
From: Unknown
----------------------------------------
*Alert*

Message 936 - 2025-04-20 16:25
From: Unknown
----------------------------------------
*Alert*

Message 937 - 2025-04-20 20:30
From: Unknown
----------------------------------------
*Alert*

Message 938 - 2025-04-27 23:02
From: Unknown
----------------------------------------
*Alert*

Message 939 - 2025-04-27 23:12
From: Unknown
----------------------------------------
*Alert*

Message 940 - 2025-04-29 04:26
From: Unknown
----------------------------------------
*Alert*

Message 941 - 2025-04-29 05:03
From: Unknown
----------------------------------------
*Alert*

Message 942 - 2025-05-04 23:02
From: Unknown
----------------------------------------
*Alert*

Message 943 - 2025-05-05 18:00
From: Juanje Ojeda
----------------------------------------
:announcement: *Summary* of the current efforts and status: • Pipeline 1 (`rhivos-1.0.0` for the
release): ◦ We added the -gate tag to a package that was missing it, and now it built the compose
with all the expected packages. ◦ We changed from `rhivos-1.0.0-pending` to `rhivos-1.0.0-candidate`
as Petr suggested. • Pipeline 2 (`latest-RHIVOS-1.0`): ◦ We added manually the tag -gate to the
`selinux-policy-automotive` and now we're re-building the compose to see if this time we're not
missing it. ◦ It's blocked by the package `selinux-policy-38.1.53-5.el9_6`. We're trying to tag it
as well. • Pipeline 3 (`latest-RHIVOS-1` - `latest-RHIVOS-1.1`- main): ◦ We're identifying all the
package with the tag `rhivos-1.1.0` that don't have the tag `rhivos-1.1.0-gate` , so we can add the
tag, run Gator to promote them to `rhivos-1.1.0-candidate` and build the compose. ◦ There are a lot
more packages in that state than we initially though :thinking_face: There are some MRs for the
release's config files, but they are blocked by those pipelines.
The infra (mostly Brew) it's very slow today, so all the compose builds are taking forever...
:disappointed:

Message 944 - 2025-05-05 18:33
From: Juanje Ojeda
----------------------------------------
Added the status update to this canvas, so it's easier and clearer. F08R27LHARZ

Message 945 - 2025-05-06 12:20
From: Juanje Ojeda
----------------------------------------
All the required configurations and changes for the RC1 in the Toolchain side are ready and we
triggered the build. We expect it to work (we have many issues yesterday, but we already passed one
pipeline with that compose). Hopefully we'll have a build in a few hours so we can check that
everything is fine:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/11577549

Message 946 - 2025-05-06 14:24
From: Juanje Ojeda
----------------------------------------
The compose and all the images were already built and the smoke-tests are running
:slightly_smiling_face:

Message 947 - 2025-05-06 14:52
From: Juanje Ojeda
----------------------------------------
Regarding the step of adding the new release to TC, I believe we don't need it anymore. Checking the
code I realized that Roni added a feature to pull the releases names from the bucket, so we don't
need to update the list manually :partying_face: I'll check that it works after the new release
finish and it's been pushed to the bucket.

Message 948 - 2025-05-07 06:24
From: Avihai Efrat
----------------------------------------
I want to give a huge shout-out and heartfelt thanks to @Juanje Ojeda, @Ozan Unsal, @Kanitha Chim,
and @Petr Sabata anyone else I missed for their incredible dedication and late-night efforts over
the past few weeks. Your hard work was instrumental in the successful preparation and build of the
1.0RC1, 1.0.Z, and 1.1 branches—pulled off on very short notice. Truly outstanding teamwork—thank
you all! :clap::clap::clap:

Message 949 - 2025-05-07 06:25
From: Avihai Efrat
----------------------------------------
set the channel topic: Release: 1.0RC / May 7th Coordinator: Juanje/Ozan
Internal channel for ATC release coordination. Release readiness with a wider audience can be
coordinated in #C04RHEEGY30|!

Message 950 - 2025-05-07 08:00
From: Avihai Efrat
----------------------------------------
Hi folks, good morning :slightly_smiling_face: RHIVOS-1.0.0-RC1 is built successfully :check:and
ready to be tested, and we're moving to the trigger CTC part.
As we discussed in yesterday's ATC Open sync meeting, to start the RC1 CTC, we need to do the
following(add/change if I missed something): 1. Prep/changes/MR test console for the RC1 CTC run -
@Juanje Ojeda @Luigi Pellecchia is there something that needs to be done there? I do not see the new
RC1 image at the test console UI list but I'm not sure if it's needed for CTC triggering or just a
UI thing. 2. Remove the old S4 boards v1.2 boards out of the S4-ATC pool by 12pm UTC today (@Robert
O'Brien already sent a message to #C04QYR4CBFB| yesterday as a heads up) - @Robert O'Brien will take
care of this one, please update here when it's done. 3. Trigger the CTC via Test console as
requested below - @Juanje Ojeda @Luigi Pellecchia I remember Juanje mentioned it's manually done
right? who will be doing the triggering Once we make sure steps 1 and 2 are done? a. Scope: Full .
b. Make sure we're using the RC1 image CC: @Rachel Sibley if I missed anything, do add it here.

Message 951 - 2025-05-07 15:29
From: Avihai Efrat
----------------------------------------
Hi gang, out of the release-readiness meeting, with the following news to share for those not there:
1. We got the approval from the FuSa gods(Matthew) that we can use mixed boards revisions
:partying_face: [Original full message can be seen here
(https://redhat-internal.slack.com/archives/C04R6FSEM3K/p1746534116664719)] , this means we can add
the S4 boards back and have other folks use the pool - @Robert O'Brien can you take care of that? 2.
RC2 is planned for next week - expected to be available EOD Tuesday, May 13. So the plan here is to
start to build Monday, IIUC @Juanje Ojeda @Ozan Unsal 3. That ^^ means we would like to start CTC
again at about ~May14 @Luigi Pellecchia @Roni Eliezer @Robert O'Brien 4. Last update around RC:
Blocker/exception end date - Proposed new date: June 13th (was July 1st) - not sure if this will
affect the delivery of the release (Like Errata or compose level gating due date) @Kanitha Chim
@Petr Sabata CC: @Rachel Sibley @Petr Sabata @Paul Caramuto

Message 952 - 2025-05-07 15:32
From: Rachel Sibley
----------------------------------------
so @Robert O'Brien @Simon Walter I guess we can add those boards back :melting_face:

Message 953 - 2025-05-07 15:32
From: Juanje Ojeda
----------------------------------------
I've updated the ATC pipeline canvas with the latest status. We have good progress:
https://redhat.enterprise.slack.com/docs/T027F3GAJ/F08R27LHARZ

Message 954 - 2025-05-07 15:34
From: Avihai Efrat
----------------------------------------
Can we add the v1.2 boards back to the pool without disrupting CTC?

Message 955 - 2025-05-07 15:43
From: Robert O'Brien
----------------------------------------
Enabling the boards is easy to do and next test should run on it. Rachel is going to clarify whether
we can correlate the hostname recorded in sut_details.log and Confluence and meet FuSa ask. I can
enable one or more boards now, while we await that clarification, since this will not be final CTC.
@Avihai Efrat WDYT ?

Message 956 - 2025-05-07 15:44
From: Avihai Efrat
----------------------------------------
Sounds good @Robert O'Brien :+1::skin-tone-2:

Message 957 - 2025-05-07 15:53
From: Robert O'Brien
----------------------------------------
24 boards enabled in the pool, and all 24 have jobs running now.

Message 958 - 2025-05-11 23:02
From: Unknown
----------------------------------------
*Alert*

Message 959 - 2025-05-14 07:34
From: Avihai Efrat
----------------------------------------
HI @Ozan Unsal @Juanje Ojeda, It seems we have all that's needed to start RC2, checkout more details
in the #C04RHEEGY30|. Are you around to check if we can start RC2 with the suggested changes and
answer in the #C04RHEEGY30| thread?
Thank you both :pray:
CC: @Paul Caramuto @Kanitha Chim @Marcel Banas @Sameera Kalgudi

Message 960 - 2025-05-14 14:32
From: Avihai Efrat
----------------------------------------
Any idea about the new repoclosure job
(https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/34567123)
failures @Pavol Brilla @Petr Sabata? It's not blocking the pipeline release but still I wornder if
this is something to worry about ?
```OMMAND: dnf repoclosure --arch=aarch64 --arch=noarch --forcearch=aarch64
--repofrompath=RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64,file:///mnt/odcs/prod/odcs-4160424/compose/RHIVOS/aarch64/os
--repo=RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64
--check=RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64
------------------------------------------------------------------------------- Not root,
Subscription Management repositories not updated Added
RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64 repo from
file:///mnt/odcs/prod/odcs-4160424/compose/RHIVOS/aarch64/os
RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarc 109 MB/s | 8.9 MB 00:00 Last metadata expiration
check: 0:00:01 ago on Wed May 14 09:17:59 2025. Error: Repoclosure ended with unresolved
dependencies (13) across 7 packages. package: clang-18.1.8-3.el9.aarch64 from
RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64 unresolved deps (4): libLLVM.so.18.1()(64bit)
libLLVM.so.18.1(LLVM_18.1)(64bit) libclang-cpp.so.18.1()(64bit) clang-libs(aarch-64) = 18.1.8-3.el9
package: clang-analyzer-18.1.8-3.el9.noarch from RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64
unresolved deps (1): clang = 18.1.8-3.el9 package: clang-libs-18.1.8-3.el9.aarch64 from
RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64 unresolved deps (2): libLLVM.so.18.1()(64bit)
libLLVM.so.18.1(LLVM_18.1)(64bit) package: gcc-toolset-15-15.0-3.el9.aarch64 from
RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64 unresolved deps (3): gcc-toolset-15-gcc
gcc-toolset-15-gcc-c++ gcc-toolset-15-gcc-gfortran package:
kernel-automotive-debug-modules-partner-5.14.0-583.532.el9iv.aarch64 from
RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64 unresolved deps (1): kernel-debug-modules-uname-r
= 5.14.0-583.532.el9iv.aarch64+debug package:
kernel-automotive-modules-partner-5.14.0-583.532.el9iv.aarch64 from
RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64 unresolved deps (1): kernel-modules-uname-r =
5.14.0-583.532.el9iv.aarch64 package: vdo-8.2.2.2-1.el9.aarch64 from
RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64 unresolved deps (1): kmod-kvdo &gt;= 8.2 ++ exit
1 Cleaning up project directory and file based variables 00:00 ERROR: Job failed: exit code 1```

Message 961 - 2025-05-18 23:02
From: Unknown
----------------------------------------
*Alert*

Message 962 - 2025-05-22 04:43
From: Unknown
----------------------------------------
*Alert*

Message 963 - 2025-05-22 05:29
From: Unknown
----------------------------------------
*Alert*

Message 964 - 2025-05-25 23:02
From: Unknown
----------------------------------------
*Alert*

Message 965 - 2025-05-27 07:37
From: Unknown
----------------------------------------
*Alert*

Message 966 - 2025-05-27 08:37
From: Unknown
----------------------------------------
*Alert*

Message 967 - 2025-05-28 04:45
From: Unknown
----------------------------------------
*Alert*

Message 968 - 2025-05-28 14:03
From: Juanje Ojeda
----------------------------------------
I've already created the Epic and the checklist for RC3, if anyone is missing anything, please add
it there: https://issues.redhat.com/browse/VROOM-29937 I didn't add the lock ticket because I think
we said that we should lock only after the GA is out. Or at least when we know that we're not going
to build any other RC.

Message 969 - 2025-06-01 23:02
From: Unknown
----------------------------------------
*Alert*

Message 970 - 2025-06-04 14:40
From: Juanje Ojeda
----------------------------------------
As tomorrow the Testing Farm will be less available (they're preparing for DevConf), it was decided
to trigger the RC3 build today instead of tomorrow. So I triggered:
https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/11871883

Message 971 - 2025-06-04 14:40
From: Juanje Ojeda
----------------------------------------
Here is the actual build pipeline (dpac):
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/11871884

Message 972 - 2025-06-04 14:42
From: Ozan Unsal
----------------------------------------
oohh it failed due to unsigned bluechi-agent ``Unsigned
packages:\nbluechi-agent-1.0.1-1.el9_6iv\n",``

Message 973 - 2025-06-04 14:43
From: Ozan Unsal
----------------------------------------
@Kanitha Chim @Marcel Banas can we sign this package?

Message 974 - 2025-06-04 14:43
From: Juanje Ojeda
----------------------------------------
yep, I've just posted it at the pipelines chat :confused:

Message 975 - 2025-06-04 16:57
From: Juanje Ojeda
----------------------------------------
set the channel topic: Release: 1.0 RC3 / Jun 5th Coordinator: Juanje/Ozan
Internal channel for ATC release coordination. Release readiness with a wider audience can be
coordinated in #C04RHEEGY30|!

Message 976 - 2025-06-04 18:25
From: Juanje Ojeda
----------------------------------------
@Marcel Banas signed the package via errata and now it looks like the pipeline is generating the
compose :partying_face:
https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/35533934

Message 977 - 2025-06-04 22:16
From: Juanje Ojeda
----------------------------------------
It passed :white_check_mark: :slightly_smiling_face: Habemus RC3:
https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS-1/RHIVOS-1.0.0-RC3/

Message 978 - 2025-06-08 23:02
From: Unknown
----------------------------------------
*Alert*

Message 979 - 2025-06-15 23:02
From: Unknown
----------------------------------------
*Alert*

Message 980 - 2025-06-22 23:02
From: Unknown
----------------------------------------
*Alert*

Message 981 - 2025-06-29 23:02
From: Unknown
----------------------------------------
*Alert*

Message 982 - 2025-07-02 05:09
From: Eitan Raviv
----------------------------------------
All Pipe-X u\s and d\s, Pipe-X Release, Gating, Services and FOA runner pools, will be stopped for
an update at 05:20UTC. The update will last approximately 30 minutes. During the update service will
be unavailable. A separate message will be sent once the update is finished. :yellow_alert:

Message 983 - 2025-07-02 05:34
From: Unknown
----------------------------------------
*Alert*

Message 984 - 2025-07-06 23:02
From: Unknown
----------------------------------------
*Alert*

Message 985 - 2025-07-13 23:02
From: Unknown
----------------------------------------
*Alert*

Message 986 - 2025-07-17 05:59
From: Unknown
----------------------------------------
*Alert*

Message 987 - 2025-07-17 06:23
From: Unknown
----------------------------------------
*Alert*

Message 988 - 2025-07-20 23:02
From: Unknown
----------------------------------------
*Alert*

Message 989 - 2025-07-27 23:02
From: Unknown
----------------------------------------
*Alert*

Message 990 - 2025-07-27 23:12
From: Unknown
----------------------------------------
*Alert*

Message 991 - 2025-07-31 19:57
From: Unknown
----------------------------------------
*Alert*

Message 992 - 2025-08-03 22:00
From: Unknown
----------------------------------------
*Alert*

Message 993 - 2025-08-10 22:00
From: Unknown
----------------------------------------
*Alert*

Message 994 - 2025-08-17 22:00
From: Unknown
----------------------------------------
*Alert*

Message 995 - 2025-08-24 22:00
From: Unknown
----------------------------------------
*Alert*

Message 996 - 2025-08-31 22:00
From: Unknown
----------------------------------------
*Alert*

Message 997 - 2025-09-07 22:00
From: Unknown
----------------------------------------
*Alert*

Message 998 - 2025-09-14 22:00
From: Unknown
----------------------------------------
*Alert*

Message 999 - 2025-09-21 22:00
From: Unknown
----------------------------------------
*Alert*

Message 1000 - 2025-09-28 22:00
From: Unknown
----------------------------------------
*Alert*

