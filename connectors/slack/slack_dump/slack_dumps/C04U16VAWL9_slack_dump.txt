# Slack Channel Dump
# Channel ID: C04U16VAWL9
# Generated: 2025-10-03T20:23:16.499415
# Total Messages: 1000

[2023-06-13T13:56:11.127869] Michael Ho: Bad idea to copy from the previous release
[2023-06-13T13:56:35.945759] Jim Bair: that's what I was told to do :smile:
[2023-06-13T13:56:57.699179] Jim Bair: Are we supposed to build up configs from scratch every release?
[2023-06-13T13:57:26.941089] Khaled El-Sayed: When I did the diff for 0.13 and 0.14, I got
&gt; debugedit-5.0-4.el9
46c47
&gt; hirte-0.3.0-1.el9iv
102c104
&gt; liburing-2.3-2.el9
195c195
[2023-06-13T13:57:50.747899] Khaled El-Sayed: I got more than this but these were the new packages, not updates
[2023-06-13T13:58:19.077729] Jim Bair: <@U04NNGY4QQ2> looks like 3 additions
[2023-06-13T13:59:27.663619] Khaled El-Sayed: I also got a few cases where there were 2 instances of a package in 0.13 and reduced to 1 instance in 0.14:
&lt; kernel-5.14.0-312.el9
&lt; kernel-automotive-5.14.0-287.250.el9iv
&lt; kernel-automotive-5.14.0-295.258.el9iv
---
&gt; kernel-5.14.0-325.el9
&gt; kernel-automotive-5.14.0-322.285.el9iv
118c119
&lt; libdnf-0.69.0-2.el9
&lt; libdnf-0.69.0-3.el9_2
---
&gt; libdnf-0.69.0-5.el9
141c141
&lt; libgcrypt-1.10.0-10.el9_1
&lt; libgcrypt-1.10.0-9.el9_1
---
&gt; libgcrypt-1.10.0-10.el9_2
180,181c179,180
[2023-06-13T14:00:22.263419] Khaled El-Sayed: Don't know if that means anything or not :sweat_smile:
[2023-06-13T14:00:54.083769] Khaled El-Sayed: But for the additions, should I add them to `additional_and_filter_packages.conf`?
[2023-06-13T14:01:28.996509] Ozan Unsal: liburing is dependency for qemu-img so we can resolve it with pungi. We don't need to add liburing into `additional_and_filter_packages.conf` . However `hirte`  is not dependent to another package, so we should add it.
[2023-06-13T14:02:31.604869] Ozan Unsal: But if we want 100% sure, it is better to add all to the `additional_and_filter_packages.conf` . Otherwise we should remember which one is dependent etc.
[2023-06-13T14:03:35.392239] Khaled El-Sayed: I can add all of them if it's safer
[2023-06-13T14:03:54.226109] Jim Bair: release should match 1.0.0-candidate, IMO
[2023-06-13T14:04:01.447479] Jim Bair: at least for now
[2023-06-13T14:04:18.375079] Jim Bair: <@U04JRTQ4LHK> <@U0171SJF00H> thoughts?
[2023-06-13T14:04:32.473999] Hubert Stefanski: For now yeah
[2023-06-13T14:05:25.350949] Michael Ho: Yeah, it should be a snapshot of 1.0.0-candidate
[2023-06-13T14:05:35.094929] Jim Bair: <@U03Q57JBXK4> yep add all 3!
[2023-06-13T14:06:26.222809] Khaled El-Sayed: Just to be sure, I'm adding names, no version and release, right?
[2023-06-13T14:06:38.690749] Jim Bair: correct
[2023-06-13T14:06:45.139869] Khaled El-Sayed: So `debugedit`, `hirte`, `liburing`
[2023-06-13T14:09:18.737599] Jim Bair: correct; you'll add them here
[2023-06-13T14:09:23.115189] Jim Bair: <https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/465/diffs#604dce9e1d2919f75274eb16b0a6a09a91abd572_0_214>
[2023-06-13T14:09:40.592719] Jim Bair: alphabetically so they're easy to find :slightly_smiling_face:
[2023-06-13T14:11:28.420539] Ozan Unsal: +1 Jim
[2023-06-13T14:13:36.994699] Khaled El-Sayed: <https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/465#2555ea1ae1a862fe02eafa38b2d4795af59c2662>
[2023-06-13T14:13:43.764769] Khaled El-Sayed: Just pushed the change
[2023-06-13T14:19:23.654519] Jim Bair: looks good to me; fwiw our intent is to merge and tag tomorrow morning, but reviews today are welcomed :smile:
[2023-06-13T14:19:31.657509] Jim Bair: after the all hands is fine
[2023-06-13T14:22:51.253959] Ozan Unsal: approved :grinning:
[2023-06-13T14:24:13.655929] Michael Ho: Good catch, Ozan, on the hirte thing
[2023-06-13T14:24:16.203579] Michael Ho: How did you notice it?
[2023-06-13T14:26:04.219809] Jim Bair: Ozan is all seeing
[2023-06-13T14:26:18.035549] Jim Bair: Though Khaled knew about all 3 before y'all asked :slightly_smiling_face:
[2023-06-13T14:26:24.429739] Jim Bair: He brought it up while talking with Juanje
[2023-06-13T14:26:30.054269] Jim Bair: which is why we were late to the chatroom party
[2023-06-13T14:26:50.894059] Jim Bair: He noticed by listing both tags using `brew`  and diffing the output, fwiw
[2023-06-13T14:28:11.428259] Jim Bair: `brew list-tagged rhivos-0.13 | awk '{print $1}' &gt; before`
`brew list-tagged rhivos-0.14 | awk '{print $1}' &gt; after`
[2023-06-13T14:28:17.173019] Jim Bair: `diff before after`
[2023-06-13T14:28:24.533609] Jim Bair: is more or less how Khaled got there
[2023-06-13T14:34:17.494309] Steve Loranz: yes, we want hirte
[2023-06-13T14:34:18.742809] Ozan Unsal: I remembered that we added hirte recently, I want to be sure that this is also added to the release.
[2023-06-13T15:00:00.473559] Khaled El-Sayed: Compose has been pinned <https://issues.redhat.com/browse/RHELCMP-11820>
[2023-06-13T16:46:15.771059] Ryan Smith: FYSA there are two open MRs that will affect how CAT manifest generation runs tomorrow:
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/205>
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/208>

!205 should fix the empty version string in the manifest repo paths
!208 removes RHIVOS-unstable from the CAT manifest since it's not in use
[2023-06-13T16:46:29.205739] Ryan Smith: If anyone has a few minutes to review them
[2023-06-13T18:08:28.466659] Khaled El-Sayed: Is anyone around to take a look at <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/207>?
[2023-06-13T19:41:56.815909] Steve Loranz: revisiting the kernel conversation from earlier… kernel-headers is separate from kernel. So, we should be able to satisfy glibc-devel without kernel and just tag kernel-automotive and kernel-headers.
[2023-06-14T02:12:52.094839] Khaled El-Sayed: <https://issues.redhat.com/browse/RHELBLD-12932>

<@U04LP69FP6X> was asked to retag the version of git used in the rhel-9.3 compose (`git-2.39.3-1.el9` -&gt; `git-2.39.3-1_el9_2`). I just checked and the one tagged to our pinned compose for rhivos-0.14 is the former. Should we also retag it to the newer one?
[2023-06-14T12:03:33.235139] USLACKBOT: 
[2023-06-14T12:54:24.378609] Juanje Ojeda: Sorry, I missed this, I was coming back home.
I was thinking this morning about this possible issue. We should be sure that we tag the package from the RHEL compose we pinned, otherwise we'll end up having these issues.
And we should tag those packages instead of repinning, because we pinned a RHEL compose already tested in the nightly. If not we can end up adding packages from a RHEL compose we haven't tested yet.
[2023-06-14T12:54:59.770799] Juanje Ojeda: I mean, we'll test them in the release pipeline, but I think we should use the latest tested version and avoid test it on the release day.
[2023-06-14T13:14:54.090439] Juanje Ojeda: <@U03Q57JBXK4> told me that we're late for that, that we have already tagged the candidate and the 0.14 with the new packages.
The we should ask to pin the new RHEL compose, but we should trigger now the nightly, to be sure that those new tagged packages work.
[2023-06-14T14:04:48.645949] Jim Bair: Okay, it is 9AM and I am still without coffee
[2023-06-14T14:05:00.925329] Michael Ho: Can't you make coffee during the calls?
[2023-06-14T14:05:12.743929] Jim Bair: I am going to go solve that and then be back to see how we nudge this down the line
[2023-06-14T14:05:22.717819] Jim Bair: Eh it's difficult with 1.25 arms lol
[2023-06-14T14:05:35.780499] Jim Bair: we make french press at home; not a set-and-forget drip setup
[2023-06-14T14:05:54.232529] Jim Bair: I also argue that if you're distracted during a meeting you're not in the meeting
[2023-06-14T14:06:17.749279] Jim Bair: but I can do it with a laptop, but I usually carry the laptop while making coffee; can't in my current state lol
[2023-06-14T14:06:22.727849] Jim Bair: anywho, covfefe calls
[2023-06-14T14:06:25.168179] Jim Bair: brb
[2023-06-14T14:08:32.788719] Michael Ho: I'm sad there's no covfefe emoji on slack
[2023-06-14T14:09:44.809139] Ryan Smith: :covfefe:
[2023-06-14T14:09:46.118939] Ryan Smith: dang
[2023-06-14T14:28:52.253499] Jim Bair: Real missed opportunity that
[2023-06-14T14:29:37.027049] Jim Bair: <@U03Q57JBXK4> are you able to create the release tag to start the pipelines?
[2023-06-14T14:30:07.281809] Jim Bair: If not, I can fire it off but you'll want it for the next one :smile:
[2023-06-14T14:30:15.365469] Khaled El-Sayed: I will in a bit
[2023-06-14T14:30:27.975209] Khaled El-Sayed: But we’re reusing the latest compose
[2023-06-14T14:30:34.781509] Khaled El-Sayed: So I’m just making those changes
[2023-06-14T14:30:44.877339] Jim Bair: ah okay, roger that :slightly_smiling_face:
[2023-06-14T14:41:53.140859] Khaled El-Sayed: Just making sure, is it ok to trigger the release even before they respond to the ticket to pin the compose?
[2023-06-14T14:44:27.947799] Jim Bair: As long as it's pinned today it's fine
[2023-06-14T14:45:00.615389] Jim Bair: it won't be deleted for a few weeks worst case, but I wouldn't want to wait to pin
[2023-06-14T14:45:10.815539] Jim Bair: but if the ticket is open I wouldn't wait to tag the release
[2023-06-14T14:53:15.142489] Khaled El-Sayed: 2 new packages since yesterday's compose
```&gt; libpipeline-1.5.3-4.el9
177,178c180,181
&gt; man-db-2.9.3-7.el9
206c211```
[2023-06-14T14:53:27.092519] Khaled El-Sayed: Adding them to the list in the rhivos repo
[2023-06-14T14:53:39.634709] Jim Bair: <@U0171SJF00H> <@U04JRTQ4LHK> <@U04NNGY4QQ2> that sound right?
[2023-06-14T14:58:03.245889] Khaled El-Sayed: Also could I get some eyes on <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/210>?
[2023-06-14T14:59:58.571369] Jim Bair: approved by me; one to go :slightly_smiling_face:
[2023-06-14T15:05:57.803049] Juanje Ojeda: Approved
[2023-06-14T15:17:00.871149] Khaled El-Sayed: Same here <https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/466>
[2023-06-14T15:17:49.135999] Khaled El-Sayed: Don't know why it says I don't need approvals
[2023-06-14T15:20:19.226359] Jim Bair: it feels like that repo should also require +2
[2023-06-14T15:20:38.214219] Juanje Ojeda: Approved
[2023-06-14T15:20:38.530139] Khaled El-Sayed: I feel like it did yesterday but maybe I'm misremembering
[2023-06-14T15:20:47.017539] Jim Bair: nah it was open yesterday
[2023-06-14T15:20:50.971879] Juanje Ojeda: I think it's because the previous automation
[2023-06-14T15:20:52.701399] Jim Bair: I remember thinking it was weird
[2023-06-14T15:21:10.527929] Jim Bair: but yeah I think it lets you merge if the automation passes
[2023-06-14T15:21:13.676399] Juanje Ojeda: It needed to auto-merge the MRs created by the automation
[2023-06-14T15:21:23.782489] Jim Bair: good ol' CI/CD
[2023-06-14T15:22:17.674179] Juanje Ojeda: No, no, the automation == the make-lockfile, which was proposing the changes to the lockfile in a MR and then auto-merge if it passed the pipeline.
[2023-06-14T15:23:11.220129] Jim Bair: ahh'
[2023-06-14T15:23:22.354109] Jim Bair: so we should probably consider updating that
[2023-06-14T15:23:32.503159] Jim Bair: something else for your notes <@U03Q57JBXK4> :smile:
[2023-06-14T15:25:08.129349] Khaled El-Sayed: You mean the release notes?
[2023-06-14T15:25:15.826589] Jim Bair: Nah for us internally
[2023-06-14T15:25:24.401019] Jim Bair: just "lessons learned" for the team
[2023-06-14T15:25:26.001199] Khaled El-Sayed: Ah ok
[2023-06-14T15:25:28.046569] Khaled El-Sayed: Hahahaha
[2023-06-14T15:25:29.603589] Jim Bair: as the fresh outsider
[2023-06-14T15:25:32.406029] Jim Bair: :slightly_smiling_face:
[2023-06-14T15:25:47.263629] Khaled El-Sayed: One of many
[2023-06-14T15:26:00.655909] Khaled El-Sayed: lessons I mean
[2023-06-14T15:26:17.563559] Jim Bair: so once those both merge in, I believe we tag the release and watch automation
[2023-06-14T15:26:28.666249] Khaled El-Sayed: Yup
[2023-06-14T15:26:49.384829] Khaled El-Sayed: :salute_o7:
[2023-06-14T15:26:51.918349] Bot-B0TJQV7H: fingers crossed
[2023-06-14T15:53:18.292329] Ryan Smith: FYSA: The CAT manifest generation has a slight bug in it where the repo paths for debug (and maybe source RPMs) are missing a few children. I just confirmed with Andrew that they should point to the parent of the `repodata/` and `Packages/` directories. There's a bug fix here: <https://gitlab.cee.redhat.com/automotive/pipe-x/tacocat/-/merge_requests/10>
[2023-06-14T15:54:40.735519] Jim Bair: I just want to say I adore the project name
[2023-06-14T15:54:51.876669] Jim Bair: Literally impossible to forget or confuse it
[2023-06-14T16:05:04.175239] Ryan Smith: I appreciate :tacocat:
[2023-06-14T16:05:38.336009] Jim Bair: :cat_tap:
[2023-06-14T16:35:13.172199] Khaled El-Sayed: Uh oh <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/4329677>
[2023-06-14T16:35:50.218379] Khaled El-Sayed: It failed building a testing image
[2023-06-14T16:36:16.074759] Jim Bair: <http://artifacts.osci.redhat.com/testing-farm/b5519133-606a-4a6a-aa3a-b9acd6f66bfe/>
[2023-06-14T16:36:24.575789] Jim Bair: ```
An error occurred (InvalidAMIName.Duplicate) when calling the RegisterImage operation: AMI name auto-osbuild-qemu-rhel9-qa-ostree-x86_64-4329677.1afc79db is already in use by AMI ami-039060f3ce6336755
+ IMAGE_ID=
Shared connection to 10.31.15.86 closed.```

[2023-06-14T16:36:44.782829] Jim Bair: Ever seen that one <@U02F2L89YTS>?
[2023-06-14T16:38:08.591249] Jim Bair: <@U03Q57JBXK4> im inclined to retry just to see what happens
[2023-06-14T16:39:08.337959] Jim Bair: Meh I clicked it
[2023-06-14T16:39:09.549519] Jim Bair: let's see
[2023-06-14T16:39:22.740079] Jim Bair: I suspect the same failure will happen but let's see
[2023-06-14T17:06:09.431619] Juanje Ojeda: Hmmmm... that supposed to be fixed
[2023-06-14T17:07:26.502889] Juanje Ojeda: Re-try should work, but that error is the typical one we got before when we retied jobs :thinking_face:
[2023-06-14T17:35:18.070309] Khaled El-Sayed: Looks like it passed that job
[2023-06-14T18:14:52.731769] Khaled El-Sayed: Just created the <https://gitlab.cee.redhat.com/automotive/rhivos/-/tags/RHIVOS0.14|RHIVOS0.14 tag> and triggered the release :slightly_smiling_face:
[2023-06-14T20:48:05.142279] Khaled El-Sayed: Thank you all for your help on RHIVOS0.14! Hope you're ready for more of the same with ER3 :grin:
[2023-06-19T14:43:02.186129] Juanje Ojeda: I opened a conversation on the Checklist document about creating the release tag in brew: <https://docs.google.com/document/d/1fH8s7kzalC7db9NF97zIIAXC9LsS5-tSuo-tChNYY3s/edit?disco=AAAAzmpM9UQ>
It seems like only <@U04LP69FP6X> and <@U04AGQD0K8D> have permissions to do so. Could we get permissions for the team? Or at least, to one or two more ppl?
If they are not available for the release, we're blocked. We shouldn't depend on a specific person for something so critical for the release.
[2023-06-20T10:36:46.512959] Juanje Ojeda: <@U02DXVBD5CP> I saw this error in a pipeline for one of the MRs for the release. Does it sound familiar?
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/13262410>
[2023-06-20T10:37:58.049539] Kanitha Chim: It seems that pylero is not installed
[2023-06-20T10:42:59.255249] Juanje Ojeda: Also, this (and what happened yesterday with the pungi container, makes me think that we should start to pin our containers.
[2023-06-20T10:46:16.971829] Ozan Unsal: <@U02F2L89YTS> I have a question regarding to pinning the compose. I can see the compose in the latest nightly as `RHEL-9.3.0-20230619.35` . Should I ask to pin this one or wait for tomorrow and ask today's nightly?
[2023-06-20T12:45:16.582869] Jochen Breuer: set the channel topic: Release: ER3 / 21st of June
Coordinator : <@U03Q57JBXK4>
Assistant: <@U04NNGY4QQ2>

Internal channel for ATC release coordination. Release readiness with a wider audience can be coordinated in <#C04RHEEGY30|>!
[2023-06-20T14:06:25.618499] Kanitha Chim: <@U03Q57JBXK4> <@U04NNGY4QQ2> Maybe we need to change this <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/blob/main/.gitlab/config.yml#L66> to another API set?
[2023-06-20T14:06:57.689869] Kanitha Chim: (in a release config?)
[2023-06-20T16:00:30.662489] Ozan Unsal: By the way the packages are tagged under <https://brewweb.engineering.redhat.com/brew/taginfo?tagID=126386|rhivos-1.0-er3> release and I documented the steps that I follow thanks to <@U0171SJF00H> for guidance in <https://docs.google.com/document/d/1vnpqT1K4vvGvsKtciVOPOvObl4K0DaCzhSb9NYiyFhM/edit#heading=h.13pg37b3epa9|here>
[2023-06-20T17:39:45.306889] Ozan Unsal: Can I get review for this <https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/468|MR>? So it will be ready for tomorrow
[2023-06-21T06:29:20.800969] Ozan Unsal: RHEL Compose was successfully pinned. If I get one more approval for this <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/216|MR>, I will merge and trigger the release pipeline. In addition to <@U02DXVBD5CP> suggested to change the API set in <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/blob/main/.gitlab/config.yml#L66|here>, should I add this into release config file? If so does anyone know what should be the value?
[2023-06-21T10:20:45.355219] Ozan Unsal: Release pipeline was started <https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/4401606>
[2023-06-21T12:05:23.102799] Juanje Ojeda: Just one job (the selftest one) to go :slightly_smiling_face:
[2023-06-21T12:30:04.549619] Juanje Ojeda: The job is still running (that job take sooooo long...), but the dir with the release is looking good :ok_hand: :smile:
<https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/ER3/>
[2023-06-21T12:30:19.932499] Ozan Unsal: yup it is soo slow
[2023-06-21T12:41:30.172909] Michael Ho: Why is it so slow :thinking_meow: it's just meant to dry-run the download
[2023-06-21T12:41:50.667099] Ozan Unsal: now it is finished
[2023-06-21T12:48:10.645839] Juanje Ojeda: As the smoke-test for the QDrive3 wasn't integrated yet in the pipeline, I triggered the smoke-test manually.
Ozan added the manual step to the checklist and I triggered. Here is the pipeline:
<https://gitlab.cee.redhat.com/automotive/pipe-x/package-level-pipelines/-/pipelines/4403183>
[2023-06-21T12:50:34.956769] Ozan Unsal: so both <https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/ER3/|ER3> and <https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/ER3-rc1/|ER3-rc1> are ready, should I wait finishing of the QDrive pipeline to make the announcement?
[2023-06-21T12:51:15.074769] Juanje Ojeda: yes
[2023-06-21T12:54:14.527959] Ozan Unsal: okay the hardest part is over now I can chill :chillparrot:
[2023-06-21T12:57:25.988829] Ozan Unsal: <@U01NHRC0E4D> is TF slow due to dnf5 update as you mentioned?
[2023-06-21T14:12:51.378339] Juanje Ojeda: The smoke-test for the QDrive3 is taking a lot longer than expected.
It actually passed the tests, but the TF job got stock while releasing the board. That has nothing to do with the image or our code, it's an infra issue in their part. It seems like the worker got stuck or something.
Here is the report: <http://artifacts.osci.redhat.com/testing-farm/94bcb001-555f-4e43-80b4-3122204491a8/>
I wonder if we should check the step, as the test actually passed, as the logs show :thinking_face:
WDYT?
[2023-06-21T14:29:23.659619] Juanje Ojeda: Oh, the TF job was unblocked and now we have the green report :slightly_smiling_face:
<http://artifacts.osci.redhat.com/testing-farm/94bcb001-555f-4e43-80b4-3122204491a8/>
[2023-06-21T14:40:22.218699] Jochen Breuer: Thanks a lot everybody! :thankyou:
[2023-06-21T15:44:37.283059] Miloslav Trmač: <@U04NNGY4QQ2> nope, that has nothing to do with RH ranch
[2023-06-22T14:28:58.653319] Michael Ho: <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/13327955> The fix worked, in the future that job (self-test) should only take ~5 minutes to run.
[2023-06-23T12:45:42.425919] Jochen Breuer: Let's play Friday Hypothetical: how much outrage and rebellion would erupt if someone would ask for ER3.rc2 today? Asking for a friend.
From: Francisco da Rocha
Sender: Slack Conversation
<@U04NNGY4QQ2> <@U03Q57JBXK4> In case you haven’t noticed yet: <https://redhat-internal.slack.com/archives/C04RHEEGY30/p1687521623598999>
[2023-06-23T12:47:29.179189] Ozan Unsal: Thanks Jochen, I will reply to him. Actually it depends what he wants to update.
[2023-06-23T12:56:05.045779] Ozan Unsal: I am not sure whether we should update the kernel? Since, Juanje may repeat the tests again but wdyt?
[2023-06-23T12:59:17.005759] Ozan Unsal: Rachel answered him for the QE and let's see what will happen.
[2023-06-23T13:13:21.843529] Ozan Unsal: it seems we don't need to do anything :grin: it is resolved :catjam:
[2023-07-10T08:12:12.432539] Ozan Unsal: <!here> is RHIVOS nightly builds stable again? I guess we should have new release in 2 days according to <https://docs.engineering.redhat.com/pages/viewpage.action?spaceKey=Automotive&amp;title=RHIVOS+Release+Coordinator+and+Assistant>.
[2023-07-10T08:13:03.228809] Kanitha Chim: It seems that nightly failed
[2023-07-10T08:14:21.923779] Ozan Unsal: so in this case, are we going to make a release or not?
[2023-07-10T08:16:13.389319] Kanitha Chim: I guess we will have to see if we can fix by the release date
[2023-07-10T09:35:58.043229] Michael Ho: <https://dashboard.auto-toolchain.redhat.com/overview>
[2023-07-10T09:36:02.248159] Michael Ho: The last 5 RHIVOS nightlies were fine
[2023-07-10T09:36:09.270309] Michael Ho: The AutoSD nightly is having infra issues
[2023-07-10T09:37:50.018399] Ozan Unsal: so it seems we can do the release
[2023-07-10T09:39:38.338769] Michael Ho: :+1:
[2023-07-10T11:12:34.619309] Ozan Unsal: set the channel topic: Release: RHIVOS0.15 / 12th of July
Coordinator : <@U04NNGY4QQ2>
Assistant: <@U04HK2W8NGL>

Internal channel for ATC release coordination. Release readiness with a wider audience can be coordinated in <#C04RHEEGY30|>!
[2023-07-10T13:39:57.360749] Jim Bair: If either of you have any questions. ask here and we'll be happy to help :slightly_smiling_face:
[2023-07-10T13:55:42.697939] Marcin Sobczyk: <@U04LP69FP6X> hi, I just tried creating a brew tag, but I don't think I have permissions to do that, could you please create a `rhivos-0.15` for the release process?
[2023-07-10T14:06:36.689989] Sameera Kalgudi: Hi <@U04HK2W8NGL>, Sure will create it.
[2023-07-10T14:09:17.493699] Marcin Sobczyk: thank you!
[2023-07-10T14:11:13.659869] Sameera Kalgudi: ```$ brew add-tag rhivos-0.15
$ brew taginfo rhivos-0.15
Tag: rhivos-0.15 [127248]
Arches: 
Groups: 
Maven support?: no
Include all Maven archives?: no
Tag options:
Inheritance:```
rhivos-0.15 tag has been created.
[2023-07-10T14:14:32.125989] Sameera Kalgudi: Just an update, brew permissions has been granted to <@U04NNGY4QQ2> <@U04AXB4GK52> and <@U04NHTDFS6P> as a backup when I'm not available. Please let me know if you guys have any issues.  <https://issues.redhat.com/browse/RHELBLD-13145>
[2023-07-10T14:16:18.209759] Ozan Unsal: Thank you Sameera for the update :+1: 
[2023-07-11T08:03:56.980679] Ozan Unsal: Hi <@U04JRTQ4LHK> when I check the <https://dashboard.auto-toolchain.redhat.com/overview|dashboard>, it says nightly builds fail. But when I check the <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines?source=schedule|pipeline> it seems it is ok. Do you know is there an error?
[2023-07-11T08:26:47.416139] Michael Ho: <@U04NNGY4QQ2> The nightly for last night didn't run
[2023-07-11T08:26:54.824099] Michael Ho: Latest scheduled pipeline was from: `Started: 2023-07-10T02:30:37Z`
[2023-07-11T08:28:16.980409] Michael Ho: Not sure what happened. I'll just manually kick the scheduled pipeline.
[2023-07-11T08:28:27.308549] Ozan Unsal: thank you Michael for the update
[2023-07-11T08:29:22.913499] Michael Ho: The scheduled pipeline won't run. I guess a recent MR broke the gitlab-ci yaml
[2023-07-11T08:30:42.919289] Ozan Unsal: ohhh I see this error
```Unable to create pipeline
!reference [".run_on_lockfile_tag"] could not be found```

[2023-07-11T08:30:59.215519] Michael Ho: Right, we need to probably merge Ryan's MRs...
[2023-07-11T08:31:00.912939] Michael Ho: i.e. <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/230>
[2023-07-11T08:31:56.090079] Ozan Unsal: yup, this rule was updated in the MR so let's merge it
[2023-07-11T08:32:46.906669] Michael Ho: I clicked Merge
[2023-07-11T08:49:15.649359] Michael Ho: scheduled pipeline running, lets see
[2023-07-11T10:47:51.667089] Ryan Smith: There's !229 as well that's less urgent but should still go as well
[2023-07-11T10:48:39.165539] Ryan Smith: I didn't have enough approvals when I logged off yesterday so they were just sort of hanging out, thanks for merging
[2023-07-11T10:49:12.483169] Ozan Unsal: !229 is already merged :grinning:
[2023-07-11T10:52:42.296409] Michael Ho: It was weird, I clicked to merge !230 and it auto-merged !229 despite not having enough reviews...
[2023-07-11T10:53:02.216129] Michael Ho: But que sera, sera
[2023-07-11T10:53:12.507409] Ryan Smith: O_o
[2023-07-11T10:53:37.793569] Michael Ho: I said, que sera, sera :meow_fingerguns:
[2023-07-11T10:53:43.673499] Juanje Ojeda: Michael has secret powers...
[2023-07-11T10:53:56.953349] Ryan Smith: :meow_fingerguns:
[2023-07-11T10:55:44.997399] Ozan Unsal: double merge :hackerman:
[2023-07-11T16:01:42.309439] Ozan Unsal: In this <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/4608670|pipeline>, `selftest-profuct-build` failed, due to not finding the `non-sample-images` . Did we stop building the non-sample-images? I also couldn't see in the pipeline.
[2023-07-11T16:09:35.070809] Michael Ho: The config for releases need adjusting to remove that in the selftest
[2023-07-11T16:09:49.210949] Michael Ho: (I believe the prior releases adapted that self-test)
[2023-07-11T16:10:04.937089] Michael Ho: (this would be helpfully resolved by Juanje's proposal today which was to stop building non-sample-images downstream)
[2023-07-11T16:20:03.916379] Ozan Unsal: But it was failing in the <https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/469#395f87cff0c5fcc27f55feee32b68dc36c6a240c|MR> of rhivos.git. My assumption is that we need to merge this MR and then we have to merge the <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/232|release config MR>
[2023-07-11T16:41:11.782619] Juanje Ojeda: Why that pipeline didn't build the non-sample-images? Where that pipeline come from?
[2023-07-11T16:44:09.705329] Ryan Smith: was the release config copied from main or from 0.14?
[2023-07-11T16:44:43.183949] Juanje Ojeda: I think the problem is this:
```  rules:
    - if: $DISABLE_BUILD_NON_SAMPLE_IMAGES == "true"
      when: never
    - !reference [.run_on_merge_request]
    - !reference [.run_on_merge_to_compose_config]
    - !reference [.run_on_schedule]```

[2023-07-11T16:44:59.937339] Juanje Ojeda: The rules for that job
[2023-07-11T16:45:27.321399] Juanje Ojeda: On, no, it has the merge_request :thinking_face:
[2023-07-11T16:47:20.508509] Juanje Ojeda: It should work fine on a MR. And the pipeline seems to be from an MR, right?
[2023-07-11T16:48:34.350519] Ozan Unsal: It was copied from main <@U04AXB4GK52> 
[2023-07-11T16:52:11.195059] Ryan Smith: <@U02F2L89YTS> here's the (recently updated) run_on_merge_request rule:
```.run_on_merge_request:
    - if: '$CI_PIPELINE_SOURCE == "merge_request_event"'
      variables:
        S3_BUCKET_RELEASES: "${S3_BUCKET_STAGING}"
        S3_BUCKET_RELEASES_ARCHIVE: "${S3_BUCKET_RELEASES_ARCHIVE_STAGING}"
    - if: '$CI_PIPELINE_SOURCE == "pipeline" &amp;&amp; $UPSTREAM_PIPELINE_SOURCE == "merge_request_event"'```
[2023-07-11T16:52:34.021679] Ryan Smith: This pipeline should have matched rule 2 there, is there some reason it wouldn't have?
[2023-07-11T16:57:20.465899] Ryan Smith: &gt; It was copied from main 
The reason I ask is because of the presence of `YUM_REPO_URLS`, which were recently removed from `config.yml` since they're no longer used
[2023-07-11T16:59:03.799349] Ryan Smith: Also <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/4609493|this> seems to be the most recent pipeline for the 0.15 config <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/232|MR> and things there seem fine
[2023-07-11T16:59:37.374179] Ryan Smith: Ahhhhh but the pipeline from the MR on rhivos.git is not fine
[2023-07-11T17:00:10.263129] Ozan Unsal: Yup that makes me also confused :confused: 
[2023-07-11T17:10:35.942129] Ryan Smith: I think I've lost it, what's the issue?
[2023-07-11T17:10:56.758969] Ryan Smith: non-sample images haven't run for at least the last 3 releases:
0.12: <https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/3734457>
0.13: <https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/4017133>
0.14: <https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/4317134>
[2023-07-11T17:14:24.045089] Ryan Smith: But then again neither did self-test-product-build so maybe a rule changed there
[2023-07-11T17:15:50.625979] Juanje Ojeda: The trigger in the rhivos.git repo....
```# First fulfilled "if" catches
trigger-pipeline:
  rules:
    # Run pipeline skipping non-sample-images if changes occur to lockfile only
    #(using DISABLE flag configured at p-a-c)
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
      variables:
        DISABLE_BUILD_NON_SAMPLE_IMAGES: "true"
        PUNGI_COFIG_REPO: $CI_REPOSITORY_URL
        PUNGI_CONFIG_REPO_REF: $CI_COMMIT_REF_NAME
    # Disable pipeline's run otherwise```

[2023-07-11T17:15:59.420019] Juanje Ojeda: It disable the non-sample-images
[2023-07-11T17:16:04.503949] Juanje Ojeda: <https://gitlab.cee.redhat.com/automotive/rhivos/-/blob/main/.gitlab-ci.yml>
[2023-07-11T17:17:40.349979] Juanje Ojeda: I think we should just disable the non-sample-images for the whole downstream and be happy :stuck_out_tongue:
[2023-07-11T17:18:37.959929] Ryan Smith: Fair :wink:
[2023-07-11T17:18:53.550339] Ryan Smith: But also: this explains it. of course it was the most obvious thing lol
[2023-07-11T17:19:03.712839] Juanje Ojeda: yeah
[2023-07-11T17:19:09.693329] Ryan Smith: Is selftest-product-build failing the problem we're solving?
[2023-07-11T17:19:15.206269] Juanje Ojeda: yep
[2023-07-11T17:19:31.770259] Ryan Smith: sorry edited, dk if that changes your answer
[2023-07-11T17:19:35.918409] Juanje Ojeda: At least, I thought so :sweat_smile:
[2023-07-11T17:19:55.017599] Ryan Smith: Something seems to have changed there, because it didnt run in the past for these pipelines
[2023-07-11T17:20:18.879529] Juanje Ojeda: I think that error (caused for that variable in the trigger) was stopping one of the MRs for the release
[2023-07-11T17:20:55.421239] Ryan Smith: The rule updates did it
[2023-07-11T17:21:22.582829] Ryan Smith: I wondered why we had both `run_on_merge_request` and then an almost duplicate called `.run_on_merge_request_pac`
[2023-07-11T17:21:25.804119] Juanje Ojeda: I think that job was only running on releases, and <@U04JRTQ4LHK> (i think) changed it, so it run for every pipeline
[2023-07-11T17:22:06.993879] Ryan Smith: I think it's because I combined the various `.run_on_merge_request` rules. now its set to run on MRs to p-a-c or and upstream project
[2023-07-11T17:22:59.160549] Ryan Smith: But rather than adding another rule that's some permutation of `.run_on_merge_request`, I think it should add `- if: DISABLE_BUILD_NON_SAMPLE_IMAGES == "true"` if it depends on that job
[2023-07-11T17:23:44.871379] Ryan Smith: Tbh it may have been a bug in the past to not have this run on MRs to upstream projects
[2023-07-11T17:26:27.288659] Juanje Ojeda: <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/233>
[2023-07-11T17:27:00.248119] Juanje Ojeda: I think we should disable the non-sample and avoid all this troubles. Mostly for the releases. It's a big pain.
[2023-07-11T17:27:16.166129] Juanje Ojeda: And nobody use them downstream
[2023-07-11T17:27:34.191879] Juanje Ojeda: Probably upstream just one or two
[2023-07-11T17:30:27.238919] Ryan Smith: Im okay with this, as long as we circle back and clean up after socializing it to the program
[2023-07-11T17:37:59.139709] Ozan Unsal: But we need to fix this until tomorrow otherwise we can’t make the release
[2023-07-11T17:38:37.549699] Juanje Ojeda: I've just send an email to devel
[2023-07-11T17:39:30.433469] Juanje Ojeda: This should fix the issue.
Another way is to remove that variable for the trigger
[2023-07-11T17:40:56.710849] Juanje Ojeda: Maybe I was a bit blunt in the email :thinking_face:
I'm just really think nobody has ever use those images and we've been waiting time, resources and suffer during the release for no good reason...
[2023-07-11T17:41:19.259319] Juanje Ojeda: tbh, I don't even think tell in the list was necessary
[2023-07-11T17:47:19.992889] Ryan Smith: We could have gone with the scream test on this, but the email doesn't hurt at all
[2023-07-11T17:47:54.743739] Ryan Smith: Give folks a week to respond, and when no one does we can drop em (only downstream?). In the meantime !233 should help with this release
[2023-07-11T20:02:55.432189] Marcin Sobczyk: <@U02F2L89YTS> I can see you just merged 233, is it safe for me to rebase and retrigger my pipelines?
[2023-07-11T21:05:50.038089] Ryan Smith: So far the pipeline looks good, assuming it's green you should be able to do that
[2023-07-12T10:09:31.835739] Juanje Ojeda: <@U04HK2W8NGL> sorry, yes
[2023-07-12T10:32:18.926189] Juanje Ojeda: <@U04HK2W8NGL> BTW, how's the release going? Is there anything else missing? Do you need reviews or help with anything?
[2023-07-12T10:33:49.156709] Marcin Sobczyk: I'm waiting on <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/4617959> to finish
[2023-07-12T10:34:02.760129] Marcin Sobczyk: that's the pipeline for the new tag
[2023-07-12T11:51:38.539519] Juanje Ojeda: Is it just me of that me or that pipeline is incomplete?
It seems to be missing the final jobs for promoting the release artifacts :thinking_face:
<@U04AXB4GK52> maybe some of the changes in the rules?
[2023-07-12T11:52:41.837859] Juanje Ojeda: Compare that pipeline with the one from the previous release:
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/4401607>
[2023-07-12T11:53:03.219989] Juanje Ojeda: The current one is missing the whole deploy stage :confused:
[2023-07-12T11:56:59.075669] Ozan Unsal: yes there is no deploy stage :face_with_diagonal_mouth:
[2023-07-12T12:05:47.922139] Juanje Ojeda: <@U04HK2W8NGL> qq, did you create the TAG via Gitlab UI or with git locally and pushing it?
[2023-07-12T12:07:41.401319] Juanje Ojeda: It should matter, but just to check differences with previous releases.
I see the rules for the deploy jobs (`.run_on_release_tag`) and it seems fine and it doesn't seems changed. Just the var for the repo tagged (lockfile -&gt; pungi_config)
[2023-07-12T12:10:39.739499] Juanje Ojeda: Ok, I know what the problem is. The rule is wrong. We need to compare with the pungi-config project, not repo. The project is the namespace and the repo is the full URL.
[2023-07-12T12:11:19.598099] Juanje Ojeda: I'll create a MR to fix that.
<@U04HK2W8NGL> you'll need to remove the tag, so, after we merge this new MR, you can create the tag again.
[2023-07-12T12:15:56.945459] Ryan Smith: I see now, yes good catch
[2023-07-12T12:18:58.204569] Juanje Ojeda: GitLab CI pipelines
Title: Fix: release rule needs to use the project name (!216) · Merge requests · Red Hat / Edge / ci-cd / Pipe X / pipelines-as-code · GitLab
First MR: <https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/216>
[2023-07-12T12:19:10.937859] Juanje Ojeda: We need one upstream and another downstream
[2023-07-12T12:21:34.719859] Juanje Ojeda: The second one. This one needs the other to actually works. It should pass fine, but we need to the other to work while tagging:
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/236>
[2023-07-12T12:22:10.781139] Marcin Sobczyk: <@U02F2L89YTS> I've created the tag locally and pushed it
[2023-07-12T12:23:39.218409] Juanje Ojeda: We normally create the tag in the UI. I don't think it would matter much, but it was to check differences.
[2023-07-12T12:27:28.575239] Juanje Ojeda: <@U04HK2W8NGL> please remove the tag (you can do it easily in the UI).
I set both MRs to auto-merge when they finish. We'll need to wait until both merge and sync the mirror downstream, to be sure the mirror has that last change.
Then you'll be able to tag it again.
[2023-07-12T12:29:40.416879] Marcin Sobczyk: done
[2023-07-12T13:11:39.531189] Juanje Ojeda: GitLab CI pipelines
Title: build-sample-images: [aarch64, minimal, rpi4, yes, 3900000000, regular, img] (#4639796342) · Jobs · Red Hat / Edge / ci-cd / Pipe X / pipelines-as-code · GitLab
There is a TF error in the pipeline upstream, in some jobs :confused:
<https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/jobs/4639796342>
I'll re-try those jobs, but I pinned also TF in case it keep failing
[2023-07-12T13:54:29.420989] Hubert Stefanski: Where can If ind the current process for the release? should it be on Confluence?
[2023-07-12T14:11:52.805779] Juanje Ojeda: <@U04HK2W8NGL> the two MRs have been merged and the downstream mirror is in sync, so you can create the tag again.
[2023-07-12T14:17:07.197149] Marcin Sobczyk: <@U02F2L89YTS> can I use my local git or should I use UI?
[2023-07-12T14:19:34.849119] Ryan Smith: Should be the same result, but I think historically folks have used the UI to create a new tag
[2023-07-12T14:20:49.471919] Marcin Sobczyk: done:
<https://gitlab.cee.redhat.com/automotive/rhivos/-/tags>
<https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/4620443>
[2023-07-12T14:20:59.831389] Marcin Sobczyk: bb in ~1h need to pick up my kid
[2023-07-12T14:32:55.188489] Ozan Unsal: fusa-certification-assembly was failed in this time <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/13790903>
[2023-07-12T15:27:45.531709] Marcin Sobczyk: are we good now with the pipelines status?
[2023-07-12T17:23:05.945079] Juanje Ojeda: So, the pipeline was a bit stuck. There were a few pipelines running with a lot of jobs and it seems like some of our jobs were waiting in the queue.
I canceled some non-critical pipelines and it seems now it's moving. Including the re-try for the `environment_information` jobs.
Those jobs should work now, I revert the change on the remote repository, so it should work as before.
Let's see if now if finish
[2023-07-12T17:52:45.927439] Juanje Ojeda: The smoke-test for the QDrive3 seems to be taking too much time :confused:
I'm worry that it could make the pipeline time out...
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/13790938>
[2023-07-12T17:54:28.590289] Jim Bair: well the environment jobs ran at least :slightly_smiling_face:
[2023-07-12T17:54:32.502439] Jim Bair: one problem at a time!
[2023-07-12T17:55:35.587949] Juanje Ojeda: Yeah, but I saw that already passed, so I was on the next problem hehe
[2023-07-12T18:13:35.271489] Juanje Ojeda: It must happened something with the board... :confused:
It should be fairy quick test and it's been running 196 mins...
Not sure if cancel the job and re-try would make things better or worst :thinking_face:
It won't cancel the job in Testing Farm, but maybe we're lucky and it tries in another board and it passes... :thinking_face:
[2023-07-12T18:13:48.876049] Juanje Ojeda: Any opinion on that?
[2023-07-12T18:13:57.196969] Jim Bair: do we know the timeout of the job?
[2023-07-12T18:14:27.076419] Juanje Ojeda: The whole pipeline 4 hours
[2023-07-12T18:14:38.979049] Juanje Ojeda: In gitlab, TF has another timeout. Longer
[2023-07-12T18:15:17.262419] Juanje Ojeda: The pipeline was running quite some time before this job started, so I guess it has 1 hour more, maybe?
[2023-07-12T18:15:46.540909] Jim Bair: If it should take only a few minutes but we're at 3 hours, I would vote to restart it and see if it kicks it into gear
[2023-07-12T18:16:05.580029] Jim Bair: If the following one takes 3+ hours well we have other problems IMO
[2023-07-12T18:16:20.821069] Jim Bair: cancelling a job should kill it instantly but I dunno how they are handling that type of request or failure
[2023-07-12T18:16:45.161219] Jim Bair: This makes me miss the old days of ServerBeach with RapidReboot, where we could remotely power cycle systems from the portal for when hardware went screwy :stuck_out_tongue:
[2023-07-12T18:17:03.703609] Juanje Ojeda: Restarting. I hope this time find a board that is working fine. That part of the infra is still very unstable :confused:
[2023-07-12T18:19:06.761939] Ozan Unsal: If it passes only deployment part is left, hope it passes soon :grin:
[2023-07-12T18:21:12.663149] Jim Bair: It sure would be nice if we could watch the console in realtime in testing farm somehow
[2023-07-12T18:21:22.101729] Jim Bair: I requested this years ago in OSCI - still waiting :slightly_smiling_face:
[2023-07-12T18:21:55.618799] Juanje Ojeda: This is the closest we have: <http://artifacts.osci.redhat.com/testing-farm/7d58ed54-98cb-449b-a3f8-f8fb4110a681/>
[2023-07-12T18:22:06.334379] Juanje Ojeda: That's the log for the job
[2023-07-12T18:29:58.093669] Jim Bair: [32m[18:16:49] [+] [worker_1] [artemis] [d99abae3-a2c3-47e7-a066-4c19ca46c372] Guest is being provisioned[0m
[32m[18:16:49] [+] [worker_1] [artemis] [d99abae3-a2c3-47e7-a066-4c19ca46c372] guest event log: <http://artifacts.osci.redhat.com/testing-farm/7d58ed54-98cb-449b-a3f8-f8fb4110a681/d99abae3-a2c3-47e7-a066-4c19ca46c372-artemis-guest-log.yaml>[0m
[32m[18:16:49] [+] [worker_0] [artemis] [605932f8-5b3b-497f-95b8-a9ee38c398f3] Guest is being provisioned[0m
[32m[18:16:49] [+] [worker_0] [artemis] [605932f8-5b3b-497f-95b8-a9ee38c398f3] guest event log: <http://artifacts.osci.redhat.com/testing-farm/7d58ed54-98cb-449b-a3f8-f8fb4110a681/605932f8-5b3b-497f-95b8-a9ee38c398f3-artemis-guest-log.yaml>[0m
[2023-07-12T18:30:04.994899] Jim Bair: Both of those URLs are 404'd for me
[2023-07-12T18:30:15.209349] Jim Bair: though it has shell code munged in with the output
[2023-07-12T18:36:45.109479] Juanje Ojeda: Yeah, that's normal. I think those files are not created yet. They are created later and are available, but not yet. It's kind of realtime, but not really
[2023-07-12T18:42:24.889559] Jim Bair: yeah; I should be able to see the console like VNC on a VM (somehow) for stuff like this
[2023-07-12T18:42:45.460699] Jim Bair: Or at least the realtime output of the terminal/shell/script as it runs; something like that
[2023-07-12T18:42:56.978539] Jim Bair: Like grabbing a tmux session and watching it run
[2023-07-12T18:43:42.704089] Jim Bair: How many minutes does it normally take? Like 25 or 45?
[2023-07-12T19:07:19.609609] Jim Bair: well we're at 50 minutes which makes me think we may have a problem with the board
[2023-07-12T19:07:35.746719] Jim Bair: <@U04NLT3HY3Y> not sure if you are around and can take a look?
[2023-07-12T19:12:31.015979] Juanje Ojeda: Yep. I'd say that something is not right :confused:
[2023-07-12T19:22:52.517849] Jochen Breuer: Can somebody please send a message to <#C04RHEEGY30|> if the release won’t happen today!? Thanks!
And please keep in mind that this is an internal release. So no reason to stay late. Let’s just update folks, so that it’s not a surprise.
[2023-07-12T19:26:12.173519] Jim Bair: I'll ping the channel
[2023-07-12T19:45:30.380669] Simon Walter: <@U04JV0JBEFM>, looking...
[2023-07-12T19:45:41.296939] Jim Bair: Thanks!
[2023-07-12T20:06:16.622109] Simon Walter: Oh, it's qdrive3-direct?
[2023-07-12T20:11:40.660689] Simon Walter: As it is semi-manual/semi-blind, let me know when you're going to run tests on qdrive3 pool. Looking at it now, the service was trying to provision the devices over and over. I'm going to restart the service and reset the boards. They are probably hung.
[2023-07-12T20:14:41.861629] Simon Walter: OK, I see some progress now.
[2023-07-12T20:24:06.563609] Jim Bair: interesting; well we have releases on a semi-regular basis
[2023-07-12T20:24:22.784399] Jim Bair: for now, we can add pinging you about the board into the checklist. How soon before the test runs should we ping you (or the team)?
[2023-07-12T20:24:40.427969] Simon Walter: Yes, I know it's today, but I thought we were done testing on Qdrive3.
[2023-07-12T20:25:10.088469] Jim Bair: Not that I know of; I recall we stopped doing it manually by pinging an engineer (I forget who) as we were able to do so automatically now
[2023-07-12T20:25:36.795679] Jim Bair: but that was the only change around qdrive3 that I recall. But I could have missed a memo
[2023-07-12T20:27:18.211349] Jim Bair: I wonder what's causing the boards to hang up. I assume either the boards are faulty or we're doing something funny in our tests that leave it in a bad state
[2023-07-12T20:27:46.115159] Simon Walter: the boards are flakely and sometimes need to be reset. I would like to automate it, but I get resistance and am told that I should baby sit them.
[2023-07-12T20:28:10.236189] Jim Bair: Is there a way to programmatically reset them? even if using like an APC power switch or something?
[2023-07-12T20:28:13.465529] Simon Walter: it could be both. I heard other testers experience it sometimes.
[2023-07-12T20:29:10.588449] Simon Walter: Yes, there is, but I get resistance when I ask to implement that. Not sure why.
[2023-07-12T20:30:04.182239] Jim Bair: That feels contrary (to me, anyway) to the goal of testing farm, unless we're planning to stop testing against the qdrive in the near (weeks) future
[2023-07-12T20:30:20.677669] Simon Walter: There is a command to reset both SOCs that fixes them - gets them running again. So there needs to me some semaphore mechanism otherwise it would terminate a running test on the other SOC.
[2023-07-12T20:30:27.948589] Jim Bair: Thanks for punching it into submission for us all the same today
[2023-07-12T20:31:20.792089] Simon Walter: at testing farm, there is no resistance to the idea. The team there barely know what's going on with the devices.
[2023-07-12T20:34:18.045109] Jim Bair: As I understand it, we ask testing farm for the test; I assume if the hardware gets stuck, the reset should be on the testing farm side
[2023-07-12T20:34:25.636509] Jim Bair: Regardless of who writes the code
[2023-07-12T20:34:37.927659] Jim Bair: but if not, can we document the steps to reset it if we can't get this fixed upstream?
[2023-07-12T20:36:22.736589] Simon Walter: It's not upstream. It's in the automotive gitlab group <https://gitlab.cee.redhat.com/automotive/testing-farm/provisioner>
[2023-07-12T20:37:10.869059] Jim Bair: so can we reset it ourselves via the provisioner&gt;?
[2023-07-12T20:37:13.466219] Simon Walter: But, there should be no tests running when the boards are reset. So it's actually easier for code to do.
[2023-07-12T20:37:58.628339] Jim Bair: Apologies for my lack of familiarity with the separation of duties, but in general, the abstraction layer confuses me more than it helps.
[2023-07-12T20:38:00.545289] Simon Walter: that's where the code should be added.
[2023-07-12T20:38:14.166909] Jim Bair: Just trying to find a sustainable way to fix the problem that doesn't involve engineers babysitting tests
[2023-07-12T20:38:53.498409] Jim Bair: I wonder if we can create a JIRA with the steps to at least log the work even if we can prioritize it today?
[2023-07-12T20:38:57.598449] Jim Bair: so we capture what we know
[2023-07-12T20:39:10.406129] Simon Walter: I have to ssh into the sidekicks, inspect the serial console, determine if they hung, then check there are no tests on the other SOC, then execute a command on the sidekick to reset the power.
[2023-07-12T20:40:12.092919] Simon Walter: It should written in the code, but when you have team of people to work with, you have to bring everyone with you - if you know what I mean.
[2023-07-12T20:41:36.042569] Jim Bair: all too well :slightly_smiling_face:
[2023-07-12T20:41:42.625869] Jim Bair: result: failed. Darn it.
[2023-07-12T20:42:12.009389] Simon Walter: <http://artifacts.osci.redhat.com/testing-farm/7d58ed54-98cb-449b-a3f8-f8fb4110a681/>
[2023-07-12T20:42:22.820129] Simon Walter: so it finished hehe yeah
[2023-07-12T20:42:46.635019] Jim Bair: "I've got good news and bad news"
[2023-07-12T20:42:47.404969] Jim Bair: lol
[2023-07-12T20:42:58.653389] Simon Walter: exactly
[2023-07-12T20:43:25.952979] Jim Bair: I'm curious if it'll re-run successfully if I try? I expect another failure, but I always like two runs just to be sure.
[2023-07-12T20:43:34.605839] Jim Bair: But since we know the hardware was grumpy, I figure I can ask now :slightly_smiling_face:
[2023-07-12T20:44:12.008729] Simon Walter: run it again! let's see
[2023-07-12T20:44:15.109929] Jim Bair: roger that
[2023-07-12T20:44:41.987919] Jim Bair: Oh nevermind, it's allowed to fail. Well that's neat. lol
[2023-07-12T20:44:59.965119] Jim Bair: Let me see if I can find some useful logs here...
[2023-07-12T20:48:49.170269] Jim Bair: <http://artifacts.osci.redhat.com/testing-farm/7d58ed54-98cb-449b-a3f8-f8fb4110a681/work-testsb4iqdtm4/plans/tests/execute/data/guest/default-0/smoke/tests/boot/systemd_running-1/output.txt|http://artifacts.osci.redhat.com/testing-farm/7d58ed54-98cb-449b-a3f8-f8fb4110a681/work-[…]/default-0/smoke/tests/boot/systemd_running-1/output.txt>
[2023-07-12T20:48:58.051969] Jim Bair: ```● aquantia-mac-generator.service loaded failed failed Create network unit file for 10GB Aquantia NIC```

[2023-07-12T20:49:12.529859] Jim Bair: never seen that before. Interesting none the less.
[2023-07-12T20:49:39.579689] Jim Bair: <http://artifacts.osci.redhat.com/testing-farm/7d58ed54-98cb-449b-a3f8-f8fb4110a681/>
[2023-07-12T20:49:46.264339] Jim Bair: Prettier in that page I suppose
[2023-07-12T20:50:01.251159] Simon Walter: This new service is needed to make the sip2 have networking.
Title: target qdrive3: added stmmac package and service to fix MAC issues (!335) · Merge requests · CentOS / automotive / sample-images · GitLab
that is a Qdrive3 nic. there is a service that was added <https://gitlab.com/CentOS/automotive/sample-images/-/merge_requests/335>
[2023-07-12T20:50:28.914559] Simon Walter: sry, older MR
[2023-07-12T20:50:35.899199] Simon Walter: but still you can see the line
[2023-07-12T20:50:43.724959] Simon Walter: aquantia-mac-generator.service
[2023-07-12T20:50:44.138649] Jim Bair: <https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS0.15/>
[2023-07-12T20:51:02.298529] Jim Bair: looks like the pipeline succeeded
[2023-07-12T20:51:17.095789] Simon Walter: cool!
[2023-07-12T20:51:43.806479] Simon Walter: so that failure was not a blocker? gating?
[2023-07-12T20:52:31.532079] Jim Bair: Apparently not, though I'll wait for the team to review tomorrow morning EMEA time
[2023-07-12T20:52:49.126829] Jim Bair: I appreciate your help in getting it to run so we can know where things are sooner rather than later
[2023-07-12T20:53:47.168899] Simon Walter: I still see some requests queued, but '722bb78d-d6af-4a8c-bcff-5de81fe8563e' is  in error state.
[2023-07-12T20:53:51.756569] Jim Bair: A failure from a run is better than a failure to run at all
[2023-07-12T20:54:05.196999] Jim Bair: I know there was the 1st attempt to run that never ran; it could be that
[2023-07-12T20:54:43.011759] Simon Walter: ok, but it looks like it wasn't from ATC.
[2023-07-12T20:55:51.659769] Jim Bair: Oh well that's interesting. But I guess that's the whole purpose of the shared hardware; everyone can give it a poke :wink:
[2023-07-12T21:00:06.779319] Simon Walter: Right now CKI is also trying it out. I would like more stability before we slam the devices with never ending tests. It shouldn't be a problem. It's "automotive grade" hardware ;)
[2023-07-13T08:28:01.773079] Michael Ho: This aquantia-mac-generator.service failure was an issue with the nightly builds now for weeks. <@U02F2L89YTS> had more info from Stephen Bertram on that claiming it's a hardware issue and recommended we make the test "non-blocking" for the nightly. But we never dug too deeply into it to confirm that..
[2023-07-13T09:15:45.714979] Juanje Ojeda: &gt;  so that failure was not a blocker? gating?
Well, actually it is. As <@U04JRTQ4LHK> commented, we set it as `allow_failure`, so it wouldn't block the nightly, but it should pass as requisite for the release.
I mean, this is a error we have seen before and we're pretty sure it's a HW issue in some of the boards, and the image boots and can work, so it's kinda ok for the internal release, but ideally, the job should pass.
[2023-07-13T09:16:15.437389] Michael Ho: Have we ever seen it pass on any board though?
[2023-07-13T09:16:24.211179] Juanje Ojeda: yes
[2023-07-13T09:17:09.938119] Juanje Ojeda: We actually tested and we couldn't reproduce in one board, but we could in another
[2023-07-13T09:17:20.990599] Juanje Ojeda: Manually
[2023-07-13T09:22:03.905969] Juanje Ojeda: BTW, checking now a qe channel for testing the ER3 release, it seems like they were yesterday doing testing on the QDrive3 boards and reserving some to do troubleshooting. Probably that's why Simon found some other job stuck there and why it was hard for out job to find a board to provision :confused:
[2023-07-13T09:48:22.512779] Michael Ho: &gt; We actually tested and we couldn't reproduce in one board, but we could in another
Okay, I wonder what the root issue is
[2023-07-13T10:40:13.191559] Marcin Sobczyk: given <@U04JV0JBEFM>’s latest comment in the readiness chat - should I send out an email that the release is ready?
[2023-07-13T10:44:36.972869] Juanje Ojeda: Yeah, I think we should. The QDrive3 image is working. It has some weird known issue in the test, but it's functional and we've been using the image for running the package tests, so it's working.
I'd say that we should send the email.
[2023-07-13T10:50:00.456659] Marcin Sobczyk: 
[2023-07-13T10:50:13.600939] Marcin Sobczyk: do we have some bot for making the announcement?
[2023-07-13T10:50:18.804979] Marcin Sobczyk: found that ^^ in the readiness chat
[2023-07-13T11:02:46.290409] Juanje Ojeda: I think that's from the CAT team. Not sure, But I think so
[2023-07-13T11:03:06.577749] Marcin Sobczyk: ok, I'll just do that manually then
[2023-07-17T15:04:33.404969] Juanje Ojeda: <@U04HK2W8NGL> <@U04NNGY4QQ2> it seems like we'll need to build a new release candidate (ER3rc2). We should follow most of the steps from the checklist
[2023-07-17T15:06:20.708629] Ozan Unsal: Do we need to follow the steps for the ER3 release checklist or RHIVOS-0.15 checklist? I am asking since I am not sure whether we should pin the compose. If so which compose should we pin
[2023-07-17T15:07:21.820309] Juanje Ojeda: Yep, I think we need to pin the compose, because one of the thing we're going to change are the package versions
[2023-07-17T15:08:17.200079] Juanje Ojeda: Probably the congi files don't need much change (ap¡art from the RHEL compose), but we need to update the brew tag and the rhel compose
[2023-07-17T15:09:20.475799] Ozan Unsal: currently `RHEL-9.3.0-20230715.0` seems to be used in latest nightly
[2023-07-17T15:10:18.037609] Marcin Sobczyk: are we making ER3rc2 out of a recent nightly or are we promoting RHIVOS-0.15 to ER3rc2?
[2023-07-17T15:10:46.971639] Hubert Stefanski: This would be from `rhivos-1.0.0-candidate`
[2023-07-17T15:10:55.117389] Hubert Stefanski: we should have all updated pacakges there now needed for the rebuild
[2023-07-17T15:13:10.478749] Hubert Stefanski: confirming, we did tag them <https://brewweb.engineering.redhat.com/brew/tasks?method=tagBuild&amp;owner=auto-toolchain-service-brew&amp;state=all&amp;view=tree&amp;order=-id>
[2023-07-17T15:13:10.922629] Juanje Ojeda: Let's wait a moment, because there is a discussion about which packages we should update
[2023-07-17T16:21:05.089119] Juanje Ojeda: I think we're going to need to update all the missing packages. Could someone do it?
[2023-07-17T16:25:43.898739] Kanitha Chim: I recall we have a script to do that. I never did but if someone could share how to do it, I can help
[2023-07-17T16:37:26.898959] Michael Ho: Yeah, where is the "copy one tag to another" script? That should be committed in the workflows repo so we can make an easy tool to run
[2023-07-17T16:47:52.646199] Juanje Ojeda: We could even put it in the project's  snippet, if we don't want to put it in the repo itself.
[2023-07-17T16:49:54.000979] Ozan Unsal: I don’t have PC with me but if someone check Release checklist for RHIVOS-0.15 I linked the steps for this in document
[2023-07-17T16:50:09.658119] Hubert Stefanski: the brew-tag step from the brew plugin can do exactly that
[2023-07-17T16:50:19.595789] Hubert Stefanski: the details are in Ozan's Doc
[2023-07-17T16:51:36.588329] Hubert Stefanski: <https://docs.google.com/document/d/1vnpqT1K4vvGvsKtciVOPOvObl4K0DaCzhSb9NYiyFhM/edit?usp=sharing>
[2023-07-17T16:58:26.175539] Kanitha Chim: Do we need to change anything here?
```# yaml-language-server: $schema=example.schema.json
brew_server: <https://brewhub.engineering.redhat.com/brewhub>
source_tags:
  - rhivos-1.0.0-candidate
  - rhivos-1.0.0-gate
target_tag: &lt;GIVE THE TARGET TAG (ex. rhivos-1.0-er3)&gt;
workload_urls:
  - "<https://tiny.distro.builders/workload--automotive-workload-in--automotive-environment--automotive-repositories-c9s--aarch64.json>"
  - "<https://tiny.distro.builders/workload--automotive-workload-in--automotive-environment--automotive-repositories-c9s--x86_64.json>"
  - "<https://tiny.distro.builders/workload--automotive-workload-off--automotive-environment--automotive-repositories-c9s--aarch64.json>"
  - "<https://tiny.distro.builders/workload--automotive-workload-off--automotive-environment--automotive-repositories-c9s--x86_64.json>"
package_replacement_mapping:
  centos-gpg-keys: [ ]
  centos-logos:
    - redhat-logos
  centos-release-automotive:
    - redhat-release
  centos-stream-release:
    - redhat-release
  centos-stream-repos: [ ]
  dnf:
    - dnf
    - librhsm
  gnupg2:
    - gnupg2
    - openldap-compat
  linux-firmware-automotive:
    - linux-firmware
  ostree-compliance-mode: [ ]
  realtime-setup: [ ]
  tuned-profiles-realtime: [ ]```
[2023-07-17T17:02:34.217349] Ozan Unsal: If the updated builds are tagged with rhivos-1.0.0-candidate tag then you don’t need to change anything.
[2023-07-17T17:13:04.618679] Kanitha Chim: I assume `target tag` is rhivos-0.15
[2023-07-17T17:13:24.886239] Juanje Ojeda: It's for the ER3 release
[2023-07-17T17:13:36.466519] Juanje Ojeda: For the ER3rc2
[2023-07-17T17:13:45.659789] Juanje Ojeda: but not sure what would be the tag name
[2023-07-17T17:14:16.860749] Kanitha Chim: I got this resolved packages:
``` resolved_packages:
  - skopeo-1.13.0-1.el9
  - tpm2-tss-3.2.2-2.el9
  - linux-firmware-20230625-137.el9
  - libbpf-1.2.0-1.el9
  - file-5.39-13.el9
  - man-pages-6.04-1.el9
  - kernel-5.14.0-339.el9
  - kernel-automotive-5.14.0-339.302.el9iv
  - glib2-2.68.4-10.el9
  - rpm-4.16.1.3-25.el9
  - shadow-utils-4.9-8.el9
  - podman-4.6.0-0.1.el9
  - yajl-2.1.0-22.el9
  - openssl-3.0.7-24.el9
  - cryptsetup-2.6.0-3.el9
  - lvm2-2.03.21-3.el9
  - systemd-252-16.el9
  - container-selinux-2.219.0-1.el9
  - qemu-kvm-8.0.0-7.el9
  - libX11-1.7.0-8.el9
  - gcc-11.4.1-2.1.el9
  - NetworkManager-1.43.11-1.el9
  - libuser-0.63-13.el9
  - glibc-2.34-72.el9```
[2023-07-17T17:15:05.697109] Juanje Ojeda: Hmmmm... I thought it should resolv tot he same that in here: <https://gitlab.cee.redhat.com/automotive/fences/arca-x/package-level-workflows/-/jobs/13907818>
[2023-07-17T17:15:21.982459] Juanje Ojeda: ```    resolved_packages:
        - kernel-automotive-5.14.0-339.302.el9iv
        - glibc-2.34-72.el9
        - systemd-252-16.el9
        - gcc-11.4.1-2.1.el9
    target_tag: rhivos-1.0.0-candidate```

[2023-07-17T17:16:49.861819] Kanitha Chim: maybe different because of container I used? I pulled latest
[2023-07-17T17:20:04.254579] Juanje Ojeda: But that job should use also latest :thinking_face:
[2023-07-17T17:21:00.997669] Kanitha Chim: what's the difference between ``<http://quay.io/[MASKED]/package-level-workflows:latest|quay.io/[MASKED]/package-level-workflows:latest>` and `<http://quay.io/automotive-toolchain/brew:latest|quay.io/automotive-toolchain/brew:latest>`?
[2023-07-17T17:21:19.663919] Juanje Ojeda: good question...
[2023-07-17T17:21:21.562879] Kanitha Chim: ahhh I know
[2023-07-17T17:21:26.743269] Kanitha Chim: the brew is the plugin
[2023-07-17T17:21:47.571829] Kanitha Chim: and the package-level-workflow bundles them together
[2023-07-17T17:22:19.017059] Juanje Ojeda: ohhh the p-l-w is the workflow that runs all the plugins... I see
[2023-07-17T17:22:33.396829] Kanitha Chim: should I continue the next step?
[2023-07-17T17:23:17.018239] Juanje Ojeda: I don't know. I see too many new updates :thinking_face:
[2023-07-17T17:24:27.473619] Juanje Ojeda: I wonder why those packages didn't show up before
[2023-07-17T17:27:09.181679] Juanje Ojeda: The thing is that they want to update as minimum as possible, so we don't deviate too much from what we build and tested for the ER3rc1. Which makes sense. Adding 4 updates, it's kinda ok, but 24...
[2023-07-17T17:27:48.962079] Kanitha Chim: I see it used   `target_tag: rhivos-1.0.0-candidate` but when I changed mine to the same target_tag, I dont get any new resolved packages
[2023-07-17T17:28:13.149129] Juanje Ojeda: On the other hand, if those packages will be updated in the RHEL compose we use, it means that not updating them could raise again conflict in the dependencies :thinking_face:
[2023-07-17T17:29:15.693819] Juanje Ojeda: &gt; I see it used   `target_tag: rhivos-1.0.0-candidate` but when I changed mine to the same target_tag, I dont get any new resolved packages
Now I'm confused... Maybe the packages were already updated?
[2023-07-17T17:30:14.812739] Kanitha Chim: This is the config I provided
```# yaml-language-server: $schema=example.schema.json
brew_server: <https://brewhub.engineering.redhat.com/brewhub>
source_tags:
  - rhivos-1.0.0-candidate
  - rhivos-1.0.0-gate
target_tag: rhivos-1.0.0-candidate
workload_urls:
  - "<https://tiny.distro.builders/workload--automotive-workload-in--automotive-environment--automotive-repositories-c9s--aarch64.json>"
  - "<https://tiny.distro.builders/workload--automotive-workload-in--automotive-environment--automotive-repositories-c9s--x86_64.json>"
  - "<https://tiny.distro.builders/workload--automotive-workload-off--automotive-environment--automotive-repositories-c9s--aarch64.json>"
  - "<https://tiny.distro.builders/workload--automotive-workload-off--automotive-environment--automotive-repositories-c9s--x86_64.json>"
package_replacement_mapping:
  centos-gpg-keys: [ ]
  centos-logos:
    - redhat-logos
  centos-release-automotive:
    - redhat-release
  centos-stream-release:
    - redhat-release
  centos-stream-repos: [ ]
  dnf:
    - dnf
    - librhsm
  gnupg2:
    - gnupg2
    - openldap-compat
  linux-firmware-automotive:
    - linux-firmware
  ostree-compliance-mode: [ ]
  realtime-setup: [ ]
  tuned-profiles-realtime: [ ]```
as a result no packages resolved
[2023-07-17T17:30:45.935759] Kanitha Chim: And this is another config I provided
```# yaml-language-server: $schema=example.schema.json
brew_server: <https://brewhub.engineering.redhat.com/brewhub>
source_tags:
  - rhivos-1.0.0-candidate
  - rhivos-1.0.0-gate
target_tag: rhivos-0.15
workload_urls:
  - "<https://tiny.distro.builders/workload--automotive-workload-in--automotive-environment--automotive-repositories-c9s--aarch64.json>"
  - "<https://tiny.distro.builders/workload--automotive-workload-in--automotive-environment--automotive-repositories-c9s--x86_64.json>"
  - "<https://tiny.distro.builders/workload--automotive-workload-off--automotive-environment--automotive-repositories-c9s--aarch64.json>"
  - "<https://tiny.distro.builders/workload--automotive-workload-off--automotive-environment--automotive-repositories-c9s--x86_64.json>"
package_replacement_mapping:
  centos-gpg-keys: [ ]
  centos-logos:
    - redhat-logos
  centos-release-automotive:
    - redhat-release
  centos-stream-release:
    - redhat-release
  centos-stream-repos: [ ]
  dnf:
    - dnf
    - librhsm
  gnupg2:
    - gnupg2
    - openldap-compat
  linux-firmware-automotive:
    - linux-firmware
  ostree-compliance-mode: [ ]
  realtime-setup: [ ]
  tuned-profiles-realtime: [ ]```
which returned the above packages I pasted here
[2023-07-17T17:31:45.725089] Juanje Ojeda: Could you compared it with `rhivos-1.0-er3`?
[2023-07-17T17:33:35.176299] Kanitha Chim: Give me a moment, will be back 
[2023-07-17T17:38:07.568329] Hubert Stefanski: Okay, hold on, can I get a TL;DR of what you're trying to do?
[2023-07-17T17:38:26.342179] Hubert Stefanski: are you trying to diff 2 releases?
[2023-07-17T17:38:36.410039] Hubert Stefanski: or are you trying to add all new packages from candidate to a release tag?
[2023-07-17T17:47:33.128459] Juanje Ojeda: Kanita was trying to get the list of updates to then update the bew tag. But then we show too many updates. 24 instead of the 4 your job showed. So, I was wondering if something was wrong and why there were so many changes now.
[2023-07-17T17:47:34.353519] Kanitha Chim: we fetch_and_diff_packages
[2023-07-17T17:47:42.810099] Kanitha Chim: the plugin step
[2023-07-17T17:48:55.402599] Hubert Stefanski: the 4 updated were only in the safety scope
[2023-07-17T17:49:02.722549] Hubert Stefanski: the whole list of package updates is more than the safety scope
[2023-07-17T17:49:17.163379] Juanje Ojeda: Oh, that explains it
[2023-07-17T17:49:40.913899] Hubert Stefanski: 24 seems pretty reasonable tbh, the package-level-worfklow was updating non-safety scoped packages
[2023-07-17T17:49:58.312859] Hubert Stefanski: but we only gated on safety-scope, until we disabled that job earlier today
[2023-07-17T17:49:59.648269] Juanje Ojeda: The question then is... should we update just the one in the safety scope or all the updates?
[2023-07-17T17:50:38.636759] Juanje Ojeda: Also, those 24 are the new updates from er3-rc1 or from rhivos0-15?
[2023-07-17T17:50:57.227859] Hubert Stefanski: the second is a question for Kanitha I guess?
[2023-07-17T17:51:11.797019] Hubert Stefanski: answering the first: I guess it's no harm updating the rest
[2023-07-17T17:51:33.120999] Kanitha Chim: rhivos0.15
[2023-07-17T17:51:40.304129] Juanje Ojeda: Well, that's the thing, we suppose to update as less as possible
[2023-07-17T17:51:42.259069] Hubert Stefanski: since safety-scope is where the testing takes place for kernel/glibc etc then the rest shouldn't affect them
[2023-07-17T17:52:06.723009] Hubert Stefanski: Then just update the safety scope, the non-safety scope packages shouldn't affect the rest
[2023-07-17T17:52:13.149549] Juanje Ojeda: true, but those packages use more packages and depend on more packages
[2023-07-17T17:52:14.695859] Hubert Stefanski: at least I think
[2023-07-17T17:52:29.707009] Juanje Ojeda: At the end it's a different release
[2023-07-17T17:53:15.731629] Kanitha Chim: so, we update only this
```- kernel-automotive-5.14.0-339.302.el9iv
        - glibc-2.34-72.el9
        - systemd-252-16.el9
        - gcc-11.4.1-2.1.el9```
[2023-07-17T17:53:24.194399] Juanje Ojeda: But then we have also the problem that if we don't update them, maybe some tests fail due the conflicts... so, probably we should update them..
[2023-07-17T17:53:50.122199] Juanje Ojeda: It's a tricky situation
[2023-07-17T17:54:20.076919] Jim Bair: yeah, reverse dependency validation will help us avoid that when we can get that test going for package updates
[2023-07-17T17:54:44.476509] Juanje Ojeda: If the tests didn't install dependencies, I'd say not to install the rest, but if some of those dependencies have conflicts (which has happened before), they fail again
[2023-07-17T17:55:31.038209] Juanje Ojeda: Not really, because the test install a lot of package we don't know about. And those are the ones that can break the tests :confused:
[2023-07-17T17:59:54.615029] Juanje Ojeda: So, it seems that the actual list is 44 packages...
[2023-07-17T18:00:10.735919] Ozan Unsal: I am back to my PC, let me know if I can help
[2023-07-17T18:01:52.904739] Juanje Ojeda: I don't like the idea of updating that many packages, but the alternative is the possibility of some tests failing due to a version conflicts and fail the test cycle... :confused:
I guess the safest bet is to update all. I mean, we're going to re-run most of the tests
[2023-07-17T18:02:22.065489] Juanje Ojeda: I asked Rachel on the readiness channel to see what she thinks about it.
[2023-07-17T18:02:54.693919] Jim Bair: im curious how much time is lost if we only update 4 and find a failure and have to pull in more vs pulling in all changes? And how that compares if we have to remove packages if a new package breaks stuff
[2023-07-17T18:05:24.949569] Juanje Ojeda: Oh... a lot more
[2023-07-17T18:06:19.477539] Jim Bair: I feel like for a bugfix we should minimize the changes vs a full refresh release, but I guess that's for the business to decide
[2023-07-17T18:06:25.666979] Jim Bair: we don't know what will break until we try
[2023-07-17T18:06:32.551339] Jim Bair: and sadly it sounds like it'll take days to find out if we broke something
[2023-07-17T18:06:37.112079] Juanje Ojeda: Mostly because we need to build the release and start the tests and see if one of them fail, which can be the first or the last. It can take few days to discover. And then we need to repeat the process.
But if we update all the packages, the tests won't fail.
[2023-07-17T18:06:58.210669] Jim Bair: it would be nice if we could do both models in concurrency and see what the tests do :stuck_out_tongue:
[2023-07-17T18:07:01.834459] Jim Bair: I'm just a dreamer though
[2023-07-17T18:07:47.505169] Juanje Ojeda: &gt; we don't know what will break until we try
It's true, they might not fail, but the experience tell us that when the packages are a bit outdated, normally some test fail.
[2023-07-17T18:13:09.418679] Juanje Ojeda: Steve asked one smart question in the readiness chat. We're checking the updates from the rc1 to now, but could we get the updates from the rc1 to the day we build the rc1?
That's it to the versions available in that RHEL compose?
That would fix the tests and it would deviate much less from the rc1
[2023-07-17T18:13:23.001559] Juanje Ojeda: Can we check that?
[2023-07-17T18:14:16.819759] Juanje Ojeda: Maybe we could just check manually the versions on that RHEL compose and manually update the tag.
They would be only 3 or 4 packages
[2023-07-17T18:15:45.490919] Ozan Unsal: If you think that it is better I can update those 4 packages in brew er3 tag
[2023-07-17T18:17:18.103459] Juanje Ojeda: That would reduce the changes, including the rhel compose. We won't need to pin a new one.
Let me find the versions for those packages in that rhel compose
[2023-07-17T18:17:43.491039] Ozan Unsal: sure
[2023-07-17T19:15:19.221189] Juanje Ojeda: Ok... sorry about this... but it seems like it might be a false alarm...
It all started with a conversation with some TE folks about the `gcc` and `glibc` tests failing due to some dependency conflicts and it was some kind of miscommunication. They were talking about the nightly and I was talking about the release (ER3).
I've just checked the packages in our compose and the RHEL compose we used and they are the same versions, so they shouldn't fail.
I'm running the tests for those packages against the ER3 image to see if they actually fail for the release.
[2023-07-17T19:17:38.978599] Juanje Ojeda: I'm still not sure. Let's see what the tests say.
But the tests were failing for the nightly, so that we should fix. I guess that with the last change about ignoring the tests we should have the nightly fully updated again.
[2023-07-17T19:18:51.799959] Ozan Unsal: so it seems we don't need to update the ER3 instead we should update the nightly (which is rhivos-1.0.0-candidate)
[2023-07-17T19:28:22.587539] Juanje Ojeda: I think so. But I'm still waiting for the tests to be sure.
[2023-07-17T19:48:33.691669] Juanje Ojeda: Yep, the tests are fine for the release. The problem is only with the nightly. Sorry for all the confusion
[2023-07-17T19:49:01.430039] Ozan Unsal: Everything is good :+1:  
[2023-07-17T20:02:00.307419] Jim Bair: <@U02F2L89YTS> a good exercise all the same :slightly_smiling_face:
[2023-07-18T05:43:38.991679] Hubert Stefanski: No need to manually update nightlies they're back up to automatic updates for thr candidate tag
[2023-07-18T13:10:40.902909] Ryan Smith: Question: how did `ER3-rc1/` <https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/|here> come to be? Because there is no corresponding <https://gitlab.cee.redhat.com/automotive/rhivos/-/tags|tag> on rhivos.git
[2023-07-19T14:44:48.063509] Jochen Breuer: <@U04NNGY4QQ2> <@U04HK2W8NGL> I just remembered that haven’t done a release post-mortem yet.
[2023-07-19T15:17:18.011369] Ozan Unsal: sure we can do anytime :+1:
[2023-07-19T15:18:03.448789] Ozan Unsal: I have a feeling that the next action items will be the automation of some tasks in release process.
[2023-07-25T14:45:15.515759] Kanitha Chim: It seems to me that ER3 was dated 21st June as listed here <https://docs.engineering.redhat.com/display/Automotive/RHIVOS+Release+Coordinator+and+Assistant>, do I miss something?
[2023-07-25T14:50:39.978289] Ozan Unsal: yes correct but this is not the official delivery to the customers. I am not sure when exactly :grin:
[2023-07-25T14:55:45.262589] Kanitha Chim: so we will do er3 release again?
[2023-07-25T14:56:46.611069] Ozan Unsal: I don't think that we will do the release again but we will sync the release folder to the partner's SFTP.
[2023-07-26T13:41:58.846059] Steve Loranz: Official release is between Aug 2nd and 4th… let’s call it the 3rd.
[2023-07-26T13:42:37.697839] Steve Loranz: I think there is some padding there in that 2nd-4th range.
[2023-08-03T08:41:08.318089] Kanitha Chim: Hi team, please let me know when I should start running sea-bridge to upload `ER3-rc1` to qualcomm's Artifactory
Also, I am not sure if we want to add any other documents. I've seen there are two docs in this ticket (<https://issues.redhat.com/browse/VROOM-13949>) to be included but I am not sure if the docs are ready
[2023-08-03T13:32:51.128289] Steve Loranz: sorry… posted this in the team channel instead of here: “I’m not seeing the documentation from <https://issues.redhat.com/browse/VROOM-13949> in <https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/ER3/>”
[2023-08-03T15:55:21.596539] Jochen Breuer: Are we good with the release apart from the question around the Safety Manual?
[2023-08-03T15:57:59.239769] Steve Loranz: I think so. Kanitha copied the release notes and ride4 instructions in and I replaced the ER2 release readiness report with the ER3 doc.
[2023-08-03T15:58:59.224189] Steve Loranz: the safety manual seems to not be updated since June 19th.
[2023-08-03T15:59:14.745009] Steve Loranz: based on what I’m seeing in Polarion.
[2023-08-03T16:00:45.127119] Jochen Breuer: Alright. Thanks a lot for the update! Let’s see what the final verdict will be.
[2023-08-03T16:22:53.592939] Steve Loranz: <@U02DXVBD5CP> waiting on three sign-offs for the readiness report, then I will re-add that to ER3.
[2023-08-03T18:30:39.181729] Steve Loranz: set the channel topic: Release: RHIVOS0.16 / August 9th
Coordinator : <@U04HK2W8NGL>
Assistant: <@U02DXVBD5CP>

Internal channel for ATC release coordination. Release readiness with a wider audience can be coordinated in <#C04RHEEGY30|>!
[2023-08-04T10:52:19.276509] Kanitha Chim: <@U04HK2W8NGL> maybe we should create/add release epic and stories to the sprint?
[2023-08-04T10:53:08.944169] Marcin Sobczyk: <@U02DXVBD5CP> sure, I'll try to handle this
[2023-08-04T10:53:56.696639] Kanitha Chim: thank you :slightly_smiling_face:
[2023-08-08T07:30:50.747729] Kanitha Chim: Good morning, <@U04HK2W8NGL> if it's okay, I'll create a ticket to pin RHEL compose from last night nightly. WDYT?
[2023-08-31T13:41:42.419779] Kanitha Chim: set the channel topic: Release: RHIVOS0.17 / September 6th
Coordinator: <@U02DXVBD5CP>
Assistant: <@U05AGS4SE78>

Internal channel for ATC release coordination. Release readiness with a wider audience can be coordinated in <#C04RHEEGY30|>!
[2023-09-05T08:40:41.854869] Kanitha Chim: Hi everyone, FYI here is the checklist for RHIVOS0.17: <https://docs.google.com/document/d/1IrovA71XmJpNt4o3v7oum2LHAELCF2e7w7Ma7Dwt2yQ/edit#heading=h.g0vnvz26k3uj>
[2023-09-18T14:06:19.145499] Steve Loranz: Do we have a checklist in Jira for ER4 yet?
[2023-09-18T14:09:23.009589] Steve Loranz: set the channel topic: Release: rhivos-er4 / September 20th
Coordinator:
Assistant:

Internal channel for ATC release coordination. Release readiness with a wider audience can be coordinated in <#C04RHEEGY30|>!
[2023-09-18T15:34:22.776339] Kanitha Chim: I don't think we have in Jira but <@U04NNGY4QQ2> has been refining the checklist here: <https://docs.google.com/document/d/1USixd0Glo5vbu-dpRZjkPdeOzL3Xz_uhog4390H-WwY/edit>
[2023-09-18T16:10:06.838109] Jim Bair: • <@U04NNGY4QQ2> Tag Name: ‘*ER4*’ in rhivos.git set LOCKFILE_REPO_REF (see below for example config file)

[2023-09-18T16:10:15.133739] Jim Bair: do we still have a LOCKFILE_REPO_REF?
[2023-09-18T16:11:42.460379] Ozan Unsal: good point Jim, we don't need the LOCKFILE_REPO_REF
[2023-09-18T16:42:41.914369] Ozan Unsal: btw I have created <https://brewweb.engineering.redhat.com/brew/taginfo?tagID=131399|rhivos-1.0-er4 tag> in brew
[2023-09-18T19:13:31.680769] Juanje Ojeda: FYI, there's a poll right now at the release readiness chat about delaying the ER4 release 2 weeks, because there are some pending features for the Kernel-automotive.
We might delay the release two weeks.
[2023-09-19T16:56:05.857619] Steve Loranz: ER4 is delayed 2 weeks
[2023-09-19T17:25:09.308719] Steve Loranz: set the channel topic: Release: rhivos-er4 / October 4th / CTC starts October 5th
Coordinator:
Assistant:

Internal channel for ATC release coordination. Release readiness with a wider audience can be coordinated in <#C04RHEEGY30|>!
[2023-09-19T17:27:14.087229] Steve Loranz: So, 0.18 and ER4 are essentially the same thing.
[2023-09-19T17:33:54.186799] Juanje Ojeda: set the channel topic: Release: ER4 / October 4th / CTC starts October 5th
Coordinator: Wisdom
Assistant: Juanje

Internal channel for ATC release coordination. Release readiness with a wider audience can be coordinated in <#C04RHEEGY30|>!
[2023-09-19T17:35:01.663389] Juanje Ojeda: I added myself back as assistant in the doc and I updated the names in the names in the topic. I had to short some stuff as there were too many characters :sweat_smile:
[2023-09-19T18:18:01.386359] Hubert Stefanski: So wait, am I or am I not replacing you <@U02F2L89YTS>? :sweat_smile:
[2023-09-19T18:19:51.024249] Juanje Ojeda: No, I said I probably couldn't this week, but it got delayed, so I can do it.
I hope it's ok with you :see_no_evil:
[2023-09-19T18:20:13.057059] Juanje Ojeda: BTW, I created the Epic and the ticket for the release: <https://issues.redhat.com/browse/VROOM-15036>
[2023-09-19T18:20:50.500469] Hubert Stefanski: Sure thing :wink:  I won't refuse being offloaded that responsibility :laughing:
[2023-09-27T12:08:12.713329] Juanje Ojeda: &gt; btw I have created <https://brewweb.engineering.redhat.com/brew/taginfo?tagID=131399|rhivos-1.0-er4 tag> in brew
Dumb question from a Brew/Puni/Koji newbie...
We have already the tag, I guess the release day we tag the packages, right?
How?
[2023-09-27T12:10:34.441969] Michael Ho: Last time I recommended a brew api function, snapshotTag, which can copy one tag into another. We've never used it before though, previously we had an arcaflow script to populate the tag.
[2023-09-27T12:17:31.940069] Hubert Stefanski: I'd say maybe risking it with the snapshotTag is the way to go
[2023-09-27T12:17:41.004869] Hubert Stefanski: the arca script doesn't really scale that well
[2023-09-27T12:18:04.281329] Hubert Stefanski: It worked fine for our ~800 packages, but bumping that up by a few hundred % makes it run for an hour
[2023-09-27T12:21:24.772309] Juanje Ojeda: Could we test it with anohter tag first? Or can we tag packages with er4, build a compose and then remove the tags, just to test it?
[2023-09-27T12:23:46.924799] Hubert Stefanski: Hmm, you can probably do so with a side-tag
[2023-09-27T12:24:18.414169] Hubert Stefanski: Do you want to pre-test the current state of rhivos-candidate? or test the `snapshotTag` call?
[2023-09-27T12:24:46.265619] Michael Ho: <@U04NNGY4QQ2> might be the person for this
[2023-09-27T12:25:28.320549] Juanje Ojeda: &gt; Do you want to pre-test the current state of rhivos-candidate? or test the `snapshotTag` call?
Both
[2023-09-27T12:25:37.718419] Juanje Ojeda: But mostly the second
[2023-09-27T12:25:53.238849] Ozan Unsal: when it will be the release date?
[2023-09-27T12:26:37.403719] Michael Ho: Fyi, It should be trivial, basically, `brew call snapshotTag &lt;src-tag&gt; &lt;dest-tag&gt;`
Note: Destination tag must not exist.
[2023-09-27T12:27:17.345599] Ozan Unsal: from tomorrow until October 4th, I will be out since I am moving out. I won't have any network connection until then :disappointed: but if we can do it now, I will run the command for you.
[2023-09-27T12:27:36.852799] Ozan Unsal: The tag is already there, I created it last week
[2023-09-27T12:29:18.368179] Michael Ho: I think if the destination tag exists, you can call `brew call --python snapshotTagModify &lt;src-tag&gt; &lt;dest-tag&gt; "remove=true"`
[2023-09-27T12:29:55.924069] Michael Ho: Should we just snapshot today's state into the tag so Juanje can see the state?
[2023-09-27T12:32:48.306289] Juanje Ojeda: &gt; when it will be the release date?
<@U04NNGY4QQ2> October 4 th
But not worry. If we have permission to run that, we should be able to do the test run.
[2023-09-27T12:35:12.787379] Ozan Unsal: if you want we can create dummy tag and try `brew call --python snapshotTagModify`  from the `rhivos-1.0.0-candidate`  tag.
[2023-09-27T12:43:25.362829] Juanje Ojeda: I created this ticket for this part, could you check that I didn't put anything wrong or stupid :sweat_smile:
<https://issues.redhat.com/browse/VROOM-15150>
[2023-09-27T12:43:27.424049] Juanje Ojeda: Thanks
[2023-09-27T12:46:15.919349] Ozan Unsal: so here is the rhivos-test tag <https://brewweb.engineering.redhat.com/brew/taginfo?tagID=122526> and now I am going to run the `brew call snapshotTagModify`
[2023-09-27T12:52:39.816599] Ozan Unsal: hmmm I am still waiting the command to finish
[2023-09-27T12:52:49.754069] Michael Ho: I guess it will take time
[2023-09-27T12:53:01.215529] Michael Ho: Internally it's still doing similar actions to what arca does...
[2023-09-27T12:53:04.646359] Michael Ho: but probably more stable
[2023-09-27T12:53:22.391149] Ozan Unsal: now is done
[2023-09-27T12:53:24.698269] Ozan Unsal: <https://brewweb.engineering.redhat.com/brew/taginfo?tagID=122526>
[2023-09-27T12:54:25.758149] Ozan Unsal: the build numbers are different but probably there are some old builds in `rhivos-1.0.0-candidate` , which are not copied to the `rhivos-test`
[2023-09-27T12:57:32.597689] Michael Ho: it should use latest=true by default
[2023-09-27T12:57:41.339229] Michael Ho: did you set remove=true*
[2023-09-27T12:59:08.199779] Ozan Unsal: yes I set remove=true
[2023-09-27T12:59:48.777249] Michael Ho: Ah I see
[2023-09-27T12:59:53.042219] Michael Ho: Yes, it's what we want then
[2023-09-27T13:00:04.062479] Michael Ho: we don't want the old builds copied in, just the latest
[2023-09-27T13:00:18.573099] Ozan Unsal: yup
[2023-09-27T13:00:53.549049] Michael Ho: so that was a lot faster than the arca-x workflow
[2023-09-27T13:00:57.816229] Michael Ho: :partying_face:
[2023-09-27T13:01:11.976419] Ozan Unsal: yup I think so :partying_face:
[2023-09-27T13:01:39.827629] Michael Ho: Can you please document the command you ran into the release ticket?
[2023-09-27T13:01:46.681009] Michael Ho: So we know how to do it in case you're not around :sweat_smile:
[2023-09-27T13:01:51.834339] Ozan Unsal: sure of course
[2023-09-27T13:01:58.064599] Michael Ho: thank you
[2023-09-27T13:02:07.611719] Ozan Unsal: you're welcome :smile:
[2023-10-02T16:55:39.906599] Juanje Ojeda: I've prepared a new branch `rhivos-er4` based on `main` , and then created this MR for updating the version and koji tag:
<https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/485>
Is this what we suppose to do for a new release, right?
[2023-10-02T16:56:56.520699] Juanje Ojeda: Ozan already created the tag, once I'll tag the packages on Wed, (with this merged) we should be able to build a compose using this branch, right?
[2023-10-02T17:55:18.912189] Juanje Ojeda: Another thing. Despite my ineptitude with kerberos and brew, I tried to test what Ozan did last time, to see if I could tags the packages.
No luck so far. I'll put my steps in a thread, to avoid too much noise here.
[2023-10-03T09:47:20.961249] Juanje Ojeda: I was creating the `ER4.config` file for the d-p-a-c repo and while cleaning up stuff we don't need anymore I left it pretty slim...
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/281/diffs>

I removed the `DOWNSTREAM_COMPOSE_URL` variable from there (and I won't ask RHEL to pin the compose), as we now use our compose for building our images and for testing the packages. The variable is still used to build the `non-sample-images`  and any image that don't use our compose, but for those the `create-osbuild` will use the default value from the repo (`.gitlab/config.conf`), which is the latest RHEL compose.
I guess it's fine, as we just need the images to build, but they won't be use for testing packages, so there should be no need to the RHEL compose.

&gt; NOTE: Well, I've just realized that we actually build the Ride4 and QDrive3 images with RHEL (not RHIVOS compose), as it's using the `developer` images. But I'm trying to fix that (I hope it works):
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/282>

But, it that works and we can build the images we ship and test just with the RHVOS compose, are you OK with not pinning the RHEL compose and leave that variable pointing to latest?
[2023-10-03T14:35:42.803059] Michael Ho: <https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/486> Here's my attempt to fix comps for RHIVOS
[2023-10-03T15:31:10.850359] Juanje Ojeda: <@U04LP69FP6X> hi! Could you do the tagging for the release now?
It seems like the account doesn't have permissions and we should tag it, so we're ready for building the release.
Ozan already created the tag `rhivos-1.0-er4` (<https://brewweb.engineering.redhat.com/brew/taginfo?tagID=131399>)
[2023-10-03T19:56:57.823419] Juanje Ojeda: FYI, as everything is ready (packages added to the tag, config files merged, branch created, etc.) and I was already in front of my laptop, I created the tag, so it triggered the relase pipeline.
If everything goes fine (no reason to think otherwise) we should have the release ready in a couple of ours. If something goes wrong, we have tomorrow for fixing it :slightly_smiling_face:
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/5711500>
[2023-10-03T21:05:54.574179] Juanje Ojeda: It failed because the new branch in rhivos.git didn't have Michael's last change. It was just in `main`.
I created a cherry-pick MR to add those changes to the release branch. Please approve it (and merge it if I'm not up yet in the morning), so I can trigger the release pipeline release again in the morning.
Thanks.
<https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/488>
[2023-10-03T23:17:39.832919] Jim Bair: Approved by me; just need one more approval. I suspect it'll take until morning
[2023-10-04T07:20:45.680459] Juanje Ojeda: Created again the tag (now with the comps fix merged into the release branch) and here is the release pipeline:
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/5730741>
[2023-10-04T08:11:03.498699] Juanje Ojeda: It has already built the ride4 images (developer), so now it should be fine :slightly_smiling_face:
[2023-10-04T09:29:54.658239] Juanje Ojeda: The pipeline passed habemus ER4 release :slightly_smiling_face: :partying_face:
[2023-10-04T13:54:32.288969] Jim Bair: <@U02F2L89YTS> I like the changelog between releases; did you use JIRA to look over issues/epics since the last one? I'm curious how we can do that for each release :slightly_smiling_face:
[2023-10-04T13:57:10.616599] Juanje Ojeda: Not really. We should have some automation also around that.
I compared the two releases artifacts and I tried to remember recent changes (new content policy, new debug image, adding the kernel-debug, etc.)
Then I checked the Jira board to see if something pop up.
But now that the release process is so much simpler, we should work on the Changelog automatic generation :ok_hand:
[2023-10-25T12:28:56.654429] Hubert Stefanski: Hey! just verifying before creating the release epic, the following release is 0.19 right? as we agreed to replace 0.18 with ER4, we're essentially "skipping" that version?
[2023-10-25T12:29:19.884539] Hubert Stefanski: i.e we're adhering to dates and releases set in <https://docs.google.com/spreadsheets/d/1FM_AYNSTkOcdLgGzQipRAmLBPEDRPKaqMuaYa1bqYSY/edit?usp=sharing>
[2023-10-25T12:30:26.602369] Kanitha Chim: Yes, you're right
[2023-10-25T12:31:15.734389] Hubert Stefanski: Perfect, thanks for verifying! wanted to make sure just in case anything changed since then
[2023-10-30T08:46:58.625859] Hubert Stefanski: Good Morning, <@U04NNGY4QQ2> did you get permissions to create tags yet? or do we have to bother <@U04LP69FP6X> for it? :sweat_smile:
[2023-10-30T08:47:39.745349] Ozan Unsal: I have the power to create the tags :grin: 
[2023-10-30T08:48:55.201889] Hubert Stefanski: Awesome! just checking in, We'll probably create it tomorrow, since you're probably out on Wednesday for a national holiday right?
[2023-10-30T08:49:08.205339] Hubert Stefanski: Juanje or I can update it manually before the actual release
[2023-10-30T08:53:18.349579] Ozan Unsal: Yup you are right but I can create the tag from now
[2023-10-30T09:04:01.339919] Ozan Unsal: and I created rhivos-0.19 tag <https://brewweb.engineering.redhat.com/brew/taginfo?tagID=134423>
[2023-10-30T09:34:21.238699] Hubert Stefanski: perfect, thank you!
[2023-10-30T09:35:04.211929] Ozan Unsal: you're welcome
[2023-10-30T12:57:03.128369] Juanje Ojeda: Could we check that we actually can tag those packages? Last time I (or anyone other than Sameera or Ozan) could.
[2023-10-30T13:03:03.963479] Hubert Stefanski: I'll check that
[2023-10-30T13:18:05.215769] Hubert Stefanski: ```❯ brew list-permissions --mine       
Permission name   
------------------
package-list-admin
pkglist-rhivos    
regen-repo        
tag               
tagger            
target            ```
[2023-10-30T13:18:12.230699] Hubert Stefanski: hmm, I think I need rhivos-tagger
[2023-10-30T13:26:07.645749] Hubert Stefanski: Alrighty, I have permissions to both add packages to the package list and tag builds into the release tag
[2023-10-30T13:26:14.339059] Hubert Stefanski: Looks like we're all good
[2023-10-31T15:20:07.154799] Hubert Stefanski: <@U02F2L89YTS> I'll resume the runner tomorrow morning prior to running those pipelines
[2023-10-31T15:56:19.952329] Hubert Stefanski: Hey folks, can people kindly take a look at these release MRs?
odcs config updates to rhivos-0.19 branch: <https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/492/diffs>
main readme updates: <https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/493>
pipeline release configs: <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/292>
[2023-10-31T15:56:35.135629] Hubert Stefanski: Would be awesome if we could merge them today, and just tag and watch the pipelines tomorrow
[2023-10-31T16:04:32.935409] Juanje Ojeda: All three approved
[2023-11-01T11:27:28.652319] Hubert Stefanski: Cross posting for visibility: Release 0.19 is in the oven <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/6137940>, let's watch it bake! :cat_tap:
[2023-11-28T15:26:54.476069] Ryan Smith: set the channel topic: Release: 0.20 / November 29th
Coordinator: Hubert
Assistant: Ryan

Internal channel for ATC release coordination. Release readiness with a wider audience can be coordinated in <#C04RHEEGY30|>!
[2023-11-28T15:28:48.182259] Ryan Smith: Hi <!here> - I am getting errors tagging our packages to the rhivos-0.20 tag:
&gt; 2023-11-28 10:25:43,702 [ERROR] koji: ActionNotAllowed: tag permission required (logged in as rsmit)
Meanwhile I appear to already have tagging permissions:
```[rsmit@rsmit:~]$ brew userinfo rsmit
User name: rsmit
# omitted
Permissions:
  tagger
  pkglist-rhivos
Status: NORMAL
Usertype: NORMAL
Number of packages: 0
Number of tasks: 0
Number of builds: 0```
Anyone have any insight in to the issue here?
[2023-11-28T15:28:54.532209] Juanje Ojeda: I love the new topic :slightly_smiling_face:
Very professional, we should keep doing that
[2023-11-28T17:34:09.837759] Ryan Smith: Hi everyone, I have some merge requests for review so that Hubert can start the fun first thing tomorrow:
• <https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/494>
• <https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/495>
• <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/301>
Let me know if anything seems awry, sometimes I have bad copy/paste luck
[2023-11-29T08:47:20.073409] Hubert Stefanski: Release pipeline triggered: <https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/6507119> for anyone that loves a bit of nail biting action on a Wednesday morning :wink:
[2023-11-29T12:21:57.791709] Juanje Ojeda: I see the pipeline finished and the release is already out: <https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS0.20/>
Should we announce it at the readiness and the atc channels?
[2023-11-29T13:01:11.346729] Ryan Smith: I will make the announcement
[2023-12-05T17:00:30.484679] Juanje Ojeda: Talking to <@U04NN2GEXLZ> and <@U01KBN9MFB7> there is a desire to include a performance&scale gate within the release readiness process, goal would be to enable this by the ER6 release. ideally we would want to execute this on a stable release after the CTC testing, and challenging ourselves to fit within a 2 week window.
From: Alex Calhoun
Sender: Slack Conversation
FYI, It looks like there will be a new step at the release, after the QE CTC testing cycle. They want P&S to gate the release:
<https://redhat-internal.slack.com/archives/C04RHEEGY30/p1701790657927399>
[2023-12-05T19:24:23.382239] Avihai Efrat: That’s unorthodox in a good way increasing quality ,very impressive to achieve the 2 weeks window!
Usually P&S are done well after the release CTC (functional system QE test comprehensive testing ) when the compose is stable and ready to be shipped (at least functionally stable)as P&S test are usually long to prepare,run and debug(talking as former 2 years P&S engineer at ECI telecom).
Very challenging goal indeed!
[2024-01-30T11:52:55.106099] Miloslav Trmač: <@U020YLADEKA> hi, so we foudn some small regressions, hopefully patching now the last one, and weill be released, will let you know, did not make 12:00 :disappointed:
[2024-01-30T11:53:03.310829] Miloslav Trmač: we need to improve our release process
[2024-01-30T12:05:08.696489] Avihai Efrat: Thanks for the update <@U01NHRC0E4D> and for your continued efforts to get the fix out and package it to a new TF release, not an easy task for sure.
The ER5 release will be done tomorrow anyway so we should be OK by then.
[2024-01-30T16:31:10.370779] Juanje Ojeda: <@U04QNH25QA1> <@U04NNGY4QQ2> FYI, it looks like we're going to build the release tomorrow as expected, and we don't need to disable the CTC triggering.
The meeting is still in progress, but it seems like that is the decision for the our part.
[2024-01-31T13:54:07.853709] Juanje Ojeda: I've just released something... We trigger the CTC from the release pipeline, and the CTC run the tests via the p-l-p, which uses the mirror for checking the CAT file and the image to use.
But the mirror doesn't have the release sync yet. It takes really long time to do it.
That's why we are seeing a few errors from the CTC jobs like this: <https://gitlab.cee.redhat.com/automotive/pipe-x/package-level-pipelines/-/jobs/19613942>
[2024-01-31T14:30:03.682769] Juanje Ojeda: New topic: The CTC trigger job
I see the job is in the expected stage, at the very end of the pipeline (first image)
But then I see that the dependencies make it run after we build the RideSX4 image, so before the other jobs (second image).
We should remove that dependency, so it runs when it should, at the very end.
WTDY?
[2024-01-31T19:34:57.837669] Juanje Ojeda: FYI, the rsync is still working on syncing the ER5 release. It's not fully copied yet.
[2024-01-31T22:59:35.164819] Roni Eliezer: I see an error with upload to RP, <https://gitlab.cee.redhat.com/automotive/pipe-x/package-level-pipelines/-/pipelines/7339484>
I raised this in the Data Router chat here: <https://mail.google.com/mail/u/0/#chat/space/AAAAMWP6DDY>

request: b607be3e-b505-4341-93a3-c1ccec82668f
status: FAILURE
targets:
  - name: reportportal
   status: FAILURE
   events:
    - component: reportportal-processor
     status: FAILURE
     message: |-
      [
       "Failed to process payload: Failed to create directory /work/data/b607be3e-b505-4341-93a3-c1ccec82668f-reportportal-processor-2024-01-31T21:02:02.273197Z"
      ]
    - component: reportportal-processor
     status: FAILURE
     message: |-
      [
       "java.lang.NullPointerException: file"
      ]
[2024-02-19T08:46:58.720819] Jochen Breuer: Hey folks, good morning! How is the world looking like today?
[2024-02-19T17:14:46.514899] Juanje Ojeda: <@U04QNH25QA1> <@U04NNGY4QQ2> How are we going to trigger the CTC? Is the job from the release pipeline that triggers the CTC disabled?
If not, did we changed the variable for the release artifacts in the p-l-p, so the tests there could find the release?
Remember that the last time it failed because it's pointing to the mirror and the release take long time to sync to the mirror.
[2024-02-19T18:46:55.688089] Juanje Ojeda: <@U04QNH25QA1> do you know how to check the Ride4 boards? I see the smoke-test for the ride4 boards (for the release pipeline) waiting for long time:
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/20126390>
[2024-02-19T19:56:54.860469] Roni Eliezer: <@U02F2L89YTS> t used board #1, the board seems to have no IP, (checked with serial as well)
[2024-02-19T19:58:18.959059] Roni Eliezer: <@U02F2L89YTS> I re-run the job and it seems that it takes the same board, let's see...
[2024-02-19T20:10:04.547369] Roni Eliezer: <@U04PQB5SV41> in the serial of board#1 I see the following failure, any idea?
[FAILED] Failed to start Load Kernel Modules.
[    2.974305] systemd[1]: Failed to start Load Kernel Modules.
[2024-02-20T15:31:59.452479] Juanje Ojeda: Update the QA image with the changes related to the ABL like bootloader added to the official images here:
Title: qa: do not pass rootfs_uuid with ABL like bootloader (!20) · Merge requests · Red Hat / Edge / ci-cd / Pipe X / Custom Images · GitLab
I created a MR for fixing the QA image for this issue, following the latest findings. If we merge that, we could rebuild the release and see if it works.
Well, actually, we could re-trigger the QA image build and then the smoke-tests. That should give tell us if that works without rebuilding the whole thing.
<https://gitlab.com/redhat/edge/ci-cd/pipe-x/custom-images/-/merge_requests/20>
[2024-02-20T16:29:25.812849] Juanje Ojeda: The image is already built and the smoke-test is running...
Let's see if now works :crossed_fingers:
<http://artifacts.osci.redhat.com/testing-farm/b3a27162-2acb-4f12-b16f-9c42948d7feb/>
[2024-02-20T16:43:53.811819] Juanje Ojeda: It passed!!! :partying_face:
[2024-05-21T16:30:40.508539] Juanje Ojeda: About the *Release Candidates* (rc) issue:
I see two options:
1. Create an ER6-rcX tag and then copy the artifacts directory as ER6 
2. Create an ER6 tag and copy the artifacts directory as ERrcX.
Option 1:
• Pros:
    ◦ A polarion CTC record for each rcX (useful?)
• Cons:
    ◦ The internal references to the rcX (info.txt, `/etc/build-info` , etc)
Option 2:
• Pros:
    ◦ The internal references all point to the actual release name: ER6. No rcX references
        ▪︎ The internal references still have the timestamp, so it can be traced to the actual pipeline.
    ◦ We only have one tag (at brew and git) pointing to the final release
• Cons:
    ◦ The CTC for all the CTC runs will use the same release ID. (is this a problem? not sure)
There are probably more for each one. But looking at those, I think the second options is cleaner for the final release :thinking_face:
[2024-05-22T11:14:20.692739] Roni Eliezer: <@U04KNU6HGCU> Hi Petr can u pls try to add the Polarion tag?
[2024-05-22T11:18:28.344759] Juanje Ojeda: GitLab CI pipelines
Title: rules: move down the pungi config rules, to avoid running problematic jobs (!310) · Merge requests · Red Hat / Edge / ci-cd / Pipe X / pipelines-as-code · GitLab
<@U04NNGY4QQ2> <@U04QNH25QA1> So, the issue with the BASE_URL and the update job failing on the rhivos.git MR should be fixed.
I thought it wasn't, but the job should work now fine.
The <https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/310|new MR I created> is for not running all the jobs, but now I'm not sure we need/want that. It'll make the pipeline shorter, but we won't test all the things with the new compose.
WDYT? Should merge it or not?
[2024-05-22T11:26:52.092119] Ozan Unsal: I think we can merge it and it will fix the problems
[2024-05-22T13:11:06.960059] Juanje Ojeda: I set it for auto-merge, but I still not sure if should do that. The current fix should work fine (no BASE_URL for the pungi MRs), but we're the new MR will skip some jobs for Pungi MRs.
I'm not sure we should skip them.
Yes, the pipeline is shorter, but we also don't test some things on the proposed compose :thinking_face:
[2024-05-22T15:46:19.830169] Roni Eliezer: FYI: ER6-pre-run is built here: <https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/8234133>
[2024-05-23T07:43:25.874219] Ozan Unsal: It seem ER6-pre-run release was successfully built at <https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/ER6-pre-run/>, <https://download.hosts.prod.upshift.rdu2.redhat.com/rhivos/ER6-pre-run/>
[2024-05-23T07:59:20.534459] Roni Eliezer: but we have issue with the tests, lot of tests end up with error, provision failed
<https://artifacts.osci.redhat.com/testing-farm/a8de7b93-30fe-4837-bf42-77c9eb1e5c86/work-planyqdiwqbz/flasher-debug-2da98d2b-508b-4f18-a69b-0849a8373a85.2024-05-23-01:48:32.765794.log|https://artifacts.osci.redhat.com/testing-farm/a8de7b93-30fe-4837-bf42-77c9eb1e5c86/work-[…]8b-4f18-a69b-0849a8373a85.2024-05-23-01:48:32.765794.log>
```error: No space left on device\```

[2024-05-23T08:00:06.845189] Roni Eliezer: <@U02JHD5HMGC> FYI ^
[2024-05-23T08:41:14.773719] Roni Eliezer: <@U02JHD5HMGC> I don't see any disk space issue on sidekick-03:thinking_face:
root@qti-ride4-sa8775p-sidekick-03:~# df -h
Filesystem      Size  Used Avail Use% Mounted on
udev            1.9G     0  1.9G   0% /dev
tmpfs           376M  1.6M  374M   1% /run
/dev/mmcblk0p2   57G   36G   *18G*  67% /
[2024-05-23T08:59:25.109889] Roni Eliezer: <@U02JHD5HMGC> Any idea where is the disk space issue?
[2024-05-23T09:01:16.231189] Milos Prchlik: <@U04K6JJJULC> ^^
[2024-05-23T09:03:36.774079] Miroslav Vadkerti: Hi <@U04QNH25QA1>, I cleaned up caches from there around an hour ago, can you retry please?
[2024-05-23T09:33:36.488889] Roni Eliezer: <@U04K6JJJULC> you mean from sidekick-03?
[2024-05-23T09:35:01.539559] Miroslav Vadkerti: <@U04QNH25QA1> yes
[2024-05-23T09:36:17.858829] Roni Eliezer: <@U04K6JJJULC> thx:) so that can explain why I don't see a disk space issue on Sidekick 3
[2024-05-23T09:37:52.787219] Roni Eliezer: <@U04K6JJJULC> but I must go over all sidekicks before I rerun all jobs again, I now see a disk space issue on Sidekick 4
[2024-05-23T09:37:54.646799] Roni Eliezer: root@qti-ride4-sa8775p-sidekick-04:~# df -h
Filesystem      Size  Used Avail Use% Mounted on
udev            1.8G     0  1.8G   0% /dev
tmpfs           376M  1.6M  374M   1% /run
/dev/mmcblk0p2   57G   56G     *0 100%* /
[2024-05-23T09:52:57.946039] Robert O'Brien: sidekick-03 looks okay now; 20GB available.
I did see some old nightly builds, with uncompressed img files.  A couple of other uncompressed images, which I'm compressing now.  That should resolve the space there.
There are various user directories I can follow up on.
[2024-05-23T09:54:04.078029] Roni Eliezer: <@U02JHD5HMGC> fyi: I cleaned 4 and 17 as well
[2024-05-23T09:56:10.073129] Robert O'Brien: Thanks <@U04QNH25QA1> I just realised I was not on ride4-03, but -04.
In any case, the flasher will try to install.  If not enough space, it will delete old images from img_cache, and if that fails within 1 hour, the board is marked as disabled.
[2024-05-23T09:56:30.264159] Robert O'Brien: I'm going to note this in doc for retrospective.
[2024-05-23T09:58:37.036189] Roni Eliezer: <@U02JHD5HMGC> FYI: I see 17 is disabled
[2024-05-27T12:47:41.958019] Ozan Unsal: Hi all, I want to mention about Thursday(May 30th) is public holiday in Germany and Spain. Therefore, <@U02F2L89YTS> and me are affected about this, since the Dev Preview release on this day. I want to be available as much as I can do for this day and not leave <@U04QNH25QA1> alone. We were discussing to shift working day with <@U04N9LTR47M>. We thought that it would be better if I work on May 30th and take Friday off. I would like to also inform the team about this situation.
[2024-05-28T08:08:40.956039] Roni Eliezer: <@U02JHD5HMGC> I see the 3 boards we borrowed for the ER6 pre-run are still in our inventory, we will need them at least for the whole weekend, is that Ok?
[2024-05-28T11:34:06.388249] Roni Eliezer: <@U04KNU6HGCU> <@U04N2DV1W3Y> can you please add the *rhivos-er6* tag to the Polarion
[2024-05-28T16:42:33.610269] Roni Eliezer: <@U02F2L89YTS> in this MR I rename the file ER6-pre-run.yml to ER6-rc1.yml, because it was a temp run
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/352>
[2024-05-28T16:42:47.488779] Roni Eliezer: WDYT?
[2024-05-28T16:43:58.632449] Juanje Ojeda: Make sense to me
[2024-05-28T17:08:53.257139] Juanje Ojeda: :thread: I'll open a thread about an issue I realize we'll have.
The space at the mirror is limited and if with the new `ER6-pre-run` it removed `ER4` . And `ER6-pre-run` is not even a release. Furthermore, we were talking about not storing there the rc images, just the `ER6` and if  `ER6`  and `ER6-rc1` it'll remove `ER4`  and `ER5` .
So, I created a dirty workaround: <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/263>

This will prevent the pre-run and any of the -rc to be copied to the mirror.
But I've just realized that as we'll tag the release as `ER6-rc1` that's the image the CTC tests triggered by the pipeline will try to use. It won't necessary fail, as the rc will be available via the webserver at the bucket.
Buuuut... some test on the Ride4 have failed in the past when running from the webserver. It takes to much time to download the images from there. That's why we use the mirror.

So, if we keep this workaround, the script that sync the mirror won't copy the ER6-rc1, and the ctc will use the webserver and some test might fail.
But, if we don't keep it, the `ER6-pre-run` , the `ER6` and the `ER6-rc1` will be copied, so it won't be any older release available there :disappointed:

We could remove the `ER6-pre-run` (as it was a temporary test, not an actual release) from the bucket, so the script doesn't try to copy it, but that's just part of the problem.
[2024-05-29T08:54:38.840369] Roni Eliezer: FYI: we have an issue with runners ("There has been a runner system failure, please try again")
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/8275378>
<@U0171SJF00H> is checking... thx Hubert
[2024-05-29T09:14:02.555789] Hubert Stefanski: The runner "ran" out of space, I'll update the config
[2024-05-29T09:21:24.202689] Juanje Ojeda: I see the nightly had the same issue :confused:
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/8277733>
[2024-05-29T09:21:34.478239] Hubert Stefanski: <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/264/diffs>
[2024-05-29T09:38:29.732349] Juanje Ojeda: <@U0171SJF00H> I see the MR was merged. Would it deploy the new runners or does it need a manual action at the post-merge pipeline?
<https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/pipelines/8283290>
[2024-05-29T09:38:47.494449] Hubert Stefanski: Nope, it already deployed and updated the spec, I was just waiting for it to fully update on AWS
[2024-05-29T09:38:57.067289] Hubert Stefanski: we can try to re-run the builds now
[2024-05-29T09:39:18.733789] Juanje Ojeda: great, thanks
[2024-05-29T09:40:20.881949] Hubert Stefanski: Sure thing, let me know how it goes
[2024-05-29T09:40:56.868419] Roni Eliezer: Hi Hubert jobs still fail: e.g: <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22372155>
[2024-05-29T09:41:03.109939] Juanje Ojeda: yep
[2024-05-29T09:41:06.531499] Juanje Ojeda: <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22372163>
[2024-05-29T09:46:04.867289] Juanje Ojeda: BTW, the p-l-p is stuck. The jobs there don't take any runner. They also have the tag `docker`
<https://gitlab.cee.redhat.com/automotive/pipe-x/package-level-pipelines/-/jobs/22372117>
[2024-05-29T09:48:39.659109] Juanje Ojeda: I see the `release-runner` with the tag `docker`  at that project (<https://gitlab.cee.redhat.com/automotive/pipe-x/package-level-pipelines/-/settings/ci_cd|config> ), but it shows as offline. Maybe it's the old one.
[2024-05-29T09:53:53.519989] Juanje Ojeda: Ok... it seems like now (after 14 min in queue) it took a shared runner :thinking_face:
[2024-05-29T09:54:01.830849] Hubert Stefanski: hmm, looks like more runner failures on the d-pac
[2024-05-29T09:54:11.355129] Hubert Stefanski: looking again :sad_meow:
[2024-05-29T09:54:31.918529] Hubert Stefanski: yep, the current release runner is only assinged to d-pac
[2024-05-29T09:55:19.500529] Juanje Ojeda: We probably should assign it to the p-l-p as well, as the CTC will trigger jobs there :thinking_face:
[2024-05-29T09:59:26.008829] Hubert Stefanski: I'm gonna go for a quick :coffee:  and sort this out when I come back
[2024-05-29T10:03:17.205099] Ozan Unsal: fyi I am waiting nightly build to be finished in order to tag the packages with <https://brewweb.engineering.redhat.com/brew/taginfo?tagID=144073|rhivos-1.0-er6-rc1>.
[2024-05-29T10:31:08.893039] Juanje Ojeda: I paused the runner accepting jobs at the project's config, just to allow some jobs to run and get both pipeline unblocked.
We can resume it when you have something new to test.
[2024-05-29T10:33:16.997139] Juanje Ojeda: Now the pipeline are running (with the shared runners), let's see how long they take.
Hopefully we have our runners working fine soon.
[2024-05-29T10:34:09.762409] Juanje Ojeda: <@U04QNH25QA1> do we have the new branch with the ER6-rc1 config at the rhivos.git already?
[2024-05-29T10:34:47.858549] Juanje Ojeda: Never mind, I've just seen your MR :sweat_smile:
[2024-05-29T10:35:40.103739] Ozan Unsal: If you trigger the release branch, it won't work since there is no tagged packages in brew yet
[2024-05-29T11:43:30.079569] Hubert Stefanski: Should have mentioned, I'll b tearing the runner down and up a few times to test the volume pruner
[2024-05-29T11:43:56.671819] Hubert Stefanski: Sounds like it's a general complaint that the docker executor on ec2-based runners doesn't automatically clean up after itself :facepalm:
[2024-05-29T12:50:36.095209] Hubert Stefanski: <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/265>
[2024-05-29T12:53:24.090299] Hubert Stefanski: <@U02F2L89YTS> do you also want this runner to be available for PLP?
[2024-05-29T12:53:54.987559] Hubert Stefanski: if so I can update the gitlab token in the gitlab secrets to have it be regiesterd for the pipe-x/ group, but we'll have to limit the projects somehow :thinking_face:
[2024-05-29T12:55:08.877929] Juanje Ojeda: <@U0171SJF00H> I have a question about the MR.
Wouldn't the script remove the volumes in use for some jobs and kill the jobs that are using those?
[2024-05-29T12:56:54.942769] Juanje Ojeda: &gt; do you also want this runner to be available for PLP?
That'd be nice.
Do we need to add it to the pipe-x level? Can't adding just to the p-l-p project, like with the d-p-c-a?
[2024-05-29T12:57:43.996829] Hubert Stefanski: hmm, registrations work gitlab -&gt; runner, rather than runner -&gt; gitlab, so I'm not sure that's possible, or at least I haven't seen a way of doing that, but I can try to check
[2024-05-29T12:57:57.419699] Hubert Stefanski: no, `prune` only deletes unused volumes and containers IIUC
[2024-05-29T12:58:30.541639] Hubert Stefanski: <https://docs.podman.io/en/v4.4/markdown/podman-volume-prune.1.html>
[2024-05-29T12:58:47.569779] Hubert Stefanski: <https://docs.podman.io/en/stable/markdown/podman-system-prune.1.html>
[2024-05-29T12:59:17.185939] Juanje Ojeda: Oh, I thought the `-f` would force to remove all.
[2024-05-29T12:59:28.674089] Juanje Ojeda: Perfect then :slightly_smiling_face:
[2024-05-29T13:00:20.024379] Juanje Ojeda: BTW, how is that the gitlab runners got filled so quickly?
[2024-05-29T13:00:21.253199] Hubert Stefanski: nope, `-f` just bypasses the confirmation
[2024-05-29T13:00:35.589669] Hubert Stefanski: Lingering podman volumes,...
[2024-05-29T13:00:44.721329] Hubert Stefanski: at least that's my theory, and seems that other people also ran into this before
[2024-05-29T13:00:52.993769] Juanje Ojeda: But from previous runners?
[2024-05-29T13:01:09.031029] Juanje Ojeda: Because the runner had just started and it was failing jobs
[2024-05-29T13:01:51.353359] Juanje Ojeda: I know we ran into this in the past and we added something to prune the volumes, but it's surprising that it got filed that fast
[2024-05-29T13:02:01.068119] Hubert Stefanski: yep... I logged into the machine with SSH to try and remove things manually, and it had filled up the entire 50gb we had previously without any jobs scheduled
[2024-05-29T13:02:42.206359] Juanje Ojeda: how? :thinking_face:
[2024-05-29T13:03:09.654399] Juanje Ojeda: It's a bit weird that it got filled with no jobs scheduled...
[2024-05-29T13:03:18.130749] Hubert Stefanski: It got so bad, that when I tried to run `podman volume prune` manually, it didn't even have enough space to create a temporary file :laughing:
[2024-05-29T13:03:40.483739] Juanje Ojeda: Been there.... :sweat_smile:
[2024-05-29T13:04:48.963149] Hubert Stefanski: I wonder if this is because I'm kinda abusing the docker executor by giving it a podman "pseudo socket"
[2024-05-29T13:05:02.795959] Hubert Stefanski: and it doesn't know how to behave when containers are de-scheduled
[2024-05-29T13:05:16.975059] Juanje Ojeda: The only worst thing when trying to fix a filled disk that doesn't let you even run commands, is to have no more inodes... With the full disk at least you have a clue with the space left :sweat_smile:
[2024-05-29T13:05:48.850219] Hubert Stefanski: I thought it got so bad at one point that it didn't even want me to SSH into it :sweat_smile:
[2024-05-29T13:05:57.039619] Hubert Stefanski: but turns out my VPN connection just expired
[2024-05-29T13:06:04.422669] Juanje Ojeda: hehe
[2024-05-29T13:06:35.880639] Juanje Ojeda: The socket should work, but... :shrug:
[2024-05-29T13:06:54.163829] Hubert Stefanski: ahhh,... I didn't change the runner token, shouldn't take long
[2024-05-29T13:07:09.590839] Juanje Ojeda: Maybe you can see what happens with teh new runner, now that is not accepting jobs from the project
[2024-05-29T13:07:26.737379] Juanje Ojeda: To see if podman is doing something weird
[2024-05-29T13:35:42.859919] Juanje Ojeda: The pipelines (the one from Roni's MR and last nightly) are progressing, but they had some errors. I retried them.
[2024-05-29T13:35:50.200939] Juanje Ojeda: Let's see if they finish soon
[2024-05-29T13:36:10.496789] Juanje Ojeda: <@U0171SJF00H> did you see anything useful at the runner?
[2024-05-29T13:41:13.789939] Hubert Stefanski: <https://gitlab.cee.redhat.com/groups/automotive/pipe-x/-/runners/50400#/jobs>
[2024-05-29T13:41:18.474979] Hubert Stefanski: it picked up all these new jobs
[2024-05-29T13:41:28.993129] Hubert Stefanski: I'll ssh into the instance to keep an eyue on it
[2024-05-29T13:43:34.325149] Hubert Stefanski: disk usage at least, looks ok :sweat_smile:
[2024-05-29T13:46:28.616719] Juanje Ojeda: This is interesting.... So, this job failed because it couldn't find the artifacts: <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22373807>
But the previous job created those artifacts. I think the problem is that one started in one runner and the other in another and the volume is not there. Or that the volume with the artifacts was removed :thinking_face:
[2024-05-29T13:47:28.141979] Hubert Stefanski: hmm, I hink it might have been used across 2 different runners, I re-provisioned the instance a few minutes ago
[2024-05-29T13:47:39.314329] Hubert Stefanski: I really hope it's not the volume pruning :(
[2024-05-29T13:48:27.260379] Juanje Ojeda: It might be the 2 runners thing. Let's see
[2024-05-29T13:48:55.460099] Juanje Ojeda: It was a post-merge pipeline (I think), so I'm not super worried right now.
[2024-05-29T13:53:10.150689] Juanje Ojeda: <@U04QNH25QA1> any idea about this error? Maybe the token?
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22378908>
[2024-05-29T13:55:28.270489] Ozan Unsal: Do we need to configure the ip address of new release-runner in AWS. So maybe this runner is not allowed to reach the S3 buckets.
[2024-05-29T13:58:20.334439] Juanje Ojeda: oh.... that's a good question...
[2024-05-29T13:58:42.727089] Juanje Ojeda: <@U0171SJF00H> what is the external IP for the runners?
[2024-05-29T13:59:02.860739] Juanje Ojeda: We need to check that they're allowed at the buckets
[2024-05-29T13:59:10.051239] Hubert Stefanski: They don't have a public IP :thinking_face:
[2024-05-29T13:59:21.496549] Hubert Stefanski: so I'd have thought that the internal VPN gateway would catch them
[2024-05-29T13:59:31.175259] Hubert Stefanski: I don't think we had this issue before with arr-core
[2024-05-29T13:59:33.291309] Hubert Stefanski: hmmm
[2024-05-29T14:00:17.907829] Juanje Ojeda: `curl ifconfig.me` from the runner
[2024-05-29T14:01:04.780569] Hubert Stefanski: `3.69.94.98`
[2024-05-29T14:01:33.324629] Kanitha Chim: if the previous job can upload to AWS then it works fine, right? (i meant generate-compose)
[2024-05-29T14:01:50.557089] Juanje Ojeda: But that maybe ran on the shared runners
[2024-05-29T14:03:00.111779] Juanje Ojeda: Nope, that IP (or its subnet) is not in the allowed list :confused:
[2024-05-29T14:03:31.775359] Juanje Ojeda: Let me add it manually and check if now the job works
[2024-05-29T14:03:39.219709] Juanje Ojeda: To see if that is the issue
[2024-05-29T14:05:31.773039] Juanje Ojeda: Testing it
[2024-05-29T14:06:06.861209] Juanje Ojeda: Yep, it was that
[2024-05-29T14:06:44.429769] Juanje Ojeda: So, we need to add the IP. I wonder if that IP would change and we need to add a subnet :thinking_face:
[2024-05-29T14:09:28.301949] Juanje Ojeda: I added manually the IP to both buckets (workspace and production), so they jobs can work. But we need to figure out if that IP may change and add it to the infra repo
[2024-05-29T14:09:46.634689] Hubert Stefanski: hmm, it's unlikely to change unless we completely deprovision the instance
[2024-05-29T14:09:57.762099] Hubert Stefanski: let me find the subnet though
[2024-05-29T14:10:07.493589] Hubert Stefanski: that should keep us safe as long as we're in the same region
[2024-05-29T14:21:36.737659] Juanje Ojeda: Well, both pipelines are unblocked. If the new runners are fine now, after they finish we should have <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/8277733|the nightly> (so we can brew tag) and the <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/352|d-p-a-c config fort he ER6-rc1> in place.
The <http://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/503|MR for the rhivos.git config> was using a mix or runners, so the cat-manifest job failed and it couldn't work, so I trigger a new pipeline:
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/8285556>
[2024-05-29T14:22:44.335869] Juanje Ojeda: With all that (and the brew tag added) we'll be ready for tomorrow just create the tag and trigger the release :slightly_smiling_face:
Let's hope the runners keep working fine :slightly_smiling_face: :crossed_fingers:
[2024-05-29T14:29:04.664469] Juanje Ojeda: The MR for the infra repo, for the new IP: <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/266>
[2024-05-29T14:50:51.646499] Ozan Unsal: I tagged the packages in brew <https://brewweb.engineering.redhat.com/brew/taginfo?tagID=144073>, so we are ready for release :smile:
[2024-05-29T16:34:32.277399] Juanje Ojeda: <@U04NNGY4QQ2> something went wrong with the `generate-compose` job at the post-merge pipeline.
There are a bunch of build jobs failing like this:
<https://artifacts.osci.redhat.com/testing-farm/25531200-f7c4-40eb-a880-512afd4bb489/>
The `generate-compose` passed and looks fine, but look at the repo. The structure is there but I don't see any package:
<https://rhivos.auto-toolchain.redhat.com/ci-gitlab-workspace-downstream/8285556.8d176195/repos/RHIVOS/compose/RHIVOS/>
[2024-05-29T16:35:26.939229] Ozan Unsal: Ohhh probably we triggered the pipeline before I tagged the packages
[2024-05-29T16:35:46.906789] Ozan Unsal: So the compose is empty
[2024-05-29T16:36:06.220689] Juanje Ojeda: Checking the ODCS is empty too: <https://download-01.beak-001.prod.iad2.dc.redhat.com/odcs/prod/odcs-3126280/compose/RHIVOS/aarch64/os/Packages/>
[2024-05-29T16:36:56.411029] Juanje Ojeda: &gt; Ohhh probably we triggered the pipeline before I tagged the packages
But that's not the release pipeline, that's the post-merge pipeline, it should use the latest packages, right?
[2024-05-29T16:38:25.184359] Ozan Unsal: I guess it is using the release config but I am going to check what is the issue.
[2024-05-29T16:39:47.675229] Juanje Ojeda: It shouldn't, it should use the base config
[2024-05-29T16:41:31.675959] Juanje Ojeda: <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22379764>
```Project: automotive/pipe-x/downstream-pipelines-as-code
Branch: gitlab-ci
Commit: 8d176195b1a7556d24aafa56b03d63619de8aaef
Config REF: main
Pungi REF: main
OSBUILD REF: main
Custom Images REF: main
Pipelines-as-code REF: main
...
Parent project: automotive/rhivos
Parent branch: staging-er6-rc1
Parent tag: ```
[2024-05-29T16:44:51.338789] Juanje Ojeda: Ohhhh... so it's not the post-merge from one of the MR, it's the pipeline fro this MR: <https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/503>
[2024-05-29T16:46:26.016419] Juanje Ojeda: Oh, I see. The change is made to the config in the branch, not a separate file, so if the packages are not tagged yet,it can't find them.
It's what you said before.
[2024-05-29T16:47:12.986319] Juanje Ojeda: I'll trigger a new pipeline. Now that you tagged the packages, it should work.
We should mention this in the checklist, to have the order right and avoid this.
[2024-05-29T16:48:18.990289] Roni Eliezer: Hi any idea why this failed: <https://artifacts.osci.redhat.com/testing-farm/5e3426f9-68b2-443a-ae3a-e2a8d4cf5a80/>
from here: <https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/8285555>
[2024-05-29T16:48:40.775329] Juanje Ojeda: yes, the previous comments are about that.
[2024-05-29T17:19:14.454929] Ozan Unsal: in order to be sure that I have created the release compose from release pungi config <https://gitlab.cee.redhat.com/automotive/rhivos/-/tree/staging-er6-rc1?ref_type=heads> and it seems we can generate the compose. Here is the compose that we will have in release <https://download-01.beak-001.prod.iad2.dc.redhat.com/odcs/prod/odcs-3127418/>
[2024-05-29T17:20:52.875079] Ozan Unsal: and it seems packages are uploaded to S3 bucket <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22383372> so we are good :+1:
[2024-05-29T17:21:16.085989] Ozan Unsal: &gt; Oh, I see. The change is made to the config in the branch, not a separate file, so if the packages are not tagged yet,it can't find them.
&gt; It's what you said before.
Exactly, I wanted to say this :smile:
[2024-05-29T17:26:11.531449] Ozan Unsal: I have updated the order in release-checklist, so that we tagged the packages first in brew, then we will create the release MR configs. Therefore, we won't have the similar problem in future
[2024-05-29T20:20:11.913369] Juanje Ojeda: So for dev preview, we want to use this kernel: <https://brewweb.engineering.redhat.com/brew/taskinfo?taskID=61509659> (aka <https://brew-task-repos.engineering.redhat.com/repos/official/kernel-automotive/5.14.0/427.20.1.382.el9iv/>)
From: Jarod Wilson
Sender: Thread in Slack Conversation
The kernel team asked us for a last minute change. A important one. Here is the conversation and the decisions made: <https://redhat-internal.slack.com/archives/C04JDFLHJN6/p1717010467078619>
[2024-05-29T20:21:02.995969] Juanje Ojeda: A different topic: This job (generate-summary-html-report) failed at the MR for the rhivos.git repo: <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22383412>
[2024-05-29T20:22:33.779329] Juanje Ojeda: <@U04QNH25QA1> nos sure what happened but you'll need to have a look into it tomorrow morning. Probably to trigger a new pipeline.
<@U0171SJF00H> I wander if it's related to the volume pruning... :thinking_face:
[2024-05-29T20:24:26.648739] Ozan Unsal: probably since we are sure that release-runner IP is allowed to reach buckets so there should be another issue for runner to not find the report :confused:
[2024-05-29T20:52:54.293539] Hubert Stefanski: Hmm, I don't think podman would be that rude as to prune a volume from a container that's actively requesting data from it :thinking_face:
[2024-05-29T22:32:00.752399] Roni Eliezer: <@U02F2L89YTS> this <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/22383412|pipeline> miss the upload* jobs
[2024-05-29T22:48:19.674749] Roni Eliezer: This how it look in the pre-run:
[2024-05-29T22:49:28.732349] Ozan Unsal: hmmm probably it is because of the rules again
[2024-05-29T22:52:30.434209] Ozan Unsal: GitLab CI pipelines
Title: Fix the pungi related rules by usingt he right variable PUNGI_CONFIG_PROJECT and fixing the order (2951796c) · Commits · Red Hat / Edge / ci-cd / Pipe X / pipelines-as-code · GitLab
probably these report upload job is skipped due to following line <https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/commit/2951796c3922e750b5788f9dc3724dd0dfb9aeac#38269add0f6bf210f955aa4ce4b87b995cc81d63_20_25|https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/commit/2951796c3922e750b5788f9dc3724dd0dfb9aeac#38269add0f6bf210[…]b995cc81d63_20_25>
[2024-05-29T22:54:35.684789] Roni Eliezer: this is the diff between the pre-run to rc1
[2024-05-29T22:55:27.349789] Ozan Unsal: btw changing the kernel-automotive MR seems fine <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/8287970>. We have again the same error due to not triggered report jobs. However, with <https://brewweb.engineering.redhat.com/brew/buildinfo?buildID=3080801|kernel-automotive-5.14.0-427.20.1.382.el9iv> smoke tests are okay.

I am updating the kernel-automotive build in <https://brewweb.engineering.redhat.com/brew/taginfo?tagID=144073|rhivos-1.0-er6-rc1>, so that we have the requested `kernel-automotive-5.14.0-427.20.1.382.el9iv`  version in release compose.

<@U04QNH25QA1>, with this change, I guess we are ready for release.
[2024-05-29T22:59:28.709979] Ozan Unsal: now <https://brewweb.engineering.redhat.com/brew/buildinfo?buildID=3080801|kernel-automotive-5.14.0-427.20.1.382.el9iv> is tagged with <https://brewweb.engineering.redhat.com/brew/taginfo?tagID=144073|rhivos-1.0-er6-rc1>
[2024-05-30T05:55:29.194479] Roni Eliezer: ID: VROOM-19816
Title: Fix upload report jobs not trigger (!312) · Merge requests · Red Hat / Edge / ci-cd / Pipe X / pipelines-as-code · GitLab
Need another approval, thx:) <https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/312>
[2024-05-30T07:09:02.095479] Roni Eliezer: <@U02DXVBD5CP> thx
[2024-05-30T07:10:13.091879] Roni Eliezer: I triggered a new pipeline for the staging MR <https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/8286706>
[2024-05-30T13:30:24.016489] Kanitha Chim: <@U04QNH25QA1> it seems that the pipeline finished and we have ER6-rc1 <https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/ER6-rc1/>
Just for info, there won't be `ER6-rc1` in the mirror <http://download.eng.brq.redhat.com/rhivos/> because of the recent changes (not having ER6-* in there)
do we also plan to copy `ER6-rc1 -&gt; ER6`?
[2024-05-30T14:40:58.770429] Roni Eliezer: <@U02DXVBD5CP> In the pre-run we didn't encounter latency issues with the 'server', so I suggest waiting with the mirror,
'ER6' directory name will not help us for now, because the CTC triggered tests search for 'ER6-rc1'
[2024-06-20T15:36:22.736259] Roni Eliezer: FYI: I closed <https://issues.redhat.com/browse/VROOM-19816>
and open a new one for post-release tracking: <https://issues.redhat.com/browse/VROOM-20914>
[2024-07-16T15:07:08.953199] Juanje Ojeda: :thread: New thread about the Brew tags we use
[2024-07-17T18:58:14.210159] Charles Timko: :wave::skin-tone-2: I skimmed the past discussion around the rhivos-1.0.0 -&gt; rhivos-1.0.1. Is there a reason we don't use rhivos-1.0.z like RHEL does?
[2024-08-27T15:23:50.100139] Juanje Ojeda: Add the upstream distro (CentOS Stream) version to the config and info.txt, so we can maintain different parallel builds based on different CentOS Stream versions, and be able...
Title: Add the upstream distro (centos) to the config and the info.txt file (!324) · Merge requests · Red Hat / Edge / ci-cd / Pipe X / pipelines-as-code · GitLab
<@U04NNGY4QQ2> <@U02DXVBD5CP> <@U0171SJF00H> I created two MRs related to the request from QE about adding new development branches based on the newest RHEL versions. Something we'll probably need to do soon also for upstream with Centos...
This add some metadata to the config files and the info.txt which makes easier to pinpoint wich version of the upstream distro we're using.
Could you review them?
• Upstream: <https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/324>
• Downstream: <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/374>
[2024-08-27T15:34:38.106029] Juanje Ojeda: Sorry, This one had a typo and failed to show the right info. I fixed it: <https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/324>
<@U04NNGY4QQ2> could you approve it again?
[2024-08-27T15:35:09.483989] Ozan Unsal: sorry I couldn't see the typo :smile:
[2024-08-27T15:37:21.265059] Juanje Ojeda: no worries
[2024-08-27T15:38:22.385529] Juanje Ojeda: Now it shows the right info :slightly_smiling_face:
[2024-08-29T18:46:42.617259] Juanje Ojeda: We send the variable RELEASE with the builds and smoke-tests, but if we don't use the rule for release tags, its value will be always the default from...
Title: Ensure we pass the tag with the release name to the RELEASE variable (!326) · Merge requests · Red Hat / Edge / ci-cd / Pipe X / pipelines-as-code · GitLab
Checking for more missing stuff related to the nightly and the new releases, I found the culprit of a few issues with the releases. The build and smoke-test jobs send the variable RELEASE, but they don't have the rule for the release tag so, it always send the one defined in the config.yml file, not the one send via the tag at the rhivos.git repo :confused:
I created two MR for fixing that. Please have a look at them:
• <https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/326>
• <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/377>
[2024-09-03T14:18:29.148699] Juanje Ojeda: <@U04NNGY4QQ2> <@U02DXVBD5CP> <@U04QNH25QA1> <@U02JHD5HMGC> <@U04JRTQ4LHK> Could I have approvals for this fix? It seems the culprit for the issues the MC release is having on ride4 for rebooting
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/381>
[2024-09-03T14:19:12.252469] Ozan Unsal: approved
[2024-09-04T15:26:13.210049] Juanje Ojeda: <@U04NNGY4QQ2> <@U0171SJF00H> could you have a look to this error in Gator (evaluate-packages) job?
<https://gitlab.cee.redhat.com/automotive/fences/gating/gator/-/jobs/25884807>
[2024-09-09T10:10:42.200889] Juanje Ojeda: <@U04LP69FP6X> <@UJJV82KRP> Are you aware of this error at the `certification-assembly` pipeline?
```$ dnf install -y --setopt=cachedir=${DNF_CACHE_DIR} git openssl ca-certificates krb5-devel python-pip diffutils nmap-ncat procps-ng gcc python3.9-devel libreoffice
...
No match for argument: libreoffice
Error: Unable to find a match: libreoffice```
<https://gitlab.cee.redhat.com/automotive/pipe-x/certification-assembly/-/jobs/26642578>
[2024-09-09T15:12:05.442189] Juanje Ojeda: FYI, we've been merging all the changes required for the DevPreview-Update release and I already triggered the release pipeline:
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/9485443>
Everything seems to be going fine, but we'll see.
After the pipeline finish, I'll make sure the new release is in the mirror and Ozan will lock the brew tag for the release.
Then we'll announce the release.
I've checked and there have not been mayor updates, just 9 user space packages.
[2024-10-24T08:00:03.283739] Juanje Ojeda: I realized we need to do the changes in two phases/pipelines:
• Add the new config files, but using the tags like for rhivos-1.0.0
• Let run the Gator gating job, so it gates the packages.
• Trigger a pipeline for that release, so the packages get promoted to -pending
• Change the config files to use -pending instead of -candidate as source
• Tag the rhivos.git repo to trigger the release
I've prepared the MRs for the first config version:
• <https://gitlab.cee.redhat.com/automotive/fences/gating/gator/-/merge_requests/41>
• <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/403>
• <https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/518>
Please, have a look. Thanks.
[2024-10-24T14:41:53.932479] Juanje Ojeda: After all those changes, we've already trigger Gator to gate the packages and now I triggered the pipeline for testing the compose and promote it to `rhivos-1.0-tech-preview-pending`.
Once it's done, the compose will be gated and ready to build the release.
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/9875907>
[2024-10-24T18:19:49.773109] Juanje Ojeda: The pipeline finished fine (well a warning on the ridesx4 smoke-tests) and the packages were promoted :slightly_smiling_face:
We're ready for next week build :slightly_smiling_face:
[2024-10-28T16:13:13.085049] Juanje Ojeda: I've prepared the MRs for the final steps before triggering the release, so we have them ready for tomorrow and we can check/fix anything:
• <https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/519>
• <https://gitlab.cee.redhat.com/automotive/fences/gating/gator/-/merge_requests/42>
• <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/406>
Once we have those merged, we just need to trigger the release pipeline by creating the git tag at the `rhivos.git` repo.
[2024-10-29T18:48:21.497959] Juanje Ojeda: I've just created the tag `RHIVOS-1.0-TechPreview` at the `rhivos.git` repo and triggered the release pipeline:  <https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/9910663>
I a few hours the release should be built and the _practice_ CTC will be triggered.
Let's see in the morning how all went :slightly_smiling_face:
[2024-10-30T10:08:32.101149] Juanje Ojeda: Hi, any idea why result.xunit is "null" <https://api.dev.testing-farm.io/v0.1/requests/def56c57-7c04-49f2-9571-f3fbe3c5213b>
From: Roni Eliezer
Sender: Thread in Slack Conversation
The deploy from Testing Farm yesterday broke our pipelines :disappointed:
More info here: <https://redhat-internal.slack.com/archives/C03BRN71JAF/p1730240102967429>
There was a breaking change that is affecting some jobs, that's why the release pipeline couldn't finish last night or this morning :confused:
[2024-10-31T14:30:51.367599] Juanje Ojeda: <@U02DXVBD5CP> <@U04NNGY4QQ2> <@U0171SJF00H> I created this MR based on something that we discussed yesterday. We need to merge it *after* the release gets built, but we should have it ready and approved before.
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/410>
[2024-10-31T15:44:08.955659] Kanitha Chim: <@U02F2L89YTS> <@U04NNGY4QQ2> this might be useful <https://pp.engineering.redhat.com/rhivos-1.0/schedule/tasks/#red_hat_in_vehicle_operating_system_1_0.exceptions_phase.rhivos_1_0_tech_preview>
[2024-10-31T17:21:17.322069] Juanje Ojeda: As it seems like the kernel-debug bug was fixed, we'll starts the release build now. <@U04NNGY4QQ2> has triggered already.
Here's the pipeline: <https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/9927334>
[2024-10-31T17:21:42.820649] Juanje Ojeda: Let's hope this is the good one and that we don't have any new issues :see_no_evil:
[2024-10-31T18:07:38.412589] Kanitha Chim: <@U02F2L89YTS> this is still not merged <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/410>
[2024-10-31T19:03:39.409399] Ozan Unsal: <@U02DXVBD5CP>  This should be merged when the release pipeline finishes
[2024-10-31T19:20:08.412999] Juanje Ojeda: It looks (from the first tests from <@U04PQB5SV41>) that it's working. He's double checking to be sure we don't have issues flashing the image, as the boot image is a bit bigger now. Eric was concern about it.
If everything goes fine and he confirm the flashing, we'll trigger the build today :slightly_smiling_face:
From: Juanje Ojeda
Sender: Thread in Slack Conversation
Ouch :disappointed:
We might need to stop the build :disappointed:
<https://redhat-internal.slack.com/archives/C04RHEEGY30/p1730395178302619>
[2024-10-31T19:23:10.275059] Ozan Unsal: I am cancelling the release pipeline
[2024-11-01T14:43:53.263219] Kanitha Chim: if we can merge this before building the release, that would be great <https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/521>
[2024-11-01T15:36:57.619609] Kanitha Chim: thanks <@U04LP69FP6X>
[2024-11-04T09:17:01.058139] Avihai Efrat: <@U02F2L89YTS> fyi <@U04KNU6HGCU> did a test run against systemd, we are missing the sudo package, not sure what other deps are missing from the installed image. Also seems like tmt-reboot is still broken. See <https://artifacts.osci.redhat.com/testing-farm/744fc750-b806-421d-893f-ab6f8502fb50/> on a side note, <@U04PQB5SV41> confirmed <https://issues.redhat.com/browse/VROOM-23809|VROOM-23809> should not affect our production CTC test run, only the debug kernel testing which is planned later on during the next certification round,  so we shouldn't block on that.
From: Rachel Sibley
Sender: Slack Conversation
Hi folks good morning and happy Monday :slightly_smiling_face:
FYI about Rachel mentioning that she missed sudo packages in tech preview and that the kernel debug issue and fix seems to effect only debug-kernel and not the usual kernel we use in production CTC.
I remember <@U02F2L89YTS> mentioned he planned to take this day off.

<@U04NNGY4QQ2> <@U02DXVBD5CP> can you checkout the mentioned missing sudo package and see if we can advance with tech preview release on our side?

Please be aware that Robert is also in PTO today so ping Simon or Miro directly on <#C03BRN71JAF|> channel if we need something from TF.
[2024-11-04T12:17:45.106109] Juanje Ojeda: FYI, in the end, I didn't take the day off, in case we needed to make a release. It seems we do, right?
[2024-11-04T12:35:47.072639] Avihai Efrat: looking at Rachels's message above it seems so <@U02F2L89YTS> but better make sure with her directly.
[2024-11-04T12:39:23.017799] Juanje Ojeda: I mean, we already knew that. We knew that the error didn't affect the "practice" ctc, just the manual kernel-debug tests, and the decision on the readiness meeting was to try to get this working in a couple of days, if not, build it with out the fix, to avoid delaying too much the release. So, the plan was to build today, with or without the fix.
But I was hopping that maybe there was time to make it with the fix :disappointed:
[2024-11-04T14:49:25.038269] Juanje Ojeda: The systemd tests are failing with this error: Python ImportError: No module named 'lxml'...
Title: qa: add missing python3-lxml dependency. (!46) · Merge requests · Red Hat / Edge / ci-cd / Pipe X / Custom Images · GitLab
We're about to trigger the release pipeline. We're waiting on this MR, so the QA image have another missing package: <https://gitlab.com/redhat/edge/ci-cd/pipe-x/custom-images/-/merge_requests/46>
Then we'll trigger the release pipeline.
[2024-11-04T15:09:41.456429] Juanje Ojeda: The MR was merged, so I've triggered the release. Let's see how it goes: <https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/9951972>
Miro said that the workers are already scaled up, so we shouldn't have many issues in that regard.
[2024-11-04T17:08:21.862099] Juanje Ojeda: <@U04NNGY4QQ2> <@U02DXVBD5CP> <@U0171SJF00H> could I get some approvals here? <https://gitlab.cee.redhat.com/automotive/pipe-x/package-level-pipelines/-/merge_requests/168>
It seems like we're setting a lower timeout then the TF default timeout, and this is stopping too soon some tests on the renesas boards.
[2024-11-04T17:08:34.855299] Juanje Ojeda: We need to merge this before the ctc starts.
[2024-11-04T17:47:51.692879] Juanje Ojeda: Ouch... :confused:
[2024-11-04T18:36:09.395409] Ozan Unsal: It is gitlab this time. Otherwise everything was going smoothly 
[2024-11-04T18:38:45.421369] Juanje Ojeda: <https://redhat.service-now.com/surl.do?n=INC3215026>
[2024-11-05T06:22:22.166119] Avihai Efrat: From the outage-list it looks like gitlab is back up and running from about ~4H ago.
[2024-11-05T06:52:51.674879] Juanje Ojeda: It is. Even before was already working, but not fully.
I retried some jobs and the release pipeline is working, but it had some issues. Some AMIs were lost and I had to re-trigger the builds.
[2024-11-05T07:26:35.220099] Juanje Ojeda: The release build finally finish! :partying_face:
<https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS-1/RHIVOS-1.0-TechPreview/>
The ctc was already triggered.
[2024-11-25T14:42:46.813969] Juanje Ojeda: Add automotive-image-builder (AIB) and automotive-osbuild container variables to be able to pin them. Add more explicit variables for the sample-images repo and ref to avoid...
Title: Add automotive-image-builder (AIB) and osbuild container variables (!346) · Merge requests · Red Hat / Edge / ci-cd / Pipe X / pipelines-as-code · GitLab
<@U02DXVBD5CP> <@U0171SJF00H> Could you review these MRs? We want to be able to pin the automotive-image-builder and the automotive-osbuild container, so we can run safer releases.
• Upstream: <https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/346>
• Downstream: <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/418>
The upstream one has more changes, but I split the changes into commits, to make it more digestible. Not big MRs, but some changes there.
[2024-11-25T14:56:14.011779] Juanje Ojeda: Refactor for the clone-repo script so it can better support any kind of refs (commit sha, tags, branches) and be able to use a specific automotive-image-builder version instead...
Title: Draft: Refactor clone-repo to support aib pinning (!174) · Merge requests · Red Hat / Edge / ci-cd / Pipe X / create-osbuild · GitLab
Do not merge. This MR is for testing changes on other repos.
Title: Draft: Test trigger auto ci (!144) · Merge requests · CentOS / automotive / src / automotive-image-builder · GitLab
Thanks
There is another MR related to that, but I still need to update the unit tests. But In case you want to start reviewing it, here it's:
<https://gitlab.com/redhat/edge/ci-cd/pipe-x/create-osbuild/-/merge_requests/174>

All the MRs were tested together here:
<https://gitlab.com/CentOS/automotive/src/automotive-image-builder/-/merge_requests/144>
[2024-11-25T17:46:23.142489] Juanje Ojeda: Refactor for the clone-repo script so it can better support any kind of refs (commit sha, tags, branches) and be able to use a specific automotive-image-builder version instead...
Title: Refactor clone-repo to support aib pinning (!174) · Merge requests · Red Hat / Edge / ci-cd / Pipe X / create-osbuild · GitLab
<@U02DXVBD5CP> <@U04NNGY4QQ2> <@U0171SJF00H> now the create-osbuild has the tests updated and it's ready to be merged. Could I have some reviews?
<https://gitlab.com/redhat/edge/ci-cd/pipe-x/create-osbuild/-/merge_requests/174>
[2024-11-26T15:06:24.789599] Juanje Ojeda: Use the automotive-image-builder stable branch for the nightly builds.
Title: Pin the stable branch for the aib (!347) · Merge requests · Red Hat / Edge / ci-cd / Pipe X / pipelines-as-code · GitLab
<@U04QNH25QA1> <@U04NNGY4QQ2> <@U0171SJF00H> We have already a stable branch for a-i-b that we want to test against for the nightly builds.
Could you approve these MRs for pinning that branch?
• upstream: <https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/347>
• downstream: <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/419>
Thanks
[2024-12-10T14:48:13.415499] Juanje Ojeda: <@U04NNGY4QQ2> <@U02DXVBD5CP> <@U0171SJF00H> <@U04JRTQ4LHK> could you have a look to this MR for removing the `TechPreview-Update` builds (copies from `latest`) and the future ones?
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/424>

With this change, we should have a less confusing product bucket. No future releases pre-build there (like the `TechPreview-Update`) and also no `latest-RHIVOS-1.0` , just `latest-RHIVOS-1`.
And instead of store the previous latest with the name of that "future" release, it'll be just `latest-RHIVOS-1-{timestamp}`.
[2024-12-10T14:53:56.631519] Kanitha Chim: LGTM, what about the other dependencies? could you make sure it is changed accordingly?
[2024-12-10T14:54:35.579759] Juanje Ojeda: What dependencies?
[2024-12-10T14:54:47.728109] Kanitha Chim: TC?
[2024-12-10T14:54:52.539689] Kanitha Chim: mirror
[2024-12-10T14:55:54.837559] Juanje Ojeda: We don't mirror that "future" release, just the one we've already released. And TC only use the ones in the mirror, so we're safe there.
[2024-12-10T14:56:11.408499] Kanitha Chim: perfect!
[2024-12-10T14:57:12.183289] Juanje Ojeda: That was also a confusing part for some. The "release" was in the product bucket, but not in the mirror or TC :see_no_evil:
If they wanted to use it, they would use `latest`
[2024-12-10T14:57:21.204619] Juanje Ojeda: Very confusing...
[2024-12-10T19:10:08.193769] Avihai Efrat: I was also concerned no one else somehow used it  Kanitha, Now it’s crystal clear :crystal_ball: :partying_face: 
[2024-12-16T15:20:33.972589] Kanitha Chim: <@U04QNH25QA1> <@U04LP69FP6X> <@U04KLL3QSF4> it's likely that we have to rebuild techpreview (on 19th) or *later* so let's try to go through the release document before we have the meeting and reach out to <@U04NNGY4QQ2> <@U02F2L89YTS> while they are still here to answer the questions
[2024-12-16T15:21:11.302699] Kanitha Chim: <https://spaces.redhat.com/pages/viewpage.action?spaceKey=Automotive&amp;title=RHIVOS+Release+Checklist+Template>
[2024-12-16T15:23:18.354939] Juanje Ojeda: We won't need to do the whole checklist. We'll need to be sure that the right packages are there and trigger the pipeline.
[2024-12-16T15:26:58.509259] Kanitha Chim: (make sure we have permission to tag pkgs - I guess Sameera has)
[2024-12-16T15:31:01.379309] Ozan Unsal: and also <@U02DXVBD5CP> make sure you can ssh to rcm-compose, if `promote-compose` job fails.
[2024-12-16T18:04:46.247149] Juanje Ojeda: FYI, we found a bug in the tf-requests that affects to the smoke-tests for the release. Ozan and me are working on fixing it, so we can have the smoke-tests working for the new build's pipeline.
I didn't add this to the readiness conversation to avoid adding some noise, too much important stuff there and I don't want to make the thread a mess with too many topics.
[2024-12-16T21:18:55.295949] Juanje Ojeda: test_images_info.json file is generated after board smoke-tests. Therefore, that file cannot be used with tf-request. This causes wrong tf-requests, thus it may cause wrong test cases.
Title: Revert changes for board smoke-tests (!63) · Merge requests · Red Hat / Edge / ci-cd / Pipe X / Testing Farm Requests · GitLab
It looks like the <https://gitlab.com/redhat/edge/ci-cd/pipe-x/tf-requests/-/merge_requests/63|tf-requests bug has been fixed> and the `selinux-policy` exception has been approved, so we <https://gitlab.cee.redhat.com/automotive/rhivos/-/merge_requests/531|updated it in the compose>.
There is still one <https://issues.redhat.com/browse/VROOM-25215|exception in progress for the kernel-automotive>, but it should be soon and we don't need to do anything, it'll be added to the brew tag.
So, it looks like we're almost ready for the respin and most of our work is done.
Here is an MR for adjusting the TechPreview configs:
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/428/diffs>

We'll pin more components and this spin will have the suffix `-RC3` to avoid overriding the previous one and its tests results.
If everything goes fine with the pending exceptions we'll probably build tomorrow.
[2024-12-17T09:00:04.967669] Juanje Ojeda: This new functionality uses the builder container image built from the distro compose, either from the pipeline's compose or the latest build's compose. Some changes:
Title: Add the builder environment from the compose (!176) · Merge requests · Red Hat / Edge / ci-cd / Pipe X / create-osbuild · GitLab
Add jobs for building and publishing the builder container image for the nightly builds. It'll build a container image using the pipeline's compose with the
Title: Publish builder container image (!350) · Merge requests · Red Hat / Edge / ci-cd / Pipe X / pipelines-as-code · GitLab
I finally finished this, which we suppose to have it ready before the TP build, but with all that has been happening I didn't have time to finish it.
Maybe we can have it after all. It's for building the images only using packages and tools from the RHIVOS compose.
I'd appreciate the reviews:
• <https://gitlab.com/redhat/edge/ci-cd/pipe-x/create-osbuild/-/merge_requests/176>
• <https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/350>
• <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/merge_requests/430>
Those MRs need to be merged in that other.
The first allow us to build the container image for building the images using only the packages from the compose. It can also use a nightly container-image built by the second and third MRs (upstream and downstream respectively).

cc <@U04NNGY4QQ2> <@U02DXVBD5CP> <@U0171SJF00H> <@U04QNH25QA1> <@U02JHD5HMGC> <@U04KLL3QSF4> <@U04LP69FP6X>
[2024-12-17T14:56:51.434369] Juanje Ojeda: <@U02DXVBD5CP> <@U04KLL3QSF4> do we need this for the rebuild or can we wait until it finishes?
<https://gitlab.cee.redhat.com/automotive/fences/gating/gator/-/merge_requests/85>
[2024-12-17T14:57:31.046889] Kanitha Chim: it can wait
[2024-12-17T15:00:56.191809] Juanje Ojeda: We're checking that everything is ready to trigger the pipeline. We'll tell you when we're ready.
[2024-12-17T15:08:36.327519] Ozan Unsal: Here are the checks before triggering the release
• Packages are tagged and verified with `rhivos-1.0-tech-preview-candidate`  :check:
•  We have the updated pungi config at <https://gitlab.cee.redhat.com/automotive/rhivos/-/blob/rhivos-1.0-tech-preview/pungi-config/rhivos-odcs.conf?ref_type=heads|rhivos.git> :check:
• <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/blob/main/.gitlab/release-configs/RHIVOS-1.0-TechPreview.yml?ref_type=heads|RHIVOS-1.0-TechPreview> config was updated in d-p-a-c :check:
• Gator <https://gitlab.cee.redhat.com/automotive/fences/gating/gator/-/blob/main/config/RHIVOS-1.0-TechPreview-gating.yaml?ref_type=heads|evaluate> and <https://gitlab.cee.redhat.com/automotive/fences/gating/gator/-/blob/main/config/RHIVOS-1.0-TechPreview-promote.yaml?ref_type=heads|promote> files were updated :check:
• No waiting MRs for the RC3 :check:

[2024-12-17T15:10:02.488799] Juanje Ojeda: This is the configuration for the scheduler pipeline we'll run for the respin
[2024-12-17T15:10:40.617209] Juanje Ojeda: And here is the release pipeline (we just clicked the button for that scheduler pipeline):
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/10295953>
[2024-12-17T16:43:39.199359] Juanje Ojeda: And everything went fine... until it wasn't... :disappointed:
Some error in the builds due something in Testing Farm. I'm trying to get someone from there to help us, but not luck so far.
We're getting this error in the builds:
```[2024-12-17 16:14:22] [+] [git] &lt;RemoteGitRepository(clone_url=<https://gitlab.com/redhat/edge/ci-cd/pipe-x/create-osbuild.git>, branch=not specified, ref=0.1.0)&gt;
[2024-12-17 16:14:22] [+] [test-schedule-tmt-connect] cloning repo <https://gitlab.com/redhat/edge/ci-cd/pipe-x/create-osbuild.git> (branch not specified, ref 0.1.0)
[2024-12-17 16:14:23] [E] [test-scheduler-testing-farm] Exception raised: Failed to fetch ref 0.1.0: error: cannot update ref 'refs/heads/gluetool/0.1.0': trying to write non-commit object 81fe069ac7f6bd7d75826b6715d524c480ce20aa to branch 'refs/heads/gluetool/0.1.0'
From <https://gitlab.com/redhat/edge/ci-cd/pipe-x/create-osbuild>
 ! [new tag]         0.1.0      -&gt; gluetool/0.1.0  (unable to update local ref)```
For some reason, it's not checkout to the tag at that repo, but the tag exists :confused:
It suppose to support tags, so I don't know what the problem is. Let's see if they answer soon.

I think I'll try alternatively to trigger another pipeline using the commit sha instead of the tag.
Just in case they don't answer of give us a solution today.
[2024-12-17T16:45:23.952159] Juanje Ojeda: This is the new pipeline I triggered: <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/10296827>
If we can fix the other in TF, I'll cancel this one, if not, I hope the commit sha works and this pipeline passes :crossed_fingers:
[2024-12-17T18:03:37.603899] Juanje Ojeda: UPDATES: The errors in the first pipeline looks like a Testing Farm error :confused:
But the second pipeline (with a workaround) is working, so plan B is working and we keep going :ok_hand:
[2024-12-17T18:34:15.218149] Juanje Ojeda: FYI, this is the config for the new pipeline. The workaround is to send the `OSBUILD_TMT_REPO_REF`  commit hash instead of the tag.
And it worked.

cc <@U02DXVBD5CP> <@U04QNH25QA1> <@U04LP69FP6X> <@U04KLL3QSF4>
[2024-12-17T22:56:47.121019] Juanje Ojeda: The pipeline finished and we have a new release:
<https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS-1/RHIVOS-1.0-TechPreview-RC3/>
It's also in the mirror:
<https://download.eng.brq.redhat.com/rhivos/RHIVOS-1/RHIVOS-1.0-TechPreview-RC3/>
[2024-12-17T22:57:30.641039] Juanje Ojeda: I hope we don't need to rebuild. But something came up before (maybe a missing package for testing), so we're not sure about it :confused:
[2024-12-18T08:09:06.534589] Kanitha Chim: <@U04NNGY4QQ2> can I retry this job from the pipeline <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/29791173>?
[2024-12-18T08:23:57.486949] Ozan Unsal: Sure you can retry and if it won't work, you can repeat the steps manually. So it will be a good practice :smile:
[2024-12-18T09:00:49.845909] Kanitha Chim: the job failed again but there is something wrong with the dir here:
``odcs-promote-compose /mnt/odcs/prod/odcs- /mnt/redhat/rhel-9/composes/RHIVOS/ --allow-unsigned --compose-type test`

/mnt/odcs/prod/odcs-
[2024-12-18T09:01:01.394269] Kanitha Chim: I think it misses the directory
[2024-12-18T09:01:43.972839] Kanitha Chim: I think it's the reason why it keeps failing
[2024-12-18T09:03:04.284009] Kanitha Chim: where does `COMPOSE_ID` come from?
[2024-12-18T09:07:54.943069] Roni Eliezer: <@U02DXVBD5CP> i see it generate-compose
[2024-12-18T09:09:49.225799] Kanitha Chim: <@U04QNH25QA1> it's different issue with promote compose to /mnt/redhat
[2024-12-18T09:25:06.727889] Ozan Unsal: The variable is set in generate-compose job and used in the promote-compose job
[2024-12-18T18:04:23.248509] Juanje Ojeda: The pending change in the Pungi config, was merged so I started the release pipeline for `RHIVOS-1.0-TechPreview-RC4`:
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/10307392>
[2024-12-18T18:21:41.014959] Juanje Ojeda: I created an MR for the mirror script: <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/408>
We want this new RC4 synced there, but we don't want the previous RC, just the ones used by Test Console.
[2024-12-18T19:38:55.243429] Juanje Ojeda: The new build is looking good. The compose already built and has the missing package in it, all the images have already built as well and most of the smoke-tests have already passed. We're still waiting for two of the rcar_s4 tests.
Then, just the promotion jobs :slightly_smiling_face:
[2024-12-18T23:41:36.935369] Juanje Ojeda: It's already in other chats, but just in case. The pipeline was fine and the release is out :slightly_smiling_face:
<https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS-1/RHIVOS-1.0-TechPreview-RC4/>
Thanks everyone for the support and the approvals :slightly_smiling_face:
[2025-03-16T23:00:01.829259] Bot-B05NMKVG: <!channel> The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-03-23T23:00:02.782459] Bot-B05NMKVG: <!channel> The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-03-30T23:00:02.012339] Bot-B05NMKVG: <!channel> The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-04-01T14:49:37.619269] Bot-B05NMKVG: test Tue Apr  1 02:49:15 PM UTC 2025
[2025-04-01T16:05:14.417989] Juanje Ojeda: <@U020YLADEKA> <@U02DXVBD5CP> is CAT going to run any tests for TechPreview-Update? Should we add the ticket/step for notify them?
[2025-04-01T16:11:34.453099] Juanje Ojeda: <@U0171SJF00H> <@U04MGT65NQJ> If I'm not mistaken, we don't need to enable any release runners anymore for the releases, correct?
We should be fine with the pools we have.
[2025-04-01T16:38:39.791099] Juanje Ojeda: <@U020YLADEKA> <@U02DXVBD5CP> what about uploading the content to somewhere, like this ticket? <https://issues.redhat.com/browse/VROOM-23401>
I guess we don't do that anymore, right? Now we use the CDN and Errata?
What would be the equivalent (if we have one) for that task, for this release?
[2025-04-06T23:02:01.554289] Bot-B05NMKVG: <!channel> The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-04-07T16:40:37.700769] Eitan Raviv: <!channel> The gitlab runner pools upstream and downstream is undergoing a rolling upgrade. The instances in the pool are being updated one at a time so that service is not interrupted but unfortunately a particular job may fail if it is running on an instance at the moment that it is being stopped after having being replaced with a new one. If a job fails in the coming 10 minutes, please restart it and it should be rescheduled to an updated instance and pass. Sorry for the inconvenience. :yellow_alert:
[2025-04-08T15:56:25.683119] Marcel Banas: Hello <@U04N2DV1W3Y> <@U04KNU6HGCU>,
I am reaching out to you regarding RHIVOS's TechPreview Update item in <https://spaces.redhat.com/display/Automotive/RHIVOS+Release+checklist+RHIVOS+1.0-TechPreview-Update|release checklist>:

&gt; *Polarion*: verify with <https://spaces.redhat.com/display/~rasibley|Rachel Sibley> or <https://spaces.redhat.com/display/~pmatyas|Petr Matyas> that an ID was created
&gt; The ID is the released version e.g.: *RHIVOS1.0-TechPreviewUpdate*
I wanted to ask about the ID for this version in Polarion. Or if it perhaps is handled some different way in Polarion, please let us know.
Thank you in advance. Also in case there are other questions regarding this, please reach out to us.

cc: <@U02F2L89YTS> <@U04LP69FP6X>
[2025-04-08T16:29:41.142779] Avihai Efrat: <@U02F2L89YTS> <@U04KLL3QSF4> as in this release we will no be running CTC tests or upload anything to polarion AFAIK, is this release step needed?

Usually we do that but this release is a more build and Errata practice one and not a test/CTC  one.
[2025-04-08T17:52:11.185079] Juanje Ojeda: Oh, that's true :thinking_face: Good catch, <@U020YLADEKA>! Thanks
We only need that when we run the CTC, so we push it to the release ID in Polarion.
Sorry, <@U04N2DV1W3Y> <@U04KNU6HGCU>, never mind :see_no_evil:
<@U04KLL3QSF4> we can remove this step from this release's checklist.
[2025-04-08T18:39:38.356939] Avihai Efrat: Your welcome <@U02F2L89YTS> :hugging_face:  
It’s good practice in any case as 1.0GA and regular releases (TPU is the exception ) will run CTC and need this in place so energy well spent <@U04KLL3QSF4> 
[2025-04-08T18:44:41.453249] Kanitha Chim: For postmortem: I see we have a `generate-cat-manifest` job, I think we can remove it to save pipeline resource
[2025-04-08T18:47:13.259149] Juanje Ojeda: I believe we use those manifest for the package testing. As a easy way to find the NVR for the package in the release. I wouldn't remove it :sweat_smile:
At least not until we change the way we check the NVR.
[2025-04-08T18:50:50.324309] Kanitha Chim: I didn't know that
[2025-04-08T18:50:59.918059] Kanitha Chim: never mind then
[2025-04-08T18:51:01.367279] Kanitha Chim: :smile:
[2025-04-08T19:36:24.198989] Avihai Efrat: Hi <@U02DXVBD5CP>  , how is the F2F going do far ?
I hope you’re having some fun and it’s not all work :wink: 
[2025-04-09T08:31:13.681559] Marcel Banas: Hello, with <@U02F2L89YTS> we tried to create the TechPreview-Update release build.

When we created the release tag in TechPreviewUpdate branch, the pipeline failed on the dependency of jobs `promote-packages-in-brew`/`selftest-product-build`

We checked whether there were some recent changes in dependencies of these jobs, or MR's that touch these jobs, but did not find anything so far.

Juanje then tried to test trigger a normal pipeline at the rhivos.git repository and pipeline worked fine, but pipelines from tags have this problem:
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/11314043>

If someone has an idea where the issue might lie, please let us know.
[2025-04-09T09:25:50.814749] Juanje Ojeda: I managed to trigger a release pipeline by using a scheduled pipeline with the right variables, but we still don't know why that dependency error is happening.
But, as the pipeline worked fine from the scheduled pipeline, the issue must be related to the trigger :thinking_face:
Anyway, at least now we have a release pipeline running:
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/11314794>

We'll keep investigating what was the problem with the trigger. Any help and ideas are welcome :slightly_smiling_face:
[2025-04-09T12:40:08.443079] Kanitha Chim: looks like the pipeline finished?
[2025-04-09T12:58:14.362869] Juanje Ojeda: Yes, it did :slightly_smiling_face:
<@U04KLL3QSF4> is checking one things, but the compose built with the right packages and versions, the images built and the smoke-test passed :slightly_smiling_face:
[2025-04-09T12:58:24.554089] Juanje Ojeda: He'll have more news soon
[2025-04-09T13:02:40.519719] Marcel Banas: Hello, we have a <https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS-1/RHIVOS-1.0-TechPreview-Update/|TechPreview-Update> build completed, with <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/11314794|pipeline passed> and the updated packages related to this release correctly in the compose.

Big thanks to <@U02F2L89YTS> for resolving all issues along the way :+1: and folks in <#C0672KC5RDH|> for support and approvals.
[2025-04-09T13:18:48.568389] Sameera Kalgudi: Hi All, I have locked the release tag for this release and can be verified here: <https://brewweb.engineering.redhat.com/brew/taginfo?tagID=146522>
[2025-04-09T13:20:53.941679] Sameera Kalgudi: Thanks you <@U04KLL3QSF4> and <@U02F2L89YTS> for smooth release :thankyou:
[2025-04-09T19:42:50.020679] Eitan Raviv: :yellow_alert: All, tomorrow April 10th at 05:00AM UTC all AWS downstream runner pools (pipe-x, pipe-x-release, gating, services) will get a code update. The update is deployed to the pools in a rolling fashion guaranteeing continuity of service for new jobs. But jobs already running when the update starts might be terminated abruptly without notice. The update is supposed to last approximately 10 minutes. Please plan your pipeline invocations accordingly. A separate message will be sent once the update is complete. Thank you
[2025-04-10T05:44:46.464999] Eitan Raviv: :green_alert: All runners pools are now back online
[2025-04-13T23:02:02.119749] Bot-B05NMKVG: <!channel> The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-04-17T21:33:55.912819] Ozan Unsal: :green_alert: *TechPreview-Update-RC2 Respin Completed*

We’ve respun the *TechPreview-Update RC2* release due to a mismatch with the original TechPreview compose.
*Cause:* The `comps` file was pulled from the `main` branch, which added extra packages to the compose.
 *Fix:* The config file was corrected and the compose has been regenerated.
:repeat: *Respin pipeline:* <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/11396610>
 :package: *Artifacts:* <https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS-1/RHIVOS-1.0-TechPreview-Update-RC2/>
Sorry for the inconvenience, and thanks for your understanding. Please use the updated compose moving forward. Let me know if you have any questions!
[2025-04-20T04:44:48.587999] Bot-B05NMKVG: <!channel> The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will undergo an update thirty minutes from now. The update work is     expected to last approximately thirty minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience.     :yellow_alert:
[2025-04-20T05:17:07.999979] Bot-B05NMKVG: <!channel> TSince there are a lot of pipelines running the update is postponed by 12 hours     :yellow_alert:
[2025-04-20T16:25:07.941849] Bot-B05NMKVG: <!channel> The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com> will undergo an update one hour from now. The update work is expected to last approximately thirty minutes. During this time the service might be slower than usual or unavailable. A separate notification will be sent once the maintenance is over. Sorry for the inconvenience. :yellow_alert:
[2025-04-20T20:30:58.761699] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com> completed maintenance and is now up and running. :green_alert:
[2025-04-27T23:02:02.294599] Bot-B05NMKVG: <!channel> The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-04-27T23:12:08.230089] Bot-B05NMKVG: <!channel> The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     has completed its maintenance. Service should be back to normal. In case you are     experiencing any degradation please contact the Rhivos Autotoolchain team     :green_alert:
[2025-04-29T04:26:05.775979] Bot-B05NMKVG: All Pipe-X, Pipe-X Relase, Gating and Services runner pools, upsteam and downstream, will be updated at 04:40UTC. The update will last approximately 10 minutes. During the update jobs already running may fail due to instance rollover. A separate message will be sent once the update is finished. :yellow_alert:
[2025-04-29T05:03:19.330269] Bot-B05NMKVG: All Pipe-X, Pipe-X Relase, Gating and Services runner pools, upstream and downstream have been updated successfully and are back online. :green_alert:
[2025-05-04T23:02:01.440129] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-05-05T18:00:40.417369] Juanje Ojeda: :announcement: *Summary* of the current efforts and status:
• Pipeline 1 (`rhivos-1.0.0` for the release):
    ◦ We added the -gate tag to a package that was missing it, and now it built the compose with all the expected packages.
    ◦ We changed from `rhivos-1.0.0-pending` to `rhivos-1.0.0-candidate` as Petr suggested.
• Pipeline 2 (`latest-RHIVOS-1.0`):
    ◦ We added manually the tag -gate to the `selinux-policy-automotive` and now we're re-building the compose to see if this time we're not missing it.
    ◦ It's blocked by the package `selinux-policy-38.1.53-5.el9_6`. We're trying to tag it as well.
• Pipeline 3 (`latest-RHIVOS-1` - `latest-RHIVOS-1.1`- main):
    ◦ We're identifying all the package with the tag `rhivos-1.1.0` that don't have the tag `rhivos-1.1.0-gate` , so we can add the tag, run Gator to promote them to `rhivos-1.1.0-candidate` and build the compose.
    ◦ There are a lot more packages in that state than we initially though :thinking_face:
There are some MRs for the release's config files, but they are blocked by those pipelines.

The infra (mostly Brew) it's very slow today, so all the compose builds are taking forever... :disappointed:
[2025-05-05T18:33:34.102139] Juanje Ojeda: Added the status update to this canvas, so it's easier and clearer.
F08R27LHARZ
[2025-05-06T12:20:47.949109] Juanje Ojeda: All the required configurations and changes for the RC1 in the Toolchain side are ready and we triggered the build. We expect it to work (we have many issues yesterday, but we already passed one pipeline with that compose). Hopefully we'll have a build in a few hours so we can check that everything is fine:
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/11577549>
[2025-05-06T14:24:23.691159] Juanje Ojeda: The compose and all the images were already built and the smoke-tests are running :slightly_smiling_face:
[2025-05-06T14:52:02.769149] Juanje Ojeda: Regarding the step of adding the new release to TC, I believe we don't need it anymore. Checking the code I realized that Roni added a feature to pull the releases names from the bucket, so we don't need to update the list manually :partying_face:
I'll check that it works after the new release finish and it's been pushed to the bucket.
[2025-05-07T06:24:06.873839] Avihai Efrat: I want to give a huge shout-out and heartfelt thanks to <@U02F2L89YTS>, <@U04NNGY4QQ2>, <@U02DXVBD5CP>, and <@U04NN2GEXLZ> anyone else I missed for their incredible dedication and late-night efforts over the past few weeks. Your hard work was instrumental in the successful preparation and build of the 1.0RC1, 1.0.Z, and 1.1 branches—pulled off on very short notice.
Truly outstanding teamwork—thank you all! :clap::clap::clap:
[2025-05-07T06:25:49.328299] Avihai Efrat: set the channel topic: Release: 1.0RC / May 7th
Coordinator: Juanje/Ozan


Internal channel for ATC release coordination. Release readiness with a wider audience can be coordinated in <#C04RHEEGY30|>!
[2025-05-07T08:00:52.526449] Avihai Efrat: Hi folks, good morning :slightly_smiling_face:
RHIVOS-1.0.0-RC1 is built successfully :check:and ready to be tested, and we're moving to the trigger CTC part.

As we discussed in yesterday's ATC Open sync meeting, to start the RC1 CTC, we need to do the following(add/change if I missed something):
1. Prep/changes/MR test console for the RC1 CTC run - <@U02F2L89YTS> <@U04Q4USRZTM> is there something that needs to be done there? I do not see the new RC1  image at the test console UI list but I'm not sure if it's needed for CTC triggering or just a UI thing. 
2. Remove the old S4 boards v1.2 boards out of the S4-ATC pool by 12pm UTC today (<@U02JHD5HMGC> already sent a message to <#C04QYR4CBFB|> yesterday as a heads up) - <@U02JHD5HMGC> will take care of this one, please update here when it's done. 
3. Trigger the CTC via Test console as requested below - <@U02F2L89YTS> <@U04Q4USRZTM> I remember Juanje mentioned it's manually done right? who will be doing the triggering Once we make sure steps 1 and 2 are done?
    a. Scope: Full .
    b. Make sure we're using the RC1 image 
CC: <@U04N2DV1W3Y> if I missed anything, do add it here.
[2025-05-07T15:29:59.665769] Avihai Efrat: Hi gang, out of the release-readiness meeting, with the following news to share for those not there:
1. We got the approval from the FuSa gods(Matthew) that we can use mixed boards revisions :partying_face: [Original full message can be seen <https://redhat-internal.slack.com/archives/C04R6FSEM3K/p1746534116664719|here>] , this means we can add the S4 boards back and have other folks use the pool - <@U02JHD5HMGC> can you take care of that?
2.  RC2 is planned for next week - expected to be available EOD Tuesday, May 13. So the plan here is to start to build Monday, IIUC <@U02F2L89YTS> <@U04NNGY4QQ2> 
3. That ^^ means we would like to start CTC again at about ~May14 <@U04Q4USRZTM> <@U04QNH25QA1> <@U02JHD5HMGC> 
4. Last update around RC: Blocker/exception end date - Proposed new date: June 13th (was July 1st) - not sure if this will affect the delivery of the release (Like Errata or compose level gating due date) <@U02DXVBD5CP> <@U04NN2GEXLZ> 
CC: <@U04N2DV1W3Y> <@U04NN2GEXLZ> <@U04N9LTR47M>
[2025-05-07T15:32:41.024039] Rachel Sibley: so <@U02JHD5HMGC> <@U04NLT3HY3Y> I guess we can add those boards back :melting_face:
[2025-05-07T15:32:49.944589] Juanje Ojeda: I've updated the ATC pipeline canvas with the latest status. We have good progress: <https://redhat.enterprise.slack.com/docs/T027F3GAJ/F08R27LHARZ>
[2025-05-07T15:34:51.326539] Avihai Efrat: Can we add the v1.2 boards back to the pool without disrupting CTC?
[2025-05-07T15:43:09.213429] Robert O'Brien: Enabling the boards is easy to do and next test should run on it.
Rachel is going to clarify whether we can correlate the hostname recorded in sut_details.log and Confluence and meet FuSa ask.
I can enable one or more boards now, while we await that clarification, since this will not be final CTC.
<@U020YLADEKA> WDYT ?
[2025-05-07T15:44:41.089689] Avihai Efrat: Sounds good <@U02JHD5HMGC> :+1::skin-tone-2: 
[2025-05-07T15:53:50.043179] Robert O'Brien: 24 boards enabled in the pool, and all 24 have jobs running now.
[2025-05-11T23:02:01.452979] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-05-14T07:34:15.367369] Avihai Efrat: <@U02F2L89YTS> <@U04NNGY4QQ2> <@U020YLADEKA> since it's been merged 2h ago, can you please rerun/restart a nightly pipeline? or just start RC2 perhaps, but a nightly would be helpful too
anyway there's no nightly today...so that's perhaps a good idea regardless;)
From: Michal Skrivanek
Sender: Thread in Slack Conversation
HI <@U04NNGY4QQ2> <@U02F2L89YTS>,
It seems we have all that's needed to start RC2, checkout more details in the <#C04RHEEGY30|>.
Are you around to check if we can start RC2 with the suggested changes and answer in the <#C04RHEEGY30|> thread?

Thank you both :pray:

CC: <@U04N9LTR47M> <@U02DXVBD5CP> <@U04KLL3QSF4> <@U04LP69FP6X>
[2025-05-14T14:32:01.924269] Avihai Efrat: Any idea about the new repoclosure <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/34567123|job> failures <@UG0N57XEX> <@U04NN2GEXLZ>?
It's not blocking the pipeline release but still I wornder if this is something to worry about ?

```OMMAND: dnf repoclosure --arch=aarch64 --arch=noarch --forcearch=aarch64 --repofrompath=RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64,file:///mnt/odcs/prod/odcs-4160424/compose/RHIVOS/aarch64/os --repo=RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64 --check=RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64
-------------------------------------------------------------------------------
Not root, Subscription Management repositories not updated
Added RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64 repo from file:///mnt/odcs/prod/odcs-4160424/compose/RHIVOS/aarch64/os
RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarc 109 MB/s | 8.9 MB     00:00    
Last metadata expiration check: 0:00:01 ago on Wed May 14 09:17:59 2025.
Error: Repoclosure ended with unresolved dependencies (13) across 7 packages.
package: clang-18.1.8-3.el9.aarch64 from RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64
  unresolved deps (4):
    libLLVM.so.18.1()(64bit)
    libLLVM.so.18.1(LLVM_18.1)(64bit)
    libclang-cpp.so.18.1()(64bit)
    clang-libs(aarch-64) = 18.1.8-3.el9
package: clang-analyzer-18.1.8-3.el9.noarch from RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64
  unresolved deps (1):
    clang = 18.1.8-3.el9
package: clang-libs-18.1.8-3.el9.aarch64 from RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64
  unresolved deps (2):
    libLLVM.so.18.1()(64bit)
    libLLVM.so.18.1(LLVM_18.1)(64bit)
package: gcc-toolset-15-15.0-3.el9.aarch64 from RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64
  unresolved deps (3):
    gcc-toolset-15-gcc
    gcc-toolset-15-gcc-c++
    gcc-toolset-15-gcc-gfortran
package: kernel-automotive-debug-modules-partner-5.14.0-583.532.el9iv.aarch64 from RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64
  unresolved deps (1):
    kernel-debug-modules-uname-r = 5.14.0-583.532.el9iv.aarch64+debug
package: kernel-automotive-modules-partner-5.14.0-583.532.el9iv.aarch64 from RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64
  unresolved deps (1):
    kernel-modules-uname-r = 5.14.0-583.532.el9iv.aarch64
package: vdo-8.2.2.2-1.el9.aarch64 from RHIVOS-1.1-20250514.t.3-repoclosure-RHIVOS.aarch64
  unresolved deps (1):
    kmod-kvdo &gt;= 8.2
++ exit 1
Cleaning up project directory and file based variables
00:00
ERROR: Job failed: exit code 1```
[2025-05-18T23:02:02.042769] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-05-22T04:43:09.347279] Bot-B05NMKVG: All Pipe-X, Pipe-X Release, Gating, Services and FOA runner pools, upsteam and downstream, will be stopped for an update at 07:00UTC. The update will last approximately 30 minutes. During the update service will be unavailabe. A separate message will be sent once the update is finished. :yellow_alert:
[2025-05-22T05:29:01.307029] Bot-B05NMKVG: All Pipe-X, Pipe-X Release, Gating, Services and FOA runner pools, upstream and downstream have been updated successfully and are back online. :green_alert:
[2025-05-25T23:02:01.998009] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-05-27T07:37:19.556649] Bot-B05NMKVG: All Pipe-X, Pipe-X Release, Gating, Services and FOA runner pools, upsteam and downstream, will be stopped for an update at 07:45UTC. The update will last approximately 30 minutes. During the update service will be unavailabe. A separate message will be sent once the update is finished. :yellow_alert:
[2025-05-27T08:37:10.108929] Bot-B05NMKVG: All Pipe-X, Pipe-X Release, Gating, Services and FOA runner pools, upstream and downstream have been updated successfully and are back online. :green_alert:
[2025-05-28T04:45:22.377789] Bot-B05NMKVG: All Pipe-X, Pipe-X Release, Gating, Services and FOA runner pools, upstream and downstream have been updated successfully and are back online. :green_alert:
[2025-05-28T14:03:14.514559] Juanje Ojeda: I've already created the Epic and the checklist for RC3, if anyone is missing anything, please add it there:
<https://issues.redhat.com/browse/VROOM-29937>
I didn't add the lock ticket because I think we said that we should lock only after the GA is out. Or at least when we know that we're not going to build any other RC.
[2025-06-01T23:02:01.591679] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-06-04T14:40:00.367849] Juanje Ojeda: As tomorrow the Testing Farm will be less available (they're preparing for DevConf), it was decided to trigger the RC3 build today instead of tomorrow.
So I triggered:
<https://gitlab.cee.redhat.com/automotive/rhivos/-/pipelines/11871883>
[2025-06-04T14:40:45.178139] Juanje Ojeda: Here is the actual build pipeline (dpac):
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/pipelines/11871884>
[2025-06-04T14:42:52.344889] Ozan Unsal: oohh it failed due to unsigned bluechi-agent ``Unsigned packages:\nbluechi-agent-1.0.1-1.el9_6iv\n",``
[2025-06-04T14:43:07.466979] Ozan Unsal: <@U02DXVBD5CP> <@U04KLL3QSF4> can we sign this package?
[2025-06-04T14:43:40.557669] Juanje Ojeda: yep, I've just posted it at the pipelines chat :confused:
[2025-06-04T16:57:59.637709] Juanje Ojeda: set the channel topic: Release: 1.0 RC3 / Jun 5th
Coordinator: Juanje/Ozan


Internal channel for ATC release coordination. Release readiness with a wider audience can be coordinated in <#C04RHEEGY30|>!
[2025-06-04T18:25:10.241069] Juanje Ojeda: <@U04KLL3QSF4> signed the package via errata and now it looks like the pipeline is generating the compose :partying_face:
<https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/35533934>
[2025-06-04T22:16:58.471659] Juanje Ojeda: It passed :white_check_mark: :slightly_smiling_face:
Habemus RC3: <https://rhivos.auto-toolchain.redhat.com/in-vehicle-os-9/RHIVOS-1/RHIVOS-1.0.0-RC3/>
[2025-06-08T23:02:01.784929] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-06-15T23:02:01.574559] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-06-22T23:02:02.199879] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-06-29T23:02:01.465949] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-07-02T05:09:22.357499] Eitan Raviv: All Pipe-X u\s and d\s, Pipe-X Release, Gating, Services and FOA runner pools, will be stopped for an update at 05:20UTC. The update will last approximately 30 minutes. During the update service will be unavailable. A separate message will be sent once the update is finished. :yellow_alert:
[2025-07-02T05:34:04.183069] Bot-B05NMKVG: All Pipe-X, Pipe-X Release, Gating, Services and FOA runner pools, upstream and downstream have been updated successfully and are back online. :green_alert:
[2025-07-06T23:02:02.075209] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-07-13T23:02:01.904819] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-07-17T05:59:36.106229] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will undergo maintenance work ten minutes from now at 06:10 UTC. The maintenance is     expected to last approximately thirty minutes. During this time the service will be     unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience.     :yellow_alert:
[2025-07-17T06:23:11.112339] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com> completed maintenance and is now up and running. :green_alert:
[2025-07-20T23:02:01.555509] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-07-27T23:02:02.250929] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-07-27T23:12:06.981849] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     has completed its maintenance. Service should be back to normal. In case you are     experiencing any degradation please contact the Rhivos Autotoolchain team     :green_alert:
[2025-07-31T19:57:03.897659] Bot-B05NMKVG: All Pipe-X, Pipe-X Release, Gating, Services and FOA runner pools, upstream and downstream have been updated successfully and are back online. :green_alert:
[2025-08-03T22:00:02.393669] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-08-10T22:00:02.357949] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-08-17T22:00:02.398589] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-08-24T22:00:01.975209] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-08-31T22:00:02.095499] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-09-07T22:00:01.969799] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-09-14T22:00:01.959459] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-09-21T22:00:01.891879] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
[2025-09-28T22:00:01.850599] Bot-B05NMKVG: The RHIVOS webserver at <http://rhivos.auto-toolchain.redhat.com|rhivos.auto-toolchain.redhat.com>     will instantiate self maintenance ten minutes from now. The maintenance work is     expected to last approximately five minutes. During this time the service might be     slower than usual or unavailable. A separate notification will be sent once the     maintenance is over. Sorry for the inconvenience. In case the service is not     available at all within 20 minutes please contact the Rhivos Autotoolchain team     :yellow_alert:
