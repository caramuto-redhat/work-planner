# Slack Channel Dump
# Channel ID: C05BYR06B0V
# Channel Name: #toolchain-infra
# Generated: 2025-09-24T23:37:11.159344
# Total Messages: 100

[2025-09-23T14:06:48.934179] Roni Eliezer: as for the bucket failure, I'll address that now
[2025-09-23T14:06:02.107479] Roni Eliezer: <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/649/diffs> Should fix the one of the changes in the plan
[2025-09-23T14:05:20.295729] Roni Eliezer: <@U02DXVBD5CP> I see you're having some unrelated pipeline failures in: <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/653>
[2025-09-23T10:59:30.399679] Roni Eliezer: May I get some eyes on <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/652>? the apply for !644 failed, unfortunately with terraform some fields aren't validated prior to hitting the API, so, sometimes we're left with this ugly "validated" but not "correct" terraform config...
[2025-09-22T14:18:44.699159] Roni Eliezer: One more :meow_pwettyplease:
[2025-09-22T13:05:43.873359] Roni Eliezer: :howdy: Can I get some eyes on <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/644> ?

Eitan kindly added a commit where he addressed his own comment (thank you!) so I think we're ready to deploy this. still some more work to do, but getting close
[2025-09-19T09:00:10.671219] Marcel Banas: It was announced somewhere the introduction of SonarQube?
I see my CI failing now and I don't expected to spend time fixing those stuff today!
[2025-09-19T08:57:23.434019] Unknown User: I guess I've discovered where that token was being used... It was still in place for the rhivos-webserver. I've knocked that offline and <@U02DXVBD5CP> said she'll fix it.
[2025-09-17T13:16:34.958949] Roni Eliezer: Quite an MR for reviews :please-cat:

<https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/644>
[2025-09-17T12:09:30.008999] Sameera Kalgudi: Hi <@U0171SJF00H> <@U04MGT65NQJ> autosd webserver seems down, I cannot reach <http://autosd.sig.centos.org/AutoSD-9/nightly/repos/AutoSD/compose/AutoSD>
[2025-09-17T09:58:43.724919] Eitan Raviv: Hi <!channel>,
Attn: If you are accessing AWS from the command line manually or programmaticaly

We have recently received a communication from IT that we should change the way we login to AWS from the command line. Using static personal users is no longer allowed starting November, and SSO should be used instead. I have created a <https://spaces.redhat.com/x/C4BTKQ|page> that explains how to migrate and I will also give a demonstration in the Toolchain Demo this afternoon.  Please take a few minutes to complete the migration for your personal user if you have one, because starting November, IT will automatically delete AWS users risking lockout. Also please alert me on the <https://issues.redhat.com/browse/VROOM-31311|Jira Epic> comments to any use cases you might have around using static AWS credentials so that I can address them in time.
Thanks a lot
[2025-09-17T09:50:34.187149] Roni Eliezer: <@U04MGT65NQJ> Mind taking another glance at <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/616> ? I think i addressed all of your comments
[2025-09-16T14:13:09.963209] Roni Eliezer: and one more please: <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/646>
[2025-09-16T13:22:15.984819] Roni Eliezer: :howdy: can I get one more approval here? <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/645>
[2025-09-16T11:23:56.756869] Roni Eliezer: this time around please note the private key you use to generate the csr, we'll need that when we add it to the deployment, also the cname should match the current dashboard url
[2025-09-16T11:23:23.157859] Roni Eliezer: <@U02JHD5HMGC> you're going to have to re-submit that CSR with a proper cname in the request, <@U04NNGY4QQ2> noticed you requested <http://atcdashboard-rhivos.int.paas.dev.redhat.com|atcdashboard-rhivos.int.paas.dev.redhat.com>
[2025-09-16T06:27:21.636139] Marcel Banas: HI everyone,
I see CI jobs stuck
<https://gitlab.cee.redhat.com/automotive/services/test-console/-/merge_requests/487>
But I checked and there are available runners, any idea?
[2025-09-15T09:02:52.784259] Roni Eliezer: <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/642> - PEBKAC on my end, copy pasting policies and not noticing I didn't change some paths... :facepalm:
[2025-09-15T08:09:28.048819] Roni Eliezer: :howdy:  <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/640> If anyone could lend a review :)
[2025-09-14T19:37:24.996629] Luigi Pellecchia: Seems like this helped : 
[2025-09-12T13:56:19.364229] Marcel Banas: Hi everyone,
I see we have the following definition in Test Console preprod
```annotations:
    <http://deployment.kubernetes.io/revision|deployment.kubernetes.io/revision>: '64'
    <http://turbo.ibm.com/override|turbo.ibm.com/override>: 'true'```
and this error
```Invalid value 'true' for annotation '<http://turbo.ibm.com/override|turbo.ibm.com/override>'. Valid values are: false, cpu, all```
Which value is suggested here?
[2025-09-12T13:04:25.870199] Roni Eliezer: small review for anyone willing, <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/640> no rush on this, i'll probably only merge this on Monday
[2025-09-11T12:41:19.090549] Unknown User: Hi All,
Can I get some reviews on <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/639>
[2025-09-10T12:31:35.466539] Sameera Kalgudi: Hi <@U04AXB4GK52> any idea why the contcert-client is not installed in gator container-build? <https://gitlab.cee.redhat.com/automotive/fences/gating/gator/-/jobs/40261940>
[2025-09-10T10:55:28.926479] Unknown User: Hi, any idea why this stopped working <https://gitlab.cee.redhat.com/automotive/services/test-console/-/jobs/40257504>
```INFO[0154] Running: [/bin/sh -c curl -X GET <https://repository-basic.engineering.redhat.com/nexus/repository/dno-raw/droute-client/1.2.2/droute-linux-386>          -o "${DROUTE_PATH}" &amp;&amp;  chmod +x "${DROUTE_PATH}"] 
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
curl: (60) SSL certificate problem: unable to get local issuer certificate```
[2025-09-08T09:03:10.862129] Roni Eliezer: Ah, but that's for the CA expiry date, not the .crt that we use to sign for SSL
[2025-09-08T08:58:13.111249] Avihai Efrat: :hehecat:
[2025-09-08T08:57:53.255379] Avihai Efrat: wow 2055 for real
[2025-09-08T08:54:17.885119] Robert O'Brien: ```auto-toolchain-dashboard (update-cert) $ openssl x509 --enddate -noout -in certs/RH-IT-Root-CA.crt 
notAfter=Jun 26 17:38:11 2055 GMT```

[2025-09-08T08:51:20.632589] Roni Eliezer: <https://spaces.redhat.com/spaces/Automotive/pages/339597128/Auto+Toolchain+SSL+Certificates#AutoToolchainSSLCertificates-dashboard.auto-toolchain.redhat.com|https://spaces.redhat.com/spaces/Automotive/pages/339597128/Auto+Toolchain+SSL+Certificates#AutoToolchainSSLCertificat[…]d.auto-toolchain.redhat.com>
[2025-09-08T08:49:38.243669] Roni Eliezer: &gt; certs there expire in 2055
Cool, so we're covered for the next 30 years :wink:  (jk, I know it's a typo)
So, generally that process isn't difficult, but the first step is to re-submit a certificate request to IT. let me find the docs for that
[2025-09-08T08:42:33.817199] Robert O'Brien: Good morning, the ATC dashboard expired on Friday.  No issues on Firefox, but I'd like to fix the issue.
I've looked at the dashboard code, the RH certs there expire in 2055.
When I run locally, the webpage is not secured.
the gitlab-ci.yml includes pipeline-as-code gitlab files, but I haven't found what I'm looking for.
Anyone here any suggestions on how to update a cert for ATC dashboard?
[2025-09-05T11:48:03.169679] Unknown User: Just FYSA there's also scheduled resilience testing for the same data center next week from 8 - 12 Sep. The notice says there shouldn't be any impact to users, but if things are acting funny we should keep it in mind and file a ticket for anything fatal
[2025-09-05T11:46:58.802939] Avihai Efrat: thanks <@U04AXB4GK52> :meow_thx:
[2025-09-05T11:45:51.094439] Unknown User: cc: <@U04Q4USRZTM> <@U02DXVBD5CP>
[2025-09-05T11:45:39.107349] Unknown User: There is ongoing network maintenance in the IAD2 data center today that seems to be affecting RERC availability. According to outage list the scheduled maintenance window is over at 1400UTC and things should be okay then
[2025-09-05T11:34:09.610479] Unknown User: Seems internal Nexus is down right now - nothing shows up in outage-list about this so Im going to report to middleware
[2025-09-05T11:24:46.537779] Avihai Efrat: seems that this `<https://repository-basic.engineering.redhat.com>` is not reacheable, maybe wait and try again
[2025-09-05T11:16:22.050129] Marcel Banas: Morning,
I see this error building container in gitlab CI
```curl: (28) Failed to connect to repository-basic.engineering.redhat.com port 443: Connection timed out
error building image: error building stage: failed to execute command: waiting for process to exit: exit status 28```
any insights?
<https://gitlab.cee.redhat.com/automotive/services/test-console/-/jobs/40043527>
[2025-09-04T13:40:08.233799] Roni Eliezer: Can I get some eyes on <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/616>? this one slipped through the cracks somehow
[2025-09-01T15:19:05.286519] Hubert Stefanski: I find that way always shorter and less troublesome (unless it's a straightforward change) for infra changes
[2025-09-01T15:12:16.374249] Roni Eliezer: I'll try to set this up manually instead of fidgeting with terraform, maybe that way I'll at least get something deployed and then re-applied retroactively to that config, so I don't need to bother anyone anymore (for a while)
[2025-09-01T15:11:37.928329] Roni Eliezer: ```│ Error: creating WAFv2 WebACL (rhivos-internal-vpc-only): WAFInvalidParameterException: Error reason: You have used none or multiple values for a field that requires exactly one value., field: RULE, parameter: Rule
│ {
│   RespMetadata: {
│     StatusCode: 400,
│     RequestID: "bb14f413-e774-4af9-8faa-d29fcc99d264"
│   },
│   Field: "RULE",
│   Message_: "Error reason: You have used none or multiple values for a field that requires exactly one value., field: RULE, parameter: Rule",
│   Parameter: "Rule",
│   Reason: "You have used none or multiple values for a field that requires exactly one value."
│ }
│ 
│   with module.rhivos_cloudfront.aws_wafv2_web_acl.rhivos_internal_vpc_only,
│   on modules/rhivos-cloudfront/waf.tf line 25, in resource "aws_wafv2_web_acl" "rhivos_internal_vpc_only":
│   25: resource "aws_wafv2_web_acl" "rhivos_internal_vpc_only" {
│ 
╵```

[2025-09-01T15:11:33.380549] Roni Eliezer: Spoiler alert: it wasn't ....
[2025-09-01T14:30:38.607719] Roni Eliezer: I really hope this is the last one <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/637> my sanity is begging for it
[2025-09-01T12:39:37.297579] Roni Eliezer: The previous cloudfront apply failed again :sad_meow:
<https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/635>
this one should hopefully fix that...
[2025-09-01T07:23:37.632509] Roni Eliezer: No specific reason IIRC, though if you're planning on major updates and major incompatibilities between versions, I'd say keep recreate, but if it's a fairly "clean" update, then no obstacles to rolling
[2025-09-01T06:40:31.838869] Marcel Banas: Hi everyone,
I was thinking to change Test Console OpenShift strategy configuration from Recreate to Rolling to avoid disruptions in user experience during deployment updates. wdyt? Is there any reason we are using Recreate or any concerns on using Rolling?
[2025-08-28T20:06:13.550089] Hubert Stefanski: Please, have a look to this MR: <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/633>
That one is required for making this one work: <https://gitlab.com/redhat/edge/ci-cd/pipe-x/pipelines-as-code/-/merge_requests/424>
[2025-08-28T13:04:52.871119] Roni Eliezer: <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/632> One more review, the merge in !602 had some Terraform apply failures, these should fix that..
[2025-08-26T13:20:07.280419] Sameera Kalgudi: I have a dumb question, can we create gitlab runners close to iad2 datacenter for downstream generate-compose job? Since the generated composes are stored there <https://download-01.beak-001.prod.iad2.dc.redhat.com/odcs/prod/odcs-4399323/> maybe having runners closer to this region shortens the compose download time.
[2025-08-26T09:16:53.599259] Roni Eliezer: :howdy: can i get some eyes on <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/602>?
I've left some more context in the MR description
[2025-08-21T12:35:56.001549] Hubert Stefanski: <@U0171SJF00H> I think it's time to implement this. I was thinking on taking this tasks. I might refine the ticket to specify that it should be a job in the upstream pipeline, but I think this capture the task.
Would you ming to review it and give me your blasing to work on that? hehe
<https://issues.redhat.com/browse/VROOM-32269>
[2025-08-19T16:02:50.189599] Kanitha Chim: For this initiative for sure; we need to figure out what to monitor and how to monitor it to get some baseline data.
[2025-08-18T18:54:37.959979] Luigi Pellecchia: Thank you <@U04MGT65NQJ> for pulling the data from current web server instances .

About priority:
My point before was to get the baseline monitoring on the current and past webserver availability and issues as one of our critical ATC services and part of Infrastructure availability improvements (AUTOBU-886).
<@U04MGT65NQJ> can you add an Epic for monitoring the RHIVOS webserver service ? 
We will also need to keep monitoring it after we switch to cloudfront and pulp (which will take a while especially with pulp VPN blockers for DS)

This will help us with understanding how much we improved (hopefully) by moving to cloud front so we should definitely be investing in it .

<@U04NN2GEXLZ> please correct me if I’m off about monitoring this service not on the top priority list.
[2025-08-18T12:04:53.477909] Luigi Pellecchia: Make sense <@U04JRTQ4LHK>, if it's too much work to add it there leave it
[2025-08-18T12:02:38.208829] Luigi Pellecchia: Can we somehow add the script output link (stats )  to the ATC dashboard monitoring per service resource page <https://dashboard.auto-toolchain.redhat.com/resources|here>?
[2025-08-18T11:52:44.391369] Unknown User: Hi we get the following error when uploading to S3 bucket any idea?
```Unable to locate credentials```
[2025-08-14T12:28:59.570559] Unknown User: Just following up on our discussion in the auto-toolchain team meeting, did we now increase the size of the RHIVOS webserver ec2 instance?
[2025-08-12T15:48:58.692569] Unknown User: <@U0171SJF00H> <@U04MGT65NQJ> I got the following error (<https://gitlab.cee.redhat.com/automotive/services/test-console/-/jobs/38614821>):
```fatal: unable to access '<https://gitlab.cee.redhat.com/automotive/services/test-console.git/>': Error while processing content unencoding: invalid stored block lengths```
[2025-08-12T14:14:06.983159] Roni Eliezer: one review/approval here from anyone willing :)
<https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/620>
[2025-08-12T13:17:50.012369] Roni Eliezer: I just wanna take a peek at that to file one for Roni for TC
[2025-08-12T13:17:30.697599] Roni Eliezer: <@U04MGT65NQJ> Do you remember the IT ticket we had to increase our resource quotas on MP+ ?
[2025-08-12T12:41:15.855739] Roni Eliezer: :howdy: <@U04QNH25QA1> needs one more review here to resolve part of the issue he discussed in the Open Sync meeting just now
<https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/618>
[2025-08-12T11:17:31.541329] Eitan Raviv: on one of the two instances, I was trying out something. this is probably the reason for the error that Roni saw on the infra repo. I will regenerate the instance so pipelines can continue. On the other instance there is an error which I can't find a reason for.
[2025-08-12T11:10:03.021669] Roni Eliezer: <@U04QNH25QA1> also found this on the infra repo <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/pipelines/12520559>
[2025-08-12T11:04:01.181849] Eitan Raviv: I see errors on both runners. analyzing
[2025-08-12T10:56:47.795179] Eitan Raviv: there are splunk indexes for them. see <https://dashboard.auto-toolchain.redhat.com/resources> VHCL-008 monitoring
[2025-08-12T10:51:30.357349] Roni Eliezer: <@U04MGT65NQJ> are these instances plugged into splunk in any way? just wondering if I need to ssh into them to see the logs, or if theres a splunk index for it
[2025-08-12T10:50:46.640109] Roni Eliezer: think you might be looking at the "public" one
[2025-08-12T10:50:36.405279] Roni Eliezer: Those runners are served from the aws-internal account
[2025-08-12T10:42:48.543219] Sameera Kalgudi: I was checking EC2 instances for us-east-2 region and there is only one instance and the status is stopped <https://us-east-2.console.aws.amazon.com/ec2/home?region=us-east-2#Instances>:
[2025-08-12T10:37:34.580019] Roni Eliezer: initially, no idea why, we might need to look into the runner logs
[2025-08-12T10:25:20.207649] Sameera Kalgudi: <@U04MGT65NQJ>, <@U0171SJF00H> any idea why this job couldn't be started <https://gitlab.cee.redhat.com/automotive/pipe-x/downstream-pipelines-as-code/-/jobs/38598477>?
[2025-08-12T09:44:44.903639] Sameera Kalgudi: I can see the latest builds in <https://autosd.sig.centos.org/AutoSD-9/> thanks <@U0171SJF00H> for fixing it.
[2025-08-12T09:39:22.795629] Roni Eliezer: And another one for reviews
<https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/616>
This one cleans up orphaned directories (ones that don't exist in s3 anymore) so they won't be indexed on the webserver and cause confusion when they get redireted to a non-existent clodfront artifact
[2025-08-12T07:45:03.613439] Roni Eliezer: Can we get one more review/approval here please? <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/617>
[2025-08-11T10:00:25.853409] Roni Eliezer: Fighting fires, looking into that now though.
[2025-08-11T09:57:31.197379] Sameera Kalgudi: Hi <@U0171SJF00H> <@U04MGT65NQJ>, is there any update regarding to builds in <https://autosd.sig.centos.org/AutoSD-9/>. I still see the last build from Aug 1st, although there are builds for Aug 9th, 10th and 11th in S3 bucket
[2025-08-08T11:42:40.619919] Sameera Kalgudi: Hey <@U0171SJF00H> I guess there is an issue with the cloudfront. Since I can see today's nightly build in S3  but it is not available in webserver <https://autosd.sig.centos.org/AutoSD-9/>
[2025-08-07T15:37:10.302469] Tomas Golembiovsky: <@U04MGT65NQJ> Do you still need this one or can we close it? <https://gitlab.cee.redhat.com/automotive/contcert/foa-validators/dbus-broker-tests/-/merge_requests/23>
[2025-08-07T14:30:15.387459] Roni Eliezer: I'll put that on my todo list
[2025-08-07T14:23:13.368619] Sameera Kalgudi: I mean `autosd9-202508010003` is missing in webserver
[2025-08-07T14:21:51.742799] Sameera Kalgudi: <@U04MGT65NQJ> <@U0171SJF00H> I was checking monthly builds for AutoSD and I cannot see the monthly build in webserver <https://autosd.sig.centos.org/AutoSD-9/monthly/>, although I can see it in S3 bucket. Do you have any idea?
[2025-08-07T09:03:34.715589] Roni Eliezer: :wave:<@U04MGT65NQJ>, <@U04QNH25QA1> wants to add a new project in our gitlab terraform config, but seems like his plan is overwriting some of your recent changes <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/jobs/38397638> thought you might want to check on those before we merge it
[2025-08-06T13:10:23.965189] Roni Eliezer: overall the approach here makes sense, but I might be echo chambering myself, so LMK
[2025-08-06T13:10:13.915099] Roni Eliezer: Vibe coded rhivos-cloudfront <https://gitlab.cee.redhat.com/automotive/pipe-x/infrastructure/-/merge_requests/602/diffs> (at least the first part of it, there's other MRs) (<@U04MGT65NQJ> if you can take a look)
[2025-08-05T11:22:35.718849] Roni Eliezer: We still need to send this out to a wider audience to have people self-report ownership before we start the rotation
[2025-08-05T11:22:20.480219] Roni Eliezer: Tab 3  "Access Key Issues" even highlights best guess owners
[2025-08-05T11:21:40.215429] Roni Eliezer: Looks like a bulk of the work was done for us WRT IAM auditing
[2025-08-05T11:21:20.377649] Roni Eliezer: <@U04MGT65NQJ> <https://docs.google.com/spreadsheets/d/1NN1dFDUh789_u1qV7afXROAXiLdfD1AiGmZymligKO0/edit?usp=sharing>
[2025-08-04T08:39:05.776569] Unknown User: Aha, thank you.
[2025-08-03T21:04:52.581289] Roni Eliezer: <@U04AXB4GK52> <@U04JRTQ4LHK> there's an email CC'd to you in your inboxes, looks like a contcert token for JIRA created in the auto-cki-bot account is about to expire, double-messaging just in case, also thanks <@U04MGT65NQJ> for spotting it (my filters are too good and it got thrown away into a labeleld drawer)
[2025-07-31T15:09:00.640959] Unknown User: Please don't touch it right now as Sergei is running validators
[2025-07-31T15:05:23.344479] Eitan Raviv: the size of?
[2025-07-31T15:04:25.105529] Roni Eliezer: can we increase the size? i hope the bottleneck isn't the s3 fs mount from goofys
[2025-07-31T15:01:56.017489] Eitan Raviv: I think the container is facing a load issue with both FoA accessing it and a heavy load from QE download right now (the one Priyanka asked to help me with). I am trying to figure out where the bottleneck is exactly
[2025-07-31T15:00:55.243319] Luigi Pellecchia: I know you are busy with many other incoming requests as well and thank you both Eitan and Hubert for all your hard work so far :pray:
[2025-07-31T14:59:48.594219] Luigi Pellecchia: <@U04MGT65NQJ> <@U0171SJF00H> can we drop all the rest of the work and give the RHIVOS webserver attention and priority so it's fixed for good ?
All the rest can wait until this is resolved.
[2025-07-31T14:49:55.445389] Unknown User: <@U020YLADEKA> FYI
